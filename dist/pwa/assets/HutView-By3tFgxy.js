import{Q as D,g as $}from"./imageService-DIxj2KF3.js";import{u as P}from"./use-quasar-415xKi-7.js";import{d as k,c as N,r as z,ar as A,a9 as L,al as F,f as Q,ab as V,am as b,aE as T,ah as W,an as B,aF as M,aG as G,a8 as J}from"./index-k2nJyIQc.js";import"./_commonjsHelpers-C4iS2aBk.js";const K={"Content-Type":"application/json"},X=/\{[^{}]+\}/g;function Y(a){let{baseUrl:t="",fetch:e=globalThis.fetch,querySerializer:s,bodySerializer:r,headers:n,...o}={...a};t.endsWith("/")&&(t=t.substring(0,t.length-1)),n=C(K,n);const l=[];async function f(c,i){let{fetch:m=e,headers:H,params:R={},parseAs:j="json",querySerializer:w,bodySerializer:v=r??ee,...U}=i||{},_=typeof s=="function"?s:q(s);w&&(_=typeof w=="function"?w:q({...typeof s=="object"?s:{},...w}));const p={redirect:"follow",...o,...U,headers:C(n,H,R.header)};p.body&&(p.body=v(p.body)),p.body instanceof FormData&&p.headers.delete("Content-Type");let y=new Request(te(c,{baseUrl:t,params:R,querySerializer:_}),p);const E={baseUrl:t,fetch:m,parseAs:j,querySerializer:_,bodySerializer:v};for(const d of l)if(d&&typeof d=="object"&&typeof d.onRequest=="function"){y.schemaPath=c,y.params=R;const h=await d.onRequest(y,E);if(h){if(!(h instanceof Request))throw new Error("Middleware must return new Request() when modifying the request");y=h}}let u=await m(y);for(let d=l.length-1;d>=0;d--){const h=l[d];if(h&&typeof h=="object"&&typeof h.onResponse=="function"){const S=await h.onResponse(u,E);if(S){if(!(S instanceof Response))throw new Error("Middleware must return new Response() when modifying the response");u=S}}}if(u.status===204||u.headers.get("Content-Length")==="0")return u.ok?{data:{},response:u}:{error:{},response:u};if(u.ok)return j==="stream"?{data:u.body,response:u}:{data:await u[j](),response:u};let x=await u.text();try{x=JSON.parse(x)}catch{}return{error:x,response:u}}return{async GET(c,i){return f(c,{...i,method:"GET"})},async PUT(c,i){return f(c,{...i,method:"PUT"})},async POST(c,i){return f(c,{...i,method:"POST"})},async DELETE(c,i){return f(c,{...i,method:"DELETE"})},async OPTIONS(c,i){return f(c,{...i,method:"OPTIONS"})},async HEAD(c,i){return f(c,{...i,method:"HEAD"})},async PATCH(c,i){return f(c,{...i,method:"PATCH"})},async TRACE(c,i){return f(c,{...i,method:"TRACE"})},use(...c){for(const i of c)if(i){if(typeof i!="object"||!("onRequest"in i||"onResponse"in i))throw new Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");l.push(i)}},eject(...c){for(const i of c){const m=l.indexOf(i);m!==-1&&l.splice(m,1)}}}}function g(a,t,e){if(t==null)return"";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${a}=${e?.allowReserved===!0?t:encodeURIComponent(t)}`}function O(a,t,e){if(!t||typeof t!="object")return"";const s=[],r={simple:",",label:".",matrix:";"}[e.style]||"&";if(e.style!=="deepObject"&&e.explode===!1){for(const l in t)s.push(l,e.allowReserved===!0?t[l]:encodeURIComponent(t[l]));const o=s.join(",");switch(e.style){case"form":return`${a}=${o}`;case"label":return`.${o}`;case"matrix":return`;${a}=${o}`;default:return o}}for(const o in t){const l=e.style==="deepObject"?`${a}[${o}]`:o;s.push(g(l,t[o],e))}const n=s.join(r);return e.style==="label"||e.style==="matrix"?`${r}${n}`:n}function I(a,t,e){if(!Array.isArray(t))return"";if(e.explode===!1){const n={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[e.style]||",",o=(e.allowReserved===!0?t:t.map(l=>encodeURIComponent(l))).join(n);switch(e.style){case"simple":return o;case"label":return`.${o}`;case"matrix":return`;${a}=${o}`;case"spaceDelimited":case"pipeDelimited":default:return`${a}=${o}`}}const s={simple:",",label:".",matrix:";"}[e.style]||"&",r=[];for(const n of t)e.style==="simple"||e.style==="label"?r.push(e.allowReserved===!0?n:encodeURIComponent(n)):r.push(g(a,n,e));return e.style==="label"||e.style==="matrix"?`${s}${r.join(s)}`:r.join(s)}function q(a){return function(e){const s=[];if(e&&typeof e=="object")for(const r in e){const n=e[r];if(n!=null){if(Array.isArray(n)){s.push(I(r,n,{style:"form",explode:!0,...a?.array,allowReserved:a?.allowReserved||!1}));continue}if(typeof n=="object"){s.push(O(r,n,{style:"deepObject",explode:!0,...a?.object,allowReserved:a?.allowReserved||!1}));continue}s.push(g(r,n,a))}}return s.join("&")}}function Z(a,t){let e=a;for(const s of a.match(X)??[]){let r=s.substring(1,s.length-1),n=!1,o="simple";if(r.endsWith("*")&&(n=!0,r=r.substring(0,r.length-1)),r.startsWith(".")?(o="label",r=r.substring(1)):r.startsWith(";")&&(o="matrix",r=r.substring(1)),!t||t[r]===void 0||t[r]===null)continue;const l=t[r];if(Array.isArray(l)){e=e.replace(s,I(r,l,{style:o,explode:n}));continue}if(typeof l=="object"){e=e.replace(s,O(r,l,{style:o,explode:n}));continue}if(o==="matrix"){e=e.replace(s,`;${g(r,l)}`);continue}e=e.replace(s,o==="label"?`.${l}`:l)}return e}function ee(a){return JSON.stringify(a)}function te(a,t){let e=`${t.baseUrl}${a}`;t.params?.path&&(e=Z(e,t.params.path));let s=t.querySerializer(t.params.query??{});return s.startsWith("?")&&(s=s.substring(1)),s&&(e+=`?${s}`),e}function C(...a){const t=new Headers;for(const e of a){if(!e||typeof e!="object")continue;const s=e instanceof Headers?e.entries():Object.entries(e);for(const[r,n]of s)if(n===null)t.delete(r);else if(Array.isArray(n))for(const o of n)t.append(r,o);else n!==void 0&&t.set(r,n)}return t}const re=Y({baseUrl:"https://api.wodore.com"}),se=a=>(M("data-v-e2438b62"),a=a(),G(),a),ne={key:0},ae=se(()=>b("div",{class:"card-header absolute-bottom"},null,-1)),oe={class:"col no-wrap items-center"},ie=["href"],le={style:{"font-size":"8pt"}},ce="https://cdn.pixabay.com/photo/2020/07/20/21/49/moist-5424448_1280.jpg",ue=k({__name:"HutView",props:{slug:{}},setup(a){const t=P(),e=N(()=>t.screen.xs),s=a,r=z(null);A(()=>{s.slug&&re.GET("/v1/huts/{slug}",{params:{path:{slug:s.slug}}}).then(({data:o})=>{o&&(r.value=o)})});const n=z("");return A(()=>{r.value?.photos?n.value=$(r.value?.photos,{size:"600x400",smart:!0,fit:!0}):n.value=$(ce,{size:"600x400",smart:!0,fit:!0,filters:["blur(4)"]})}),(o,l)=>r.value?(L(),F("div",ne,[Q(D,{src:n.value},{default:V(()=>[ae,b("div",{class:B(["absolute-bottom text-accent-400 text-center card-header__text",{"text-h5":e.value,"text-h4":!e.value}])},T(r.value.name),3)]),_:1},8,["src"]),b("div",oe,[b("a",{href:r.value.photos,targe:"_blank"},"original photo",8,ie),b("pre",le,T(r.value),1)])])):W("",!0)}}),me=J(ue,[["__scopeId","data-v-e2438b62"],["__file","HutView.vue"]]);export{me as default};
