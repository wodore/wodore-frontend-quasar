import{c as B,g as $,i as A,h as k,r as P,aD as ne,j as i,w as q,p as N,aE as le,s as g,x as R,_ as ye,D as be,F as xe,G as pe,ap as we,Q as qe,u as Se,a as Pe,ab as Ce,aF as Te,d as _e,e as ze,aG as ke,f as Be,ac as Qe,k as He,aH as Fe,ay as $e,aI as Le,az as Oe,aJ as Z,aK as Re,aL as Ee,v as E,Y as Ve,aM as Ke,aN as De,aO as Me,am as We,aw as Ae,aP as Ne,aQ as Ie,aR as Ue,aS as je,aT as se,aU as Ge,aV as W,ar as L,as as Je}from"./index-D1cpBYhg.js";import{Q as O,a as Ye}from"./QScrollObserver-a9jksypm.js";import{u as Xe,v as ee,c as Ze,d as et,a as tt,p as te,r as oe,s as ot,e as at}from"./huts-store-rDUcwe5f.js";const ut=B({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:c,emit:r}){const{proxy:{$q:n}}=$(),t=A(R,k);if(t===k)return console.error("QFooter needs to be child of QLayout"),k;const u=P(parseInt(e.heightHint,10)),d=P(!0),S=P(ne.value===!0||t.isContainer.value===!0?0:window.innerHeight),m=i(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||n.platform.is.ios&&t.isContainer.value===!0),v=i(()=>t.isContainer.value===!0?t.containerHeight.value:S.value),p=i(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return d.value===!0?u.value:0;const o=t.scroll.value.position+v.value+u.value-t.height.value;return o>0?o:0}),w=i(()=>e.modelValue!==!0||m.value===!0&&d.value!==!0),C=i(()=>e.modelValue===!0&&w.value===!0&&e.reveal===!0),y=i(()=>"q-footer q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(w.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(m.value!==!0?" hidden":""):"")),_=i(()=>{const o=t.rows.value.bottom,f={};return o[0]==="l"&&t.left.space===!0&&(f[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),o[2]==="r"&&t.right.space===!0&&(f[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),f});function b(o,f){t.update("footer",o,f)}function T(o,f){o.value!==f&&(o.value=f)}function z({height:o}){T(u,o),b("size",o)}function a(){if(e.reveal!==!0)return;const{direction:o,position:f,inflectionPoint:h}=t.scroll.value;T(d,o==="up"||f-h<100||t.height.value-v.value-f-u.value<300)}function x(o){C.value===!0&&T(d,!0),r("focusin",o)}q(()=>e.modelValue,o=>{b("space",o),T(d,!0),t.animate()}),q(p,o=>{b("offset",o)}),q(()=>e.reveal,o=>{o===!1&&T(d,e.modelValue)}),q(d,o=>{t.animate(),r("reveal",o)}),q([u,t.scroll,t.height],a),q(()=>n.screen.height,o=>{t.isContainer.value!==!0&&T(S,o)});const s={};return t.instances.footer=s,e.modelValue===!0&&b("size",u.value),b("space",e.modelValue),b("offset",p.value),N(()=>{t.instances.footer===s&&(t.instances.footer=void 0,b("size",0),b("offset",0),b("space",!1))}),()=>{const o=le(c.default,[g(O,{debounce:0,onResize:z})]);return e.elevated===!0&&o.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),g("footer",{class:y.value,style:_.value,onFocusin:x},o)}}}),nt={};function lt(e,c){return be(),xe(qe,{flat:"",dense:"",round:"",size:"lg",class:"text-icon",icon:"eva-alert-triangle"},{default:pe(()=>[we(e.$slots,"default")]),_:3})}const ct=ye(nt,[["render",lt],["__file","WdToolbarButton.vue"]]),dt=B({name:"QMenu",inheritAttrs:!1,props:{...Xe,...Se,...Pe,...Ce,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ee},self:{type:String,validator:ee},offset:{type:Array,validator:Ze},scrollTarget:Te,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[..._e,"click","escapeKey"],setup(e,{slots:c,emit:r,attrs:n}){let t=null,u,d,S;const m=$(),{proxy:v}=m,{$q:p}=v,w=P(null),C=P(!1),y=i(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),_=ze(e,p),{registerTick:b,removeTick:T}=ke(),{registerTimeout:z}=Be(),{transitionProps:a,transitionStyle:x}=Qe(e),{localScrollTarget:s,changeScrollEvent:o,unconfigureScrollTarget:f}=et(e,Y),{anchorEl:h,canShow:Q}=tt({showing:C}),{hide:H}=He({showing:C,canShow:Q,handleShow:de,handleHide:fe,hideOnRouteChange:y,processOnMount:!0}),{showPortal:I,hidePortal:U,renderPortal:re}=Fe(m,w,he,"menu"),V={anchorEl:h,innerRef:w,onClickOutside(l){if(e.persistent!==!0&&C.value===!0)return H(l),(l.type==="touchstart"||l.target.classList.contains("q-dialog__backdrop"))&&We(l),!0}},j=i(()=>te(e.anchor||(e.cover===!0?"center middle":"bottom start"),p.lang.rtl)),ie=i(()=>e.cover===!0?j.value:te(e.self||"top start",p.lang.rtl)),ue=i(()=>(e.square===!0?" q-menu--square":"")+(_.value===!0?" q-menu--dark q-dark":"")),ce=i(()=>e.autoClose===!0?{onClick:ve}:{}),G=i(()=>C.value===!0&&e.persistent!==!0);q(G,l=>{l===!0?(Ke(D),at(V)):(Z(D),oe(V))});function K(){De(()=>{let l=w.value;l&&l.contains(document.activeElement)!==!0&&(l=l.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||l.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||l.querySelector("[autofocus], [data-autofocus]")||l,l.focus({preventScroll:!0}))})}function de(l){if(t=e.noRefocus===!1?document.activeElement:null,$e(X),I(),Y(),u=void 0,l!==void 0&&(e.touchPosition||e.contextMenu)){const M=Le(l);if(M.left!==void 0){const{top:ge,left:me}=h.value.getBoundingClientRect();u={left:M.left-me,top:M.top-ge}}}d===void 0&&(d=q(()=>p.screen.width+"|"+p.screen.height+"|"+e.self+"|"+e.anchor+"|"+p.lang.rtl,F)),e.noFocus!==!0&&document.activeElement.blur(),b(()=>{F(),e.noFocus!==!0&&K()}),z(()=>{p.platform.is.ios===!0&&(S=e.autoClose,w.value.click()),F(),I(!0),r("show",l)},e.transitionDuration)}function fe(l){T(),U(),J(!0),t!==null&&(l===void 0||l.qClickOutside!==!0)&&(((l&&l.type.indexOf("key")===0?t.closest('[tabindex]:not([tabindex^="-"])'):void 0)||t).focus(),t=null),z(()=>{U(!0),r("hide",l)},e.transitionDuration)}function J(l){u=void 0,d!==void 0&&(d(),d=void 0),(l===!0||C.value===!0)&&(Oe(X),f(),oe(V),Z(D)),l!==!0&&(t=null)}function Y(){(h.value!==null||e.scrollTarget!==void 0)&&(s.value=Re(h.value,e.scrollTarget),o(s.value,F))}function ve(l){S!==!0?(Ee(v,l),r("click",l)):S=!1}function X(l){G.value===!0&&e.noFocus!==!0&&Me(w.value,l.target)!==!0&&K()}function D(l){r("escapeKey"),H(l)}function F(){ot({targetEl:w.value,offset:e.offset,anchorEl:h.value,anchorOrigin:j.value,selfOrigin:ie.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function he(){return g(Ve,a.value,()=>C.value===!0?g("div",{role:"menu",...n,ref:w,tabindex:-1,class:["q-menu q-position-engine scroll"+ue.value,n.class],style:[n.style,x.value],...ce.value},E(c.default)):null)}return N(J),Object.assign(v,{focus:K,updatePosition:F}),re}});function ae(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const c=parseInt(e,10);return isNaN(c)?0:c}const ft=Ae({name:"close-popup",beforeMount(e,{value:c}){const r={depth:ae(c),handler(n){r.depth!==0&&setTimeout(()=>{const t=Ne(e);t!==void 0&&Ie(t,n,r.depth)})},handlerKey(n){Ue(n,13)===!0&&r.handler(n)}};e.__qclosepopup=r,e.addEventListener("click",r.handler),e.addEventListener("keyup",r.handlerKey)},updated(e,{value:c,oldValue:r}){c!==r&&(e.__qclosepopup.depth=ae(c))},beforeUnmount(e){const c=e.__qclosepopup;e.removeEventListener("click",c.handler),e.removeEventListener("keyup",c.handlerKey),delete e.__qclosepopup}}),vt=B({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:c}){const r=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>g("div",{class:r.value},E(c.default))}}),ht=B({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:c}){const r=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>g("div",{class:r.value,role:"toolbar"},E(c.default))}}),gt=B({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:c,emit:r}){const{proxy:{$q:n}}=$(),t=A(R,k);if(t===k)return console.error("QHeader needs to be child of QLayout"),k;const u=P(parseInt(e.heightHint,10)),d=P(!0),S=i(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||n.platform.is.ios&&t.isContainer.value===!0),m=i(()=>{if(e.modelValue!==!0)return 0;if(S.value===!0)return d.value===!0?u.value:0;const a=u.value-t.scroll.value.position;return a>0?a:0}),v=i(()=>e.modelValue!==!0||S.value===!0&&d.value!==!0),p=i(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),w=i(()=>"q-header q-layout__section--marginal "+(S.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),C=i(()=>{const a=t.rows.value.top,x={};return a[0]==="l"&&t.left.space===!0&&(x[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(x[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),x});function y(a,x){t.update("header",a,x)}function _(a,x){a.value!==x&&(a.value=x)}function b({height:a}){_(u,a),y("size",a)}function T(a){p.value===!0&&_(d,!0),r("focusin",a)}q(()=>e.modelValue,a=>{y("space",a),_(d,!0),t.animate()}),q(m,a=>{y("offset",a)}),q(()=>e.reveal,a=>{a===!1&&_(d,e.modelValue)}),q(d,a=>{t.animate(),r("reveal",a)}),q(t.scroll,a=>{e.reveal===!0&&_(d,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const z={};return t.instances.header=z,e.modelValue===!0&&y("size",u.value),y("space",e.modelValue),y("offset",m.value),N(()=>{t.instances.header===z&&(t.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const a=je(c.default,[]);return e.elevated===!0&&a.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(g(O,{debounce:0,onResize:b})),g("header",{class:w.value,style:C.value,onFocusin:T},a)}}}),mt=B({name:"QPageContainer",setup(e,{slots:c}){const{proxy:{$q:r}}=$(),n=A(R,k);if(n===k)return console.error("QPageContainer needs to be child of QLayout"),k;se(Ge,!0);const t=i(()=>{const u={};return n.header.space===!0&&(u.paddingTop=`${n.header.size}px`),n.right.space===!0&&(u[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(u.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(u[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),u});return()=>g("div",{class:"q-page-container",style:t.value},E(c.default))}}),yt=B({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:c,emit:r}){const{proxy:{$q:n}}=$(),t=P(null),u=P(n.screen.height),d=P(e.container===!0?0:n.screen.width),S=P({position:0,direction:"down",inflectionPoint:0}),m=P(0),v=P(ne.value===!0?0:W()),p=i(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),w=i(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),C=i(()=>v.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),y=i(()=>v.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function _(s){if(e.container===!0||document.qScrollPrevented!==!0){const o={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};S.value=o,e.onScroll!==void 0&&r("scroll",o)}}function b(s){const{height:o,width:f}=s;let h=!1;u.value!==o&&(h=!0,u.value=o,e.onScrollHeight!==void 0&&r("scrollHeight",o),z()),d.value!==f&&(h=!0,d.value=f),h===!0&&e.onResize!==void 0&&r("resize",s)}function T({height:s}){m.value!==s&&(m.value=s,z())}function z(){if(e.container===!0){const s=u.value>m.value?W():0;v.value!==s&&(v.value=s)}}let a=null;const x={instances:{},view:i(()=>e.view),isContainer:i(()=>e.container),rootRef:t,height:u,containerHeight:m,scrollbarWidth:v,totalWidth:i(()=>d.value+v.value),rows:i(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:L({size:0,offset:0,space:!1}),right:L({size:300,offset:0,space:!1}),footer:L({size:0,offset:0,space:!1}),left:L({size:300,offset:0,space:!1}),scroll:S,animate(){a!==null?clearTimeout(a):document.body.classList.add("q-body--layout-animate"),a=setTimeout(()=>{a=null,document.body.classList.remove("q-body--layout-animate")},155)},update(s,o,f){x[s][o]=f}};if(se(R,x),W()>0){let s=function(){h=null,Q.classList.remove("hide-scrollbar")},o=function(){if(h===null){if(Q.scrollHeight>n.screen.height)return;Q.classList.add("hide-scrollbar")}else clearTimeout(h);h=setTimeout(s,300)},f=function(H){h!==null&&H==="remove"&&(clearTimeout(h),s()),window[`${H}EventListener`]("resize",o)},h=null;const Q=document.body;q(()=>e.container!==!0?"add":"remove",f),e.container!==!0&&f("add"),Je(()=>{f("remove")})}return()=>{const s=le(c.default,[g(Ye,{onScroll:_}),g(O,{onResize:b})]),o=g("div",{class:p.value,style:w.value,ref:e.container===!0?void 0:t,tabindex:-1},s);return e.container===!0?g("div",{class:"q-layout-container overflow-hidden",ref:t},[g(O,{onResize:T}),g("div",{class:"absolute-full",style:C.value},[g("div",{class:"scroll",style:y.value},[o])])]):o}}});export{ft as C,ut as Q,ct as _,dt as a,yt as b,ht as c,vt as d,gt as e,mt as f};
