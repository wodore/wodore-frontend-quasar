import{c as Re,u as ra,a as gt,d as ua,g as Ue,e as yt,f as sa,i as Aa,h as it,r as O,j as f,k as ia,l as za,w as P,o as wt,n as at,m as bt,p as Mt,q as _,s as Ft,t as Dt,v as La,x as Wa,y as Ie,z as ca,A as da,B as fa,C as Z,D as Fe,E as de,F as W,G as je,H as T,Q as J,I as Ye,J as he,K as va,L as Na,_ as Pe,M as pt,N as Qa,P as ma,O as Ra,R as ha,S as Ua,T as Za,U as Ka,V as Ve,W as Xa,X as Ja,Y as Ga,Z as en,$ as tn,a0 as an,a1 as nn,a2 as on,a3 as ln,a4 as jt,a5 as rn,a6 as un,a7 as sn,a8 as cn,a9 as dn,aa as fn,ab as vn,ac as ga,ad as mn,ae as hn,af as gn,ag as yn,ah as wn,ai as ya,aj as It,ak as wa,al as bn,am as ba,an as Pt,ao as Et}from"./index-CVmp6TxT.js";import{T as et,b as Ne,Q as Mn,_ as Ma,p as V,c as Dn,a as pn,d as At,e as zt,f as _n,g as xn}from"./QLayout-sgAkaEf9.js";import{u as Ze}from"./use-quasar-B4zkqALG.js";import{Q as kn,u as Da,v as Lt,a as Cn,b as Sn,c as pa,p as Wt,r as Nt,s as qn,d as Yn,e as Qt}from"./huts-store-BAzcRwV0.js";import"./use-hydration-hVr7YZga.js";const Rt=150,_a=Re({name:"QDrawer",inheritAttrs:!1,props:{...ra,...gt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...ua,"onLayout","miniState"],setup(e,{slots:a,emit:r,attrs:n}){const l=Ue(),{proxy:{$q:u}}=l,d=yt(e,u),{preventBodyScroll:i}=Wa(),{registerTimeout:y,removeTimeout:q}=sa(),s=Aa(La,it);if(s===it)return console.error("QDrawer needs to be child of QLayout"),it;let g,x=null,Y;const D=O(e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint),w=f(()=>e.mini===!0&&D.value!==!0),p=f(()=>w.value===!0?e.miniWidth:e.width),k=O(e.showIfAbove===!0&&D.value===!1?!0:e.modelValue===!0),fe=f(()=>e.persistent!==!0&&(D.value===!0||De.value===!0));function B(v,$){if(ne(),v!==!1&&s.animate(),R(0),D.value===!0){const U=s.instances[re.value];U!==void 0&&U.belowBreakpoint===!0&&U.hide(!1),te(1),s.isContainer.value!==!0&&i(!0)}else te(0),v!==!1&&He(!1);y(()=>{v!==!1&&He(!0),$!==!0&&r("show",v)},Rt)}function b(v,$){Me(),v!==!1&&s.animate(),te(0),R(I.value*p.value),ze(),$!==!0?y(()=>{r("hide",v)},Rt):q()}const{show:A,hide:le}=ia({showing:k,hideOnRouteChange:fe,handleShow:B,handleHide:b}),{addToHistory:ne,removeFromHistory:Me}=za(k,le,fe),oe={belowBreakpoint:D,hide:le},N=f(()=>e.side==="right"),I=f(()=>(u.lang.rtl===!0?-1:1)*(N.value===!0?1:-1)),$e=O(0),L=O(!1),G=O(!1),ve=O(p.value*I.value),re=f(()=>N.value===!0?"left":"right"),Q=f(()=>k.value===!0&&D.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:p.value:0),ee=f(()=>e.overlay===!0||e.miniToOverlay===!0||s.view.value.indexOf(N.value?"R":"L")!==-1||u.platform.is.ios===!0&&s.isContainer.value===!0),K=f(()=>e.overlay===!1&&k.value===!0&&D.value===!1),De=f(()=>e.overlay===!0&&k.value===!0&&D.value===!1),me=f(()=>"fullscreen q-drawer__backdrop"+(k.value===!1&&L.value===!1?" hidden":"")),pe=f(()=>({backgroundColor:`rgba(0,0,0,${$e.value*.4})`})),_e=f(()=>N.value===!0?s.rows.value.top[2]==="r":s.rows.value.top[0]==="l"),Ee=f(()=>N.value===!0?s.rows.value.bottom[2]==="r":s.rows.value.bottom[0]==="l"),xe=f(()=>{const v={};return s.header.space===!0&&_e.value===!1&&(ee.value===!0?v.top=`${s.header.offset}px`:s.header.space===!0&&(v.top=`${s.header.size}px`)),s.footer.space===!0&&Ee.value===!1&&(ee.value===!0?v.bottom=`${s.footer.offset}px`:s.footer.space===!0&&(v.bottom=`${s.footer.size}px`)),v}),ue=f(()=>{const v={width:`${p.value}px`,transform:`translateX(${ve.value}px)`};return D.value===!0?v:Object.assign(v,xe.value)}),se=f(()=>"q-drawer__content fit "+(s.isContainer.value!==!0?"scroll":"overflow-auto")),Ae=f(()=>`q-drawer q-drawer--${e.side}`+(G.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(d.value===!0?" q-drawer--dark q-dark":"")+(L.value===!0?" no-transition":k.value===!0?"":" q-layout--prevent-focus")+(D.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${w.value===!0?"mini":"standard"}`+(ee.value===!0||K.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(_e.value===!0?" q-drawer--top-padding":""))),C=f(()=>{const v=u.lang.rtl===!0?e.side:re.value;return[[et,X,void 0,{[v]:!0,mouse:!0}]]}),ke=f(()=>{const v=u.lang.rtl===!0?re.value:e.side;return[[et,Ke,void 0,{[v]:!0,mouse:!0}]]}),z=f(()=>{const v=u.lang.rtl===!0?re.value:e.side;return[[et,Ke,void 0,{[v]:!0,mouse:!0,mouseAllDir:!0}]]});function E(){Xe(D,e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint)}P(D,v=>{v===!0?(g=k.value,k.value===!0&&le(!1)):e.overlay===!1&&e.behavior!=="mobile"&&g!==!1&&(k.value===!0?(R(0),te(0),ze()):A(!1))}),P(()=>e.side,(v,$)=>{s.instances[$]===oe&&(s.instances[$]=void 0,s[$].space=!1,s[$].offset=0),s.instances[v]=oe,s[v].size=p.value,s[v].space=K.value,s[v].offset=Q.value}),P(s.totalWidth,()=>{(s.isContainer.value===!0||document.qScrollPrevented!==!0)&&E()}),P(()=>e.behavior+e.breakpoint,E),P(s.isContainer,v=>{k.value===!0&&i(v!==!0),v===!0&&E()}),P(s.scrollbarWidth,()=>{R(k.value===!0?0:void 0)}),P(Q,v=>{ie("offset",v)}),P(K,v=>{r("onLayout",v),ie("space",v)}),P(N,()=>{R()}),P(p,v=>{R(),Le(e.miniToOverlay,v)}),P(()=>e.miniToOverlay,v=>{Le(v,p.value)}),P(()=>u.lang.rtl,()=>{R()}),P(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Ce(),s.animate())}),P(w,v=>{r("miniState",v)});function R(v){v===void 0?at(()=>{v=k.value===!0?0:p.value,R(I.value*v)}):(s.isContainer.value===!0&&N.value===!0&&(D.value===!0||Math.abs(v)===p.value)&&(v+=I.value*s.scrollbarWidth.value),ve.value=v)}function te(v){$e.value=v}function He(v){const $=v===!0?"remove":s.isContainer.value!==!0?"add":"";$!==""&&document.body.classList[$]("q-body--drawer-toggle")}function Ce(){x!==null&&clearTimeout(x),l.proxy&&l.proxy.$el&&l.proxy.$el.classList.add("q-drawer--mini-animate"),G.value=!0,x=setTimeout(()=>{x=null,G.value=!1,l&&l.proxy&&l.proxy.$el&&l.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function X(v){if(k.value!==!1)return;const $=p.value,U=Ne(v.distance.x,0,$);if(v.isFinal===!0){U>=Math.min(75,$)===!0?A():(s.animate(),te(0),R(I.value*$)),L.value=!1;return}R((u.lang.rtl===!0?N.value!==!0:N.value)?Math.max($-U,0):Math.min(0,U-$)),te(Ne(U/$,0,1)),v.isFirst===!0&&(L.value=!0)}function Ke(v){if(k.value!==!0)return;const $=p.value,U=v.direction===e.side,ge=(u.lang.rtl===!0?U!==!0:U)?Ne(v.distance.x,0,$):0;if(v.isFinal===!0){Math.abs(ge)<Math.min(75,$)===!0?(s.animate(),te(1),R(0)):le(),L.value=!1;return}R(I.value*ge),te(Ne(1-ge/$,0,1)),v.isFirst===!0&&(L.value=!0)}function ze(){i(!1),He(!0)}function ie(v,$){s.update(e.side,v,$)}function Xe(v,$){v.value!==$&&(v.value=$)}function Le(v,$){ie("size",v===!0?e.miniWidth:$)}return s.instances[e.side]=oe,Le(e.miniToOverlay,p.value),ie("space",K.value),ie("offset",Q.value),e.showIfAbove===!0&&e.modelValue!==!0&&k.value===!0&&e["onUpdate:modelValue"]!==void 0&&r("update:modelValue",!0),wt(()=>{r("onLayout",K.value),r("miniState",w.value),g=e.showIfAbove===!0;const v=()=>{(k.value===!0?B:b)(!1,!0)};if(s.totalWidth.value!==0){at(v);return}Y=P(s.totalWidth,()=>{Y(),Y=void 0,k.value===!1&&e.showIfAbove===!0&&D.value===!1?A(!1):v()})}),bt(()=>{Y!==void 0&&Y(),x!==null&&(clearTimeout(x),x=null),k.value===!0&&ze(),s.instances[e.side]===oe&&(s.instances[e.side]=void 0,ie("size",0),ie("offset",0),ie("space",!1))}),()=>{const v=[];D.value===!0&&(e.noSwipeOpen===!1&&v.push(Mt(_("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),C.value)),v.push(Ft("div",{ref:"backdrop",class:me.value,style:pe.value,"aria-hidden":"true",onClick:le},void 0,"backdrop",e.noSwipeBackdrop!==!0&&k.value===!0,()=>z.value)));const $=w.value===!0&&a.mini!==void 0,U=[_("div",{...n,key:""+$,class:[se.value,n.class]},$===!0?a.mini():Dt(a.default))];return e.elevated===!0&&k.value===!0&&U.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v.push(Ft("aside",{ref:"content",class:Ae.value,style:ue.value},U,"contentclose",e.noSwipeClose!==!0&&D.value===!0,()=>ke.value)),_("div",{class:"q-drawer-container"},v)}}}),$n={class:"text-primary-100 absolute-top z-max q-pa-xs",style:{width:"50px"}},Hn={style:{top:"-20px",right:"50px"},class:"text-primary-100 absolute-top-right z-top q-pa-xs"},Tn={style:{"padding-top":"0px"},class:"background--blur scroll shadow-2 fit"},Ut=50,Zt=100,On=Ie({__name:"WdMapContent",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:ca(["close"],["update:modelValue"]),setup(e){const a=Ze(),r=da(e,"modelValue"),n=f(()=>a.screen.lt.md),l=O(window.innerHeight*.4),u=O(window.innerHeight-Ut),d=O(l.value),i=f(()=>d.value+(u.value-d.value)/2),y=f(()=>s.value?"wd-arrow-up-down":l.value<i.value?"wd-arrowhead-up":"wd-arrowhead-down");function q(){l.value<i.value?l.value=u.value:l.value=d.value}const s=O(!1),g=x=>{if(!(x&&x.evt&&x.delta))return;s.value=x.isFinal!==!0;const Y=x.evt.view?x.evt.view?.innerHeight:600;x.direction=="up"&&(l.value<=Y-150?l.value-=x.delta.y:l.value=Y-Ut),x.direction=="down"&&(l.value>=Zt?l.value-=x.delta.y:l.value=Zt),x.isFinal&&(l.value<i.value?d.value=l.value:u.value=l.value)};return(x,Y)=>{const D=fa("router-view");return Z(),Fe(Na,null,[n.value?he("",!0):(Z(),de(_a,{key:0,modelValue:r.value,"onUpdate:modelValue":Y[1]||(Y[1]=w=>r.value=w),side:"right",width:Ye(a).screen.gt.md?460:380,breakpoint:0,class:"shadow-2"},{default:W(()=>[je("div",$n,[T(J,{round:"",dense:"",unelevated:"",color:"accent-100",icon:"wd-close",class:"text-primary-900 q-ma-sm",size:"md",onClick:Y[0]||(Y[0]=w=>x.$emit("close","landscape"))})]),T(D,{name:"content"})]),_:1},8,["modelValue","width"])),T(Mn,{class:"text-black fixed-bottom"},{default:W(()=>[r.value&&n.value?(Z(),Fe("div",{key:0,style:va({"max-height":l.value+"px",height:l.value+"px","padding-top":"0px"})},[je("div",Hn,[Mt(T(J,{round:"",dense:"",unelevated:"",color:"accent-100",icon:y.value,size:"md",class:"text-primary-700",onClick:q},null,8,["icon"]),[[et,g,void 0,{vertical:!0,prevent:!0,mouse:!0}]]),T(J,{round:"",dense:"",unelevated:"",color:"accent-100",icon:"wd-close",class:"q-ml-md text-primary-700",size:"md",onClick:Y[2]||(Y[2]=w=>x.$emit("close","portrait"))})]),je("div",Tn,[T(D,{name:"content"})])],4)):he("",!0)]),_:1})],64)}}}),Bn=Pe(On,[["__file","WdMapContent.vue"]]),Vn=Ie({__name:"WdFeedbackButton",setup(e){const a=Ze(),r=pt();function n(){r.push({name:"feedback"})}return(l,u)=>{const d=Ma;return Z(),de(d,{icon:"wd-message",onClick:n,"aria-label":"Open feedback form"},{default:W(()=>[Ye(a).screen.xs?he("",!0):(Z(),de(kn,{key:0,anchor:"center left",self:"center right"},{default:W(()=>[Qa("Send feedback.")]),_:1}))]),_:1})}}}),Fn=Pe(Vn,[["__file","WdFeedbackButton.vue"]]);function jn(){let e=Object.create(null);return{getCache:(a,r)=>e[a]===void 0?e[a]=typeof r=="function"?r():r:e[a],setCache(a,r){e[a]=r},hasCache(a){return Object.hasOwnProperty.call(e,a)},clearCache(a){a!==void 0?delete e[a]:e=Object.create(null)}}}const be=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function In(e,a,r){return Object.prototype.toString.call(e)==="[object Date]"&&(r=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),zn(_t(e,a,r))}function Kt(e,a,r){return ka(An(e,a,r))}function Pn(e){return En(e)===0}function tt(e,a){return a<=6?31:a<=11||Pn(e)?30:29}function En(e){const a=be.length;let r=be[0],n,l,u,d,i;if(e<r||e>=be[a-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<a&&(n=be[i],l=n-r,!(e<n));i+=1)r=n;return d=e-r,l-d<6&&(d=d-l+j(l+4,33)*33),u=ae(ae(d+1,33)-1,4),u===-1&&(u=4),u}function xa(e,a){const r=be.length,n=e+621;let l=-14,u=be[0],d,i,y,q,s;if(e<u||e>=be[r-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<r&&(d=be[s],i=d-u,!(e<d));s+=1)l=l+j(i,33)*8+j(ae(i,33),4),u=d;q=e-u,l=l+j(q,33)*8+j(ae(q,33)+3,4),ae(i,33)===4&&i-q===4&&(l+=1);const g=j(n,4)-j((j(n,100)+1)*3,4)-150,x=20+l-g;return a||(i-q<6&&(q=q-i+j(i+4,33)*33),y=ae(ae(q+1,33)-1,4),y===-1&&(y=4)),{leap:y,gy:n,march:x}}function An(e,a,r){const n=xa(e,!0);return _t(n.gy,3,n.march)+(a-1)*31-j(a,7)*(a-7)+r-1}function zn(e){const a=ka(e).gy;let r=a-621,n,l,u;const d=xa(r,!1),i=_t(a,3,d.march);if(u=e-i,u>=0){if(u<=185)return l=1+j(u,31),n=ae(u,31)+1,{jy:r,jm:l,jd:n};u-=186}else r-=1,u+=179,d.leap===1&&(u+=1);return l=7+j(u,30),n=ae(u,30)+1,{jy:r,jm:l,jd:n}}function _t(e,a,r){let n=j((e+j(a-8,6)+100100)*1461,4)+j(153*ae(a+9,12)+2,5)+r-34840408;return n=n-j(j(e+100100+j(a-8,6),100)*3,4)+752,n}function ka(e){let a=4*e+139361631;a=a+j(j(4*e+183187720,146097)*3,4)*4-3908;const r=j(ae(a,1461),4)*5+308,n=j(ae(r,153),5)+1,l=ae(j(r,153),12)+1;return{gy:j(a,1461)-100100+j(8-l,6),gm:l,gd:n}}function j(e,a){return~~(e/a)}function ae(e,a){return e-~~(e/a)*a}const Ln=["gregorian","persian"],Xt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ln.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Wn=["update:modelValue"];function ye(e){return e.year+"/"+V(e.month)+"/"+V(e.day)}function Nn(e,a){const r=f(()=>e.disable!==!0&&e.readonly!==!0),n=f(()=>r.value===!0?0:-1),l=f(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function u(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function d(i){const y=new Date,q=i===!0?null:0;if(e.calendar==="persian"){const s=In(y);return{year:s.jy,month:s.jm,day:s.jd}}return{year:y.getFullYear(),month:y.getMonth()+1,day:y.getDate(),hour:q,minute:q,second:q,millisecond:q}}return{editable:r,tabindex:n,headerClass:l,getLocale:u,getCurrentDate:d}}const Ca=864e5,Qn=36e5,vt=6e4,Sa="YYYY-MM-DDTHH:mm:ss.SSSZ",Rn=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Un=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,ct={};function Zn(e,a){const r="("+a.days.join("|")+")",n=e+r;if(ct[n]!==void 0)return ct[n];const l="("+a.daysShort.join("|")+")",u="("+a.months.join("|")+")",d="("+a.monthsShort.join("|")+")",i={};let y=0;const q=e.replace(Un,g=>{switch(y++,g){case"YY":return i.YY=y,"(-?\\d{1,2})";case"YYYY":return i.YYYY=y,"(-?\\d{1,4})";case"M":return i.M=y,"(\\d{1,2})";case"MM":return i.M=y,"(\\d{2})";case"MMM":return i.MMM=y,d;case"MMMM":return i.MMMM=y,u;case"D":return i.D=y,"(\\d{1,2})";case"Do":return i.D=y++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=y,"(\\d{2})";case"H":return i.H=y,"(\\d{1,2})";case"HH":return i.H=y,"(\\d{2})";case"h":return i.h=y,"(\\d{1,2})";case"hh":return i.h=y,"(\\d{2})";case"m":return i.m=y,"(\\d{1,2})";case"mm":return i.m=y,"(\\d{2})";case"s":return i.s=y,"(\\d{1,2})";case"ss":return i.s=y,"(\\d{2})";case"S":return i.S=y,"(\\d{1})";case"SS":return i.S=y,"(\\d{2})";case"SSS":return i.S=y,"(\\d{3})";case"A":return i.A=y,"(AM|PM)";case"a":return i.a=y,"(am|pm)";case"aa":return i.aa=y,"(a\\.m\\.|p\\.m\\.)";case"ddd":return l;case"dddd":return r;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=y,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=y,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=y,"(-?\\d+)";case"x":return i.x=y,"(-?\\d{4,})";default:return y--,g[0]==="["&&(g=g.substring(1,g.length-1)),g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),s={map:i,regex:new RegExp("^"+q)};return ct[n]=s,s}function qa(e,a){return e!==void 0?e:a!==void 0?a.date:Ra.date}function Jt(e,a=""){const r=e>0?"-":"+",n=Math.abs(e),l=Math.floor(n/60),u=n%60;return r+V(l)+a+V(u)}function Kn(e,a,r){let n=e.getFullYear(),l=e.getMonth();const u=e.getDate();return a.year!==void 0&&(n+=r*a.year,delete a.year),a.month!==void 0&&(l+=r*a.month,delete a.month),e.setDate(1),e.setMonth(2),e.setFullYear(n),e.setMonth(l),e.setDate(Math.min(u,Ct(e))),a.date!==void 0&&(e.setDate(e.getDate()+r*a.date),delete a.date),e}function Xn(e,a,r){const n=a.year!==void 0?a.year:e[`get${r}FullYear`](),l=a.month!==void 0?a.month-1:e[`get${r}Month`](),u=new Date(n,l+1,0).getDate(),d=Math.min(u,a.date!==void 0?a.date:e[`get${r}Date`]());return e[`set${r}Date`](1),e[`set${r}Month`](2),e[`set${r}FullYear`](n),e[`set${r}Month`](l),e[`set${r}Date`](d),delete a.year,delete a.month,delete a.date,e}function xt(e,a,r){const n=Ya(a),l=new Date(e),u=n.year!==void 0||n.month!==void 0||n.date!==void 0?Kn(l,n,r):l;for(const d in n){const i=Dn(d);u[`set${i}`](u[`get${i}`]()+r*n[d])}return u}function Ya(e){const a={...e};return e.years!==void 0&&(a.year=e.years,delete a.years),e.months!==void 0&&(a.month=e.months,delete a.months),e.days!==void 0&&(a.date=e.days,delete a.days),e.day!==void 0&&(a.date=e.day,delete a.day),e.hour!==void 0&&(a.hours=e.hour,delete a.hour),e.minute!==void 0&&(a.minutes=e.minute,delete a.minute),e.second!==void 0&&(a.seconds=e.second,delete a.second),e.millisecond!==void 0&&(a.milliseconds=e.millisecond,delete a.millisecond),a}function $a(e,a,r){const n=Ya(a),l=r===!0?"UTC":"",u=new Date(e),d=n.year!==void 0||n.month!==void 0||n.date!==void 0?Xn(u,n,l):u;for(const i in n){const y=i.charAt(0).toUpperCase()+i.slice(1);d[`set${l}${y}`](n[i])}return d}function Jn(e,a,r){const n=Ha(e,a,r),l=new Date(n.year,n.month===null?null:n.month-1,n.day===null?1:n.day,n.hour,n.minute,n.second,n.millisecond),u=l.getTimezoneOffset();return n.timezoneOffset===null||n.timezoneOffset===u?l:xt(l,{minutes:n.timezoneOffset-u},1)}function Ha(e,a,r,n,l){const u={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(l!==void 0&&Object.assign(u,l),e==null||e===""||typeof e!="string")return u;a===void 0&&(a=Sa);const d=qa(r,ma.props),i=d.months,y=d.monthsShort,{regex:q,map:s}=Zn(a,d),g=e.match(q);if(g===null)return u;let x="";if(s.X!==void 0||s.x!==void 0){const Y=parseInt(g[s.X!==void 0?s.X:s.x],10);if(isNaN(Y)===!0||Y<0)return u;const D=new Date(Y*(s.X!==void 0?1e3:1));u.year=D.getFullYear(),u.month=D.getMonth()+1,u.day=D.getDate(),u.hour=D.getHours(),u.minute=D.getMinutes(),u.second=D.getSeconds(),u.millisecond=D.getMilliseconds()}else{if(s.YYYY!==void 0)u.year=parseInt(g[s.YYYY],10);else if(s.YY!==void 0){const Y=parseInt(g[s.YY],10);u.year=Y<0?Y:2e3+Y}if(s.M!==void 0){if(u.month=parseInt(g[s.M],10),u.month<1||u.month>12)return u}else s.MMM!==void 0?u.month=y.indexOf(g[s.MMM])+1:s.MMMM!==void 0&&(u.month=i.indexOf(g[s.MMMM])+1);if(s.D!==void 0){if(u.day=parseInt(g[s.D],10),u.year===null||u.month===null||u.day<1)return u;const Y=n!=="persian"?new Date(u.year,u.month,0).getDate():tt(u.year,u.month);if(u.day>Y)return u}s.H!==void 0?u.hour=parseInt(g[s.H],10)%24:s.h!==void 0&&(u.hour=parseInt(g[s.h],10)%12,(s.A&&g[s.A]==="PM"||s.a&&g[s.a]==="pm"||s.aa&&g[s.aa]==="p.m.")&&(u.hour+=12),u.hour=u.hour%24),s.m!==void 0&&(u.minute=parseInt(g[s.m],10)%60),s.s!==void 0&&(u.second=parseInt(g[s.s],10)%60),s.S!==void 0&&(u.millisecond=parseInt(g[s.S],10)*10**(3-g[s.S].length)),(s.Z!==void 0||s.ZZ!==void 0)&&(x=s.Z!==void 0?g[s.Z].replace(":",""):g[s.ZZ],u.timezoneOffset=(x[0]==="+"?-1:1)*(60*x.slice(1,3)+1*x.slice(3,5)))}return u.dateHash=V(u.year,6)+"/"+V(u.month)+"/"+V(u.day),u.timeHash=V(u.hour)+":"+V(u.minute)+":"+V(u.second)+x,u}function Gn(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function eo(e,a){return $a(new Date,e,a)}function to(e){const a=new Date(e).getDay();return a===0?7:a}function mt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const r=new Date(a.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);const n=a.getTimezoneOffset()-r.getTimezoneOffset();a.setHours(a.getHours()-n);const l=(a-r)/(Ca*7);return 1+Math.floor(l)}function ao(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function dt(e,a){const r=new Date(e);return a===!0?ao(r):r.getTime()}function no(e,a,r,n={}){const l=dt(a,n.onlyDate),u=dt(r,n.onlyDate),d=dt(e,n.onlyDate);return(d>l||n.inclusiveFrom===!0&&d===l)&&(d<u||n.inclusiveTo===!0&&d===u)}function oo(e,a){return xt(e,a,1)}function lo(e,a){return xt(e,a,-1)}function ce(e,a,r){const n=new Date(e),l=`set${r===!0?"UTC":""}`;switch(a){case"year":case"years":n[`${l}Month`](0);case"month":case"months":n[`${l}Date`](1);case"day":case"days":case"date":n[`${l}Hours`](0);case"hour":case"hours":n[`${l}Minutes`](0);case"minute":case"minutes":n[`${l}Seconds`](0);case"second":case"seconds":n[`${l}Milliseconds`](0)}return n}function ro(e,a,r){const n=new Date(e),l=`set${r===!0?"UTC":""}`;switch(a){case"year":case"years":n[`${l}Month`](11);case"month":case"months":n[`${l}Date`](Ct(n));case"day":case"days":case"date":n[`${l}Hours`](23);case"hour":case"hours":n[`${l}Minutes`](59);case"minute":case"minutes":n[`${l}Seconds`](59);case"second":case"seconds":n[`${l}Milliseconds`](999)}return n}function uo(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(r=>{a=Math.max(a,new Date(r))}),a}function so(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(r=>{a=Math.min(a,new Date(r))}),a}function Ge(e,a,r){return(e.getTime()-e.getTimezoneOffset()*vt-(a.getTime()-a.getTimezoneOffset()*vt))/r}function kt(e,a,r="days"){const n=new Date(e),l=new Date(a);switch(r){case"years":case"year":return n.getFullYear()-l.getFullYear();case"months":case"month":return(n.getFullYear()-l.getFullYear())*12+n.getMonth()-l.getMonth();case"days":case"day":case"date":return Ge(ce(n,"day"),ce(l,"day"),Ca);case"hours":case"hour":return Ge(ce(n,"hour"),ce(l,"hour"),Qn);case"minutes":case"minute":return Ge(ce(n,"minute"),ce(l,"minute"),vt);case"seconds":case"second":return Ge(ce(n,"second"),ce(l,"second"),1e3)}}function ht(e){return kt(e,ce(e,"year"),"days")+1}function io(e){return ha(e)===!0?"date":typeof e=="number"?"number":"string"}function co(e,a,r){const n=new Date(e);if(a){const l=new Date(a);if(n<l)return l}if(r){const l=new Date(r);if(n>l)return l}return n}function fo(e,a,r){const n=new Date(e),l=new Date(a);if(r===void 0)return n.getTime()===l.getTime();switch(r){case"second":case"seconds":if(n.getSeconds()!==l.getSeconds())return!1;case"minute":case"minutes":if(n.getMinutes()!==l.getMinutes())return!1;case"hour":case"hours":if(n.getHours()!==l.getHours())return!1;case"day":case"days":case"date":if(n.getDate()!==l.getDate())return!1;case"month":case"months":if(n.getMonth()!==l.getMonth())return!1;case"year":case"years":if(n.getFullYear()!==l.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${r}`)}return!0}function Ct(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function Gt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const ea={YY(e,a,r){const n=this.YYYY(e,a,r)%100;return n>=0?V(n):"-"+V(Math.abs(n))},YYYY(e,a,r){return r??e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return V(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Gt(this.Q(e))},D(e){return e.getDate()},Do(e){return Gt(e.getDate())},DD(e){return V(e.getDate())},DDD(e){return ht(e)},DDDD(e){return V(ht(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return mt(e)},ww(e){return V(mt(e))},H(e){return e.getHours()},HH(e){return V(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return V(this.h(e))},m(e){return e.getMinutes()},mm(e){return V(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return V(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return V(Math.floor(e.getMilliseconds()/10))},SSS(e){return V(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,r,n){const l=n??e.getTimezoneOffset();return Jt(l,":")},ZZ(e,a,r,n){const l=n??e.getTimezoneOffset();return Jt(l)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ta(e,a,r,n,l){if(e!==0&&!e||e===1/0||e===-1/0)return;const u=new Date(e);if(isNaN(u))return;a===void 0&&(a=Sa);const d=qa(r,ma.props);return a.replace(Rn,(i,y)=>i in ea?ea[i](u,d,n,l):y===void 0?i:y.split("\\]").join("]"))}function vo(e){return ha(e)===!0?new Date(e.getTime()):e}const mo={isValid:Gn,extractDate:Jn,buildDate:eo,getDayOfWeek:to,getWeekOfYear:mt,isBetweenDates:no,addToDate:oo,subtractFromDate:lo,adjustDate:$a,startOfDate:ce,endOfDate:ro,getMaxDate:uo,getMinDate:so,getDateDiff:kt,getDayOfYear:ht,inferDateFormat:io,getDateBetween:co,isSameDate:fo,daysInMonth:Ct,formatDate:Ta,clone:vo},qe=20,ho=["Calendar","Years","Months"],ta=e=>ho.includes(e),ft=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Be=" â€” ";function we(e){return e.year+"/"+V(e.month)}const go=Re({name:"QDate",props:{...Xt,...Ua,...gt,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Xt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:ft},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:ft},navigationMaxYearMonth:{type:String,validator:ft},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:ta}},emits:[...Wn,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:r}){const{proxy:n}=Ue(),{$q:l}=n,u=yt(e,l),{getCache:d}=jn(),{tabindex:i,headerClass:y,getLocale:q,getCurrentDate:s}=Nn(e,l);let g;const x=Za(e),Y=Xa(x),D=O(null),w=O(Yt()),p=O(q()),k=f(()=>Yt()),fe=f(()=>q()),B=f(()=>s()),b=O($t(w.value,p.value)),A=O(e.defaultView),le=f(()=>l.lang.rtl===!0?"right":"left"),ne=O(le.value),Me=O(le.value),oe=b.value.year,N=O(oe-oe%qe-(oe<0?qe:0)),I=O(null),$e=f(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(u.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),L=f(()=>e.color||"primary"),G=f(()=>e.textColor||"white"),ve=f(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),re=f(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),Q=f(()=>re.value.filter(t=>typeof t=="string").map(t=>ot(t,w.value,p.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),ee=f(()=>{const t=o=>ot(o,w.value,p.value);return re.value.filter(o=>Ka(o)===!0&&o.from!==void 0&&o.to!==void 0).map(o=>({from:t(o.from),to:t(o.to)})).filter(o=>o.from.dateHash!==null&&o.to.dateHash!==null&&o.from.dateHash<o.to.dateHash)}),K=f(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const o=Kt(t.year,t.month,t.day);return new Date(o.gy,o.gm-1,o.gd)}),De=f(()=>e.calendar==="persian"?ye:(t,o,c)=>Ta(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),o===void 0?w.value:o,c===void 0?p.value:c,t.year,t.timezoneOffset)),me=f(()=>Q.value.length+ee.value.reduce((t,o)=>t+1+kt(K.value(o.to),K.value(o.from)),0)),pe=f(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(I.value!==null){const c=I.value.init,m=K.value(c);return p.value.daysShort[m.getDay()]+", "+p.value.monthsShort[c.month-1]+" "+c.day+Be+"?"}if(me.value===0)return Be;if(me.value>1)return`${me.value} ${p.value.pluralDay}`;const t=Q.value[0],o=K.value(t);return isNaN(o.valueOf())===!0?Be:p.value.headerTitle!==void 0?p.value.headerTitle(o,t):p.value.daysShort[o.getDay()]+", "+p.value.monthsShort[t.month-1]+" "+t.day}),_e=f(()=>Q.value.concat(ee.value.map(o=>o.from)).sort((o,c)=>o.year-c.year||o.month-c.month)[0]),Ee=f(()=>Q.value.concat(ee.value.map(o=>o.to)).sort((o,c)=>c.year-o.year||c.month-o.month)[0]),xe=f(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(me.value===0)return Be;if(me.value>1){const t=_e.value,o=Ee.value,c=p.value.monthsShort;return c[t.month-1]+(t.year!==o.year?" "+t.year+Be+c[o.month-1]+" ":t.month!==o.month?Be+c[o.month-1]:"")+" "+o.year}return Q.value[0].year}),ue=f(()=>{const t=[l.iconSet.datetime.arrowLeft,l.iconSet.datetime.arrowRight];return l.lang.rtl===!0?t.reverse():t}),se=f(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):p.value.firstDayOfWeek),Ae=f(()=>{const t=p.value.daysShort,o=se.value;return o>0?t.slice(o,7).concat(t.slice(0,o)):t}),C=f(()=>{const t=b.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():tt(t.year,t.month)}),ke=f(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),z=f(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),E=f(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),R=f(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return z.value!==null&&z.value.year>=b.value.year&&(t.year.prev=!1,z.value.year===b.value.year&&z.value.month>=b.value.month&&(t.month.prev=!1)),E.value!==null&&E.value.year<=b.value.year&&(t.year.next=!1,E.value.year===b.value.year&&E.value.month<=b.value.month&&(t.month.next=!1)),t}),te=f(()=>{const t={};return Q.value.forEach(o=>{const c=we(o);t[c]===void 0&&(t[c]=[]),t[c].push(o.day)}),t}),He=f(()=>{const t={};return ee.value.forEach(o=>{const c=we(o.from),m=we(o.to);if(t[c]===void 0&&(t[c]=[]),t[c].push({from:o.from.day,to:c===m?o.to.day:void 0,range:o}),c<m){let h;const{year:H,month:M}=o.from,S=M<12?{year:H,month:M+1}:{year:H+1,month:1};for(;(h=we(S))<=m;)t[h]===void 0&&(t[h]=[]),t[h].push({from:void 0,to:h===m?o.to.day:void 0,range:o}),S.month++,S.month>12&&(S.year++,S.month=1)}}),t}),Ce=f(()=>{if(I.value===null)return;const{init:t,initHash:o,final:c,finalHash:m}=I.value,[h,H]=o<=m?[t,c]:[c,t],M=we(h),S=we(H);if(M!==X.value&&S!==X.value)return;const F={};return M===X.value?(F.from=h.day,F.includeFrom=!0):F.from=1,S===X.value?(F.to=H.day,F.includeTo=!0):F.to=C.value,F}),X=f(()=>we(b.value)),Ke=f(()=>{const t={};if(e.options===void 0){for(let c=1;c<=C.value;c++)t[c]=!0;return t}const o=typeof e.options=="function"?e.options:c=>e.options.includes(c);for(let c=1;c<=C.value;c++){const m=X.value+"/"+V(c);t[c]=o(m)}return t}),ze=f(()=>{const t={};if(e.events===void 0)for(let o=1;o<=C.value;o++)t[o]=!1;else{const o=typeof e.events=="function"?e.events:c=>e.events.includes(c);for(let c=1;c<=C.value;c++){const m=X.value+"/"+V(c);t[c]=o(m)===!0&&ke.value(m)}}return t}),ie=f(()=>{let t,o;const{year:c,month:m}=b.value;if(e.calendar!=="persian")t=new Date(c,m-1,1),o=new Date(c,m-1,0).getDate();else{const h=Kt(c,m,1);t=new Date(h.gy,h.gm-1,h.gd);let H=m-1,M=c;H===0&&(H=12,M--),o=tt(M,H)}return{days:t.getDay()-se.value-1,endDay:o}}),Xe=f(()=>{const t=[],{days:o,endDay:c}=ie.value,m=o<0?o+7:o;if(m<6)for(let M=c-m;M<=c;M++)t.push({i:M,fill:!0});const h=t.length;for(let M=1;M<=C.value;M++){const S={i:M,event:ze.value[M],classes:[]};Ke.value[M]===!0&&(S.in=!0,S.flat=!0),t.push(S)}if(te.value[X.value]!==void 0&&te.value[X.value].forEach(M=>{const S=h+M-1;Object.assign(t[S],{selected:!0,unelevated:!0,flat:!1,color:L.value,textColor:G.value})}),He.value[X.value]!==void 0&&He.value[X.value].forEach(M=>{if(M.from!==void 0){const S=h+M.from-1,F=h+(M.to||C.value)-1;for(let We=S;We<=F;We++)Object.assign(t[We],{range:M.range,unelevated:!0,color:L.value,textColor:G.value});Object.assign(t[S],{rangeFrom:!0,flat:!1}),M.to!==void 0&&Object.assign(t[F],{rangeTo:!0,flat:!1})}else if(M.to!==void 0){const S=h+M.to-1;for(let F=h;F<=S;F++)Object.assign(t[F],{range:M.range,unelevated:!0,color:L.value,textColor:G.value});Object.assign(t[S],{flat:!1,rangeTo:!0})}else{const S=h+C.value-1;for(let F=h;F<=S;F++)Object.assign(t[F],{range:M.range,unelevated:!0,color:L.value,textColor:G.value})}}),Ce.value!==void 0){const M=h+Ce.value.from-1,S=h+Ce.value.to-1;for(let F=M;F<=S;F++)t[F].color=L.value,t[F].editRange=!0;Ce.value.includeFrom===!0&&(t[M].editRangeFrom=!0),Ce.value.includeTo===!0&&(t[S].editRangeTo=!0)}b.value.year===B.value.year&&b.value.month===B.value.month&&(t[h+B.value.day-1].today=!0);const H=t.length%7;if(H>0){const M=7-H;for(let S=1;S<=M;S++)t.push({i:S,fill:!0})}return t.forEach(M=>{let S="q-date__calendar-item ";M.fill===!0?S+="q-date__calendar-item--fill":(S+=`q-date__calendar-item--${M.in===!0?"in":"out"}`,M.range!==void 0&&(S+=` q-date__range${M.rangeTo===!0?"-to":M.rangeFrom===!0?"-from":""}`),M.editRange===!0&&(S+=` q-date__edit-range${M.editRangeFrom===!0?"-from":""}${M.editRangeTo===!0?"-to":""}`),(M.range!==void 0||M.editRange===!0)&&(S+=` text-${M.color}`)),M.classes=S}),t}),Le=f(()=>e.disable===!0?{"aria-disabled":"true"}:{});P(()=>e.modelValue,t=>{if(g===t)g=0;else{const o=$t(w.value,p.value);Te(o.year,o.month,o)}}),P(A,()=>{D.value!==null&&n.$el.contains(document.activeElement)===!0&&D.value.focus()}),P(()=>b.value.year+"|"+b.value.month,()=>{r("navigation",{year:b.value.year,month:b.value.month})}),P(k,t=>{Vt(t,p.value,"mask"),w.value=t}),P(fe,t=>{Vt(w.value,t,"locale"),p.value=t});function v(){const{year:t,month:o,day:c}=B.value,m={...b.value,year:t,month:o,day:c},h=te.value[we(m)];(h===void 0||h.includes(m.day)===!1)&&rt(m),ge(m.year,m.month)}function $(t){ta(t)===!0&&(A.value=t)}function U(t,o){["month","year"].includes(t)&&(t==="month"?Tt:lt)(o===!0?-1:1)}function ge(t,o){A.value="Calendar",Te(t,o)}function qt(t,o){if(e.range===!1||!t){I.value=null;return}const c=Object.assign({...b.value},t),m=o!==void 0?Object.assign({...b.value},o):c;I.value={init:c,initHash:ye(c),final:m,finalHash:ye(m)},ge(c.year,c.month)}function Yt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function ot(t,o,c){return Ha(t,o,c,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function $t(t,o){const c=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(c.length===0)return Ht();const m=c[c.length-1],h=ot(m.from!==void 0?m.from:m,t,o);return h.dateHash===null?Ht():h}function Ht(){let t,o;if(e.defaultYearMonth!==void 0){const c=e.defaultYearMonth.split("/");t=parseInt(c[0],10),o=parseInt(c[1],10)}else{const c=B.value!==void 0?B.value:s();t=c.year,o=c.month}return{year:t,month:o,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+V(o)+"/01"}}function Tt(t){let o=b.value.year,c=Number(b.value.month)+t;c===13?(c=1,o++):c===0&&(c=12,o--),Te(o,c),ve.value===!0&&Je("month")}function lt(t){const o=Number(b.value.year)+t;Te(o,b.value.month),ve.value===!0&&Je("year")}function Ba(t){Te(t,b.value.month),A.value=e.defaultView==="Years"?"Months":"Calendar",ve.value===!0&&Je("year")}function Va(t){Te(b.value.year,t),A.value="Calendar",ve.value===!0&&Je("month")}function Fa(t,o){const c=te.value[o];(c!==void 0&&c.includes(t.day)===!0?ut:rt)(t)}function Se(t){return{year:t.year,month:t.month,day:t.day}}function Te(t,o,c){if(z.value!==null&&t<=z.value.year&&((o<z.value.month||t<z.value.year)&&(o=z.value.month),t=z.value.year),E.value!==null&&t>=E.value.year&&((o>E.value.month||t>E.value.year)&&(o=E.value.month),t=E.value.year),c!==void 0){const{hour:h,minute:H,second:M,millisecond:S,timezoneOffset:F,timeHash:We}=c;Object.assign(b.value,{hour:h,minute:H,second:M,millisecond:S,timezoneOffset:F,timeHash:We})}const m=t+"/"+V(o)+"/01";m!==b.value.dateHash&&(ne.value=b.value.dateHash<m==(l.lang.rtl!==!0)?"left":"right",t!==b.value.year&&(Me.value=ne.value),at(()=>{N.value=t-t%qe-(t<0?qe:0),Object.assign(b.value,{year:t,month:o,day:1,dateHash:m})}))}function Ot(t,o,c){const m=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;g=m;const{reason:h,details:H}=Bt(o,c);r("update:modelValue",m,h,H)}function Je(t){const o=Q.value[0]!==void 0&&Q.value[0].dateHash!==null?{...Q.value[0]}:{...b.value};at(()=>{o.year=b.value.year,o.month=b.value.month;const c=e.calendar!=="persian"?new Date(o.year,o.month,0).getDate():tt(o.year,o.month);o.day=Math.min(Math.max(1,o.day),c);const m=Oe(o);g=m;const{details:h}=Bt("",o);r("update:modelValue",m,t,h)})}function Bt(t,o){return o.from!==void 0?{reason:`${t}-range`,details:{...Se(o.target),from:Se(o.from),to:Se(o.to)}}:{reason:`${t}-day`,details:Se(o)}}function Oe(t,o,c){return t.from!==void 0?{from:De.value(t.from,o,c),to:De.value(t.to,o,c)}:De.value(t,o,c)}function rt(t){let o;if(e.multiple===!0)if(t.from!==void 0){const c=ye(t.from),m=ye(t.to),h=Q.value.filter(M=>M.dateHash<c||M.dateHash>m),H=ee.value.filter(({from:M,to:S})=>S.dateHash<c||M.dateHash>m);o=h.concat(H).concat(t).map(M=>Oe(M))}else{const c=re.value.slice();c.push(Oe(t)),o=c}else o=Oe(t);Ot(o,"add",t)}function ut(t){if(e.noUnset===!0)return;let o=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const c=Oe(t);t.from!==void 0?o=e.modelValue.filter(m=>m.from!==void 0?m.from!==c.from&&m.to!==c.to:!0):o=e.modelValue.filter(m=>m!==c),o.length===0&&(o=null)}Ot(o,"remove",t)}function Vt(t,o,c){const m=Q.value.concat(ee.value).map(h=>Oe(h,t,o)).filter(h=>h.from!==void 0?h.from.dateHash!==null&&h.to.dateHash!==null:h.dateHash!==null);r("update:modelValue",(e.multiple===!0?m:m[0])||null,c)}function ja(){if(e.minimal!==!0)return _("div",{class:"q-date__header "+y.value},[_("div",{class:"relative-position"},[_(Ve,{name:"q-transition--fade"},()=>_("div",{key:"h-yr-"+xe.value,class:"q-date__header-subtitle q-date__header-link "+(A.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...d("vY",{onClick(){A.value="Years"},onKeyup(t){t.keyCode===13&&(A.value="Years")}})},[xe.value]))]),_("div",{class:"q-date__header-title relative-position flex no-wrap"},[_("div",{class:"relative-position col"},[_(Ve,{name:"q-transition--fade"},()=>_("div",{key:"h-sub"+pe.value,class:"q-date__header-title-label q-date__header-link "+(A.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...d("vC",{onClick(){A.value="Calendar"},onKeyup(t){t.keyCode===13&&(A.value="Calendar")}})},[pe.value]))]),e.todayBtn===!0?_(J,{class:"q-date__header-today self-start",icon:l.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:v}):null])])}function st({label:t,type:o,key:c,dir:m,goTo:h,boundaries:H,cls:M}){return[_("div",{class:"row items-center q-date__arrow"},[_(J,{round:!0,dense:!0,size:"sm",flat:!0,icon:ue.value[0],tabindex:i.value,disable:H.prev===!1,...d("go-#"+o,{onClick(){h(-1)}})})]),_("div",{class:"relative-position overflow-hidden flex flex-center"+M},[_(Ve,{name:"q-transition--jump-"+m},()=>_("div",{key:c},[_(J,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:i.value,...d("view#"+o,{onClick:()=>{A.value=o}})})]))]),_("div",{class:"row items-center q-date__arrow"},[_(J,{round:!0,dense:!0,size:"sm",flat:!0,icon:ue.value[1],tabindex:i.value,disable:H.next===!1,...d("go+#"+o,{onClick(){h(1)}})})])]}const Ia={Calendar:()=>[_("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[_("div",{class:"q-date__navigation row items-center no-wrap"},st({label:p.value.months[b.value.month-1],type:"Months",key:b.value.month,dir:ne.value,goTo:Tt,boundaries:R.value.month,cls:" col"}).concat(st({label:b.value.year,type:"Years",key:b.value.year,dir:Me.value,goTo:lt,boundaries:R.value.year,cls:""}))),_("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Ae.value.map(t=>_("div",{class:"q-date__calendar-item"},[_("div",t)]))),_("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[_(Ve,{name:"q-transition--slide-"+ne.value},()=>_("div",{key:X.value,class:"q-date__calendar-days fit"},Xe.value.map(t=>_("div",{class:t.classes},[t.in===!0?_(J,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:i.value,...d("day#"+t.i,{onClick:()=>{Pa(t.i)},onMouseover:()=>{Ea(t.i)}})},t.event!==!1?()=>_("div",{class:"q-date__event bg-"+t.event}):null):_("div",""+t.i)]))))])])],Months(){const t=b.value.year===B.value.year,o=m=>z.value!==null&&b.value.year===z.value.year&&z.value.month>m||E.value!==null&&b.value.year===E.value.year&&E.value.month<m,c=p.value.monthsShort.map((m,h)=>{const H=b.value.month===h+1;return _("div",{class:"q-date__months-item flex flex-center"},[_(J,{class:t===!0&&B.value.month===h+1?"q-date__today":null,flat:H!==!0,label:m,unelevated:H,color:H===!0?L.value:null,textColor:H===!0?G.value:null,tabindex:i.value,disable:o(h+1),...d("month#"+h,{onClick:()=>{Va(h+1)}})})])});return e.yearsInMonthView===!0&&c.unshift(_("div",{class:"row no-wrap full-width"},[st({label:b.value.year,type:"Years",key:b.value.year,dir:Me.value,goTo:lt,boundaries:R.value.year,cls:" col"})])),_("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},c)},Years(){const t=N.value,o=t+qe,c=[],m=h=>z.value!==null&&z.value.year>h||E.value!==null&&E.value.year<h;for(let h=t;h<=o;h++){const H=b.value.year===h;c.push(_("div",{class:"q-date__years-item flex flex-center"},[_(J,{key:"yr"+h,class:B.value.year===h?"q-date__today":null,flat:!H,label:h,dense:!0,unelevated:H,color:H===!0?L.value:null,textColor:H===!0?G.value:null,tabindex:i.value,disable:m(h),...d("yr#"+h,{onClick:()=>{Ba(h)}})})]))}return _("div",{class:"q-date__view q-date__years flex flex-center"},[_("div",{class:"col-auto"},[_(J,{round:!0,dense:!0,flat:!0,icon:ue.value[0],tabindex:i.value,disable:m(t),...d("y-",{onClick:()=>{N.value-=qe}})})]),_("div",{class:"q-date__years-content col self-stretch row items-center"},c),_("div",{class:"col-auto"},[_(J,{round:!0,dense:!0,flat:!0,icon:ue.value[1],tabindex:i.value,disable:m(o),...d("y+",{onClick:()=>{N.value+=qe}})})])])}};function Pa(t){const o={...b.value,day:t};if(e.range===!1){Fa(o,X.value);return}if(I.value===null){const c=Xe.value.find(h=>h.fill!==!0&&h.i===t);if(e.noUnset!==!0&&c.range!==void 0){ut({target:o,from:c.range.from,to:c.range.to});return}if(c.selected===!0){ut(o);return}const m=ye(o);I.value={init:o,initHash:m,final:o,finalHash:m},r("rangeStart",Se(o))}else{const c=I.value.initHash,m=ye(o),h=c<=m?{from:I.value.init,to:o}:{from:o,to:I.value.init};I.value=null,rt(c===m?o:{target:o,...h}),r("rangeEnd",{from:Se(h.from),to:Se(h.to)})}}function Ea(t){if(I.value!==null){const o={...b.value,day:t};Object.assign(I.value,{final:o,finalHash:ye(o)})}}return Object.assign(n,{setToday:v,setView:$,offsetCalendar:U,setCalendarTo:ge,setEditingRange:qt}),()=>{const t=[_("div",{class:"q-date__content col relative-position"},[_(Ve,{name:"q-transition--fade"},Ia[A.value])])],o=Dt(a.default);return o!==void 0&&t.push(_("div",{class:"q-date__actions"},o)),e.name!==void 0&&e.disable!==!0&&Y(t,"push"),_("div",{class:$e.value,...Le.value},[ja(),_("div",{ref:D,class:"q-date__main col column",tabindex:-1},t)])}}}),yo=Re({name:"QMenu",inheritAttrs:!1,props:{...Da,...ra,...gt,...Ja,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Lt},self:{type:String,validator:Lt},offset:{type:Array,validator:Cn},scrollTarget:Ga,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ua,"click","escapeKey"],setup(e,{slots:a,emit:r,attrs:n}){let l=null,u,d,i;const y=Ue(),{proxy:q}=y,{$q:s}=q,g=O(null),x=O(!1),Y=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),D=yt(e,s),{registerTick:w,removeTick:p}=en(),{registerTimeout:k}=sa(),{transitionProps:fe,transitionStyle:B}=tn(e),{localScrollTarget:b,changeScrollEvent:A,unconfigureScrollTarget:le}=Sn(e,_e),{anchorEl:ne,canShow:Me}=pa({showing:x}),{hide:oe}=ia({showing:x,canShow:Me,handleShow:De,handleHide:me,hideOnRouteChange:Y,processOnMount:!0}),{showPortal:N,hidePortal:I,renderPortal:$e}=an(y,g,Ae,"menu"),L={anchorEl:ne,innerRef:g,onClickOutside(C){if(e.persistent!==!0&&x.value===!0)return oe(C),(C.type==="touchstart"||C.target.classList.contains("q-dialog__backdrop"))&&fn(C),!0}},G=f(()=>Wt(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),ve=f(()=>e.cover===!0?G.value:Wt(e.self||"top start",s.lang.rtl)),re=f(()=>(e.square===!0?" q-menu--square":"")+(D.value===!0?" q-menu--dark q-dark":"")),Q=f(()=>e.autoClose===!0?{onClick:Ee}:{}),ee=f(()=>x.value===!0&&e.persistent!==!0);P(ee,C=>{C===!0?(sn(ue),Yn(L)):(jt(ue),Nt(L))});function K(){cn(()=>{let C=g.value;C&&C.contains(document.activeElement)!==!0&&(C=C.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||C.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||C.querySelector("[autofocus], [data-autofocus]")||C,C.focus({preventScroll:!0}))})}function De(C){if(l=e.noRefocus===!1?document.activeElement:null,nn(xe),N(),_e(),u=void 0,C!==void 0&&(e.touchPosition||e.contextMenu)){const ke=on(C);if(ke.left!==void 0){const{top:z,left:E}=ne.value.getBoundingClientRect();u={left:ke.left-E,top:ke.top-z}}}d===void 0&&(d=P(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,se)),e.noFocus!==!0&&document.activeElement.blur(),w(()=>{se(),e.noFocus!==!0&&K()}),k(()=>{s.platform.is.ios===!0&&(i=e.autoClose,g.value.click()),se(),N(!0),r("show",C)},e.transitionDuration)}function me(C){p(),I(),pe(!0),l!==null&&(C===void 0||C.qClickOutside!==!0)&&(((C&&C.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),k(()=>{I(!0),r("hide",C)},e.transitionDuration)}function pe(C){u=void 0,d!==void 0&&(d(),d=void 0),(C===!0||x.value===!0)&&(ln(xe),le(),Nt(L),jt(ue)),C!==!0&&(l=null)}function _e(){(ne.value!==null||e.scrollTarget!==void 0)&&(b.value=rn(ne.value,e.scrollTarget),A(b.value,se))}function Ee(C){i!==!0?(un(q,C),r("click",C)):i=!1}function xe(C){ee.value===!0&&e.noFocus!==!0&&dn(g.value,C.target)!==!0&&K()}function ue(C){r("escapeKey"),oe(C)}function se(){qn({targetEl:g.value,offset:e.offset,anchorEl:ne.value,anchorOrigin:G.value,selfOrigin:ve.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ae(){return _(Ve,fe.value,()=>x.value===!0?_("div",{role:"menu",...n,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+re.value,n.class],style:[n.style,B.value],...Q.value},Dt(a.default)):null)}return bt(pe),Object.assign(q,{focus:K,updatePosition:se}),$e}}),wo=Re({name:"QPopupProxy",props:{...Da,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:r,attrs:n}){const{proxy:l}=Ue(),{$q:u}=l,d=O(!1),i=O(null),y=f(()=>parseInt(e.breakpoint,10)),{canShow:q}=pa({showing:d});function s(){return u.screen.width<y.value||u.screen.height<y.value?"dialog":"menu"}const g=O(s()),x=f(()=>g.value==="menu"?{maxHeight:"99vh"}:{});P(()=>s(),w=>{d.value!==!0&&(g.value=w)});function Y(w){d.value=!0,r("show",w)}function D(w){d.value=!1,g.value=s(),r("hide",w)}return Object.assign(l,{show(w){q(w)===!0&&i.value.show(w)},hide(w){i.value.hide(w)},toggle(w){i.value.toggle(w)}}),vn(l,"currentComponent",()=>({type:g.value,ref:i.value})),()=>{const w={ref:i,...x.value,...n,onShow:Y,onHide:D};let p;return g.value==="dialog"?p=ga:(p=yo,Object.assign(w,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),_(p,w,a.default)}}});function aa(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const a=parseInt(e,10);return isNaN(a)?0:a}const bo=mn({name:"close-popup",beforeMount(e,{value:a}){const r={depth:aa(a),handler(n){r.depth!==0&&setTimeout(()=>{const l=hn(e);l!==void 0&&gn(l,n,r.depth)})},handlerKey(n){yn(n,13)===!0&&r.handler(n)}};e.__qclosepopup=r,e.addEventListener("click",r.handler),e.addEventListener("keyup",r.handlerKey)},updated(e,{value:a,oldValue:r}){a!==r&&(e.__qclosepopup.depth=aa(a))},beforeUnmount(e){const a=e.__qclosepopup;e.removeEventListener("click",a.handler),e.removeEventListener("keyup",a.handlerKey),delete e.__qclosepopup}}),Mo={class:"row items-center justify-end"},Do={id:"select-date-huts-location"},po=Ie({__name:"WdSelectDate",setup(e){const{formatDate:a,addToDate:r}=mo,{selectedDate:n}=wn(Qt()),{removeBookings:l,fetchHutBookingsGeojson:u}=Qt(),d=pt(),i=ya(),y=Ze(),q=f(()=>y.screen.xs),s=O(!1);function g(D){const w=a(Date.now(),"YYYY/MM/DD");return D>=w}function x(D){s.value=!1;let w=Object.assign({},i.query);w.date=D;let p={query:w,hash:i.hash};l(),u({date:D,days:4}),d.push(p)}wt(()=>{n.value===void 0&&(n.value=i.query.date?i.query.date:void 0)}),P(n,(D,w)=>{D!==void 0&&D!=w&&(console.log(`Booking start date changed to '${D}'`),x(D))},{immediate:!0});function Y(){l(),s.value=!1;let D=Object.assign({},i.query);n.value=void 0,delete D.date;let w={query:D};d.push(w)}return(D,w)=>(Z(),Fe("div",{class:ba({"q-ml-md":!q.value,"q-mr-md":!q.value}),style:{"max-width":"130px","max-height":"40px"}},[T(wo,{"no-parent-event":"",offset:[0,4],anchor:"bottom start",target:"#select-date-huts-location",modelValue:s.value,"onUpdate:modelValue":w[2]||(w[2]=p=>s.value=p),breakpoint:"600","transition-show":"jump-down","transition-hide":"jump-up"},{default:W(()=>[je("div",null,[T(go,{modelValue:Ye(n),"onUpdate:modelValue":w[1]||(w[1]=p=>It(n)?n.value=p:null),minimal:"",dark:!q.value,options:g,"first-day-of-week":"1","navigation-min-year-month":Ye(a)(Date.now(),"YYYY/MM"),"navigation-max-year-month":Ye(a)(Ye(r)(Date.now(),{years:2}),"YYYY/MM"),mask:"DD.MM.YY"},{default:W(()=>[je("div",Mo,[T(J,{label:"Reset",color:"secondary",flat:"",onClick:w[0]||(w[0]=p=>Y())}),Mt(T(J,{label:"Close",color:"primary",flat:""},null,512),[[bo]])])]),_:1},8,["modelValue","dark","navigation-min-year-month","navigation-max-year-month"])])]),_:1},8,["modelValue"]),je("div",Do,[T(bn,{id:"menu",readonly:"",modelValue:Ye(n),"onUpdate:modelValue":w[4]||(w[4]=p=>It(n)?n.value=p:null),dense:"",dark:"",standout:"",class:"toolbar-font",onClick:w[5]||(w[5]=p=>s.value=!0)},{append:W(()=>[T(wa,{onClick:w[3]||(w[3]=p=>s.value=!0),name:"wd-calendar",class:"text-icon cursor-pointer",size:"sm"})]),_:1},8,["modelValue"])])],2))}}),_o=Pe(po,[["__scopeId","data-v-7adddb8f"],["__file","WdSelectDate.vue"]]),na="wd-menu",oa="wd-menu-arrow",xo=Ie({__name:"WdMenuButton",props:ca({side:{default:"left"},function:{default:"both"},mobile:{type:Boolean,default:!1},desktop:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=da(e,"modelValue"),r=e,n=Ze(),l=f(()=>n.screen.xs),u=f(()=>a.value?"primary-300":"primary-100"),d=f(()=>a.value?"close menu":"open menu"),i=f(()=>r.function=="open"?na:r.function=="close"||a.value?oa:na),y=f(()=>!r.mobile&&!r.desktop||r.mobile&&l.value?!0:!!(r.desktop&&!l.value));return(q,s)=>{const g=Ma;return y.value?(Z(),de(g,{key:0,color:u.value,icon:i.value,class:ba({"rotate-180":r.side=="right"}),"aria-label":d.value,onClick:s[0]||(s[0]=x=>a.value=!a.value)},null,8,["color","icon","class","aria-label"])):he("",!0)}}}),ko=Pe(xo,[["__file","WdMenuButton.vue"]]),St=XMLHttpRequest,Oa=St.prototype.open,Co=["top","right","bottom","left"];let nt=[],Qe=0;function So({p:e,pos:a,active:r,horiz:n,reverse:l,dir:u}){let d=1,i=1;return n===!0?(l===!0&&(d=-1),a==="bottom"&&(i=-1),{transform:`translate3d(${d*(e-100)}%,${r?0:i*-200}%,0)`}):(l===!0&&(i=-1),a==="right"&&(d=-1),{transform:`translate3d(${r?0:u*d*-200}%,${i*(e-100)}%,0)`})}function qo(e,a){return typeof a!="number"&&(e<25?a=Math.random()*3+3:e<65?a=Math.random()*3:e<85?a=Math.random()*2:e<99?a=.6:a=0),Ne(e+a,0,100)}function Yo(e){Qe++,nt.push(e),!(Qe>1)&&(St.prototype.open=function(a,r){const n=[],l=()=>{nt.forEach(d=>{(d.hijackFilter.value===null||d.hijackFilter.value(r)===!0)&&(d.start(),n.push(d.stop))})},u=()=>{n.forEach(d=>{d()})};this.addEventListener("loadstart",l,{once:!0}),this.addEventListener("loadend",u,{once:!0}),Oa.apply(this,arguments)})}function $o(e){nt=nt.filter(a=>a.start!==e),Qe=Math.max(0,Qe-1),Qe===0&&(St.prototype.open=Oa)}const Ho=Re({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>Co.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:a}){const{proxy:r}=Ue(),n=O(0),l=O(!1),u=O(!0);let d=0,i=null,y;const q=f(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(u.value===!0?"":" no-transition")),s=f(()=>e.position==="top"||e.position==="bottom"),g=f(()=>s.value===!0?"height":"width"),x=f(()=>{const B=l.value,b=So({p:n.value,pos:e.position,active:B,horiz:s.value,reverse:r.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:r.$q.lang.rtl===!0?-1:1});return b[g.value]=e.size,b.opacity=B?1:0,b}),Y=f(()=>l.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n.value}:{"aria-hidden":"true"});function D(B=300){const b=y;return y=Math.max(0,B)||0,d++,d>1?(b===0&&B>0?k():i!==null&&b>0&&B<=0&&(clearTimeout(i),i=null),d):(i!==null&&clearTimeout(i),a("start"),n.value=0,i=setTimeout(()=>{i=null,u.value=!0,B>0&&k()},l._value===!0?500:1),l._value!==!0&&(l.value=!0,u.value=!1),d)}function w(B){return d>0&&(n.value=qo(n.value,B)),d}function p(){if(d=Math.max(0,d-1),d>0)return d;i!==null&&(clearTimeout(i),i=null),a("stop");const B=()=>{u.value=!0,n.value=100,i=setTimeout(()=>{i=null,l.value=!1},1e3)};return n.value===0?i=setTimeout(B,1):B(),d}function k(){n.value<100&&(i=setTimeout(()=>{i=null,w(),k()},y))}let fe;return wt(()=>{e.skipHijack!==!0&&(fe=!0,Yo({start:D,stop:p,hijackFilter:f(()=>e.hijackFilter||null)}))}),bt(()=>{i!==null&&clearTimeout(i),fe===!0&&$o(D)}),Object.assign(r,{start:D,stop:p,increment:w}),()=>_("div",{class:q.value,style:x.value,...Y.value})}}),To={class:"text-h4"},Oo={key:0,class:"text-black text-weight-medium"},Bo=Ie({__name:"WodoreLogo",props:{icon:{type:Boolean,default:!1},text:{type:Boolean,default:!1},textColorLeft:{default:"black"},textColorRight:{default:"accent"},logoPath:{default:"/logos/wodore_original.svg"}},setup(e){const a=e,r=f(()=>!a.icon&&!a.text?!0:a.icon),n=f(()=>!a.icon&&!a.text?!0:a.text);return(l,u)=>(Z(),Fe("span",To,[n.value?(Z(),Fe("span",Oo,"wo")):he("",!0),r.value?(Z(),de(wa,{key:1,style:{transform:"translateY(-4px)"},name:"img:"+a.logoPath},null,8,["name"])):he("",!0),n.value?(Z(),Fe("span",{key:2,style:va({"margin-left":a.icon?0:"3pt"}),class:"text-accent text-weight-regular"},"dore",4)):he("",!0)]))}}),la=Pe(Bo,[["__file","WodoreLogo.vue"]]),Vo=Ie({__name:"MainLayout",setup(e){const a=Ze();function r(s){return!/^.*timetable.search.ch.*/.test(s)}const n=f(()=>a.screen.xs),l=O(!1),u=O(!0),d=O(!1),i=ya(),y=pt();Pt(()=>{d.value=i.meta?.dialog}),Pt(()=>{u.value=i.meta?.content});function q(s){console.debug(`Closed content in ${s} mode.`),y.push({name:"map",hash:i.hash,query:i.query})}return(s,g)=>{const x=ko,Y=_o,D=Fn,w=fa("router-view"),p=Bn;return Z(),de(pn,{view:"hHh LpR lFf",class:"overflow-hidden"},{default:W(()=>[T(Ho,{color:"accent","hijack-filter":r}),T(_n,{class:"text-white shadow-6 app-header"},{default:W(()=>[T(At,null,{default:W(()=>[T(x,{desktop:"",modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=k=>l.value=k)},null,8,["modelValue"]),T(zt,null,{default:W(()=>[T(la,{class:"text-h4",text:!n.value,icon:""},null,8,["text"])]),_:1}),T(Y),n.value?he("",!0):(Z(),de(D,{key:0})),T(ga,{modelValue:d.value,"onUpdate:modelValue":g[1]||(g[1]=k=>d.value=k),"no-backdrop-dismiss":"",persistent:"",maximized:n.value,"backdrop-filter":"blur(3px) saturate(180%) grayscale(60%)"},{default:W(()=>[T(w,{name:"dialog"},{default:W(({Component:k})=>[(Z(),de(Et(k)))]),_:1})]),_:1},8,["modelValue","maximized"]),T(x,{mobile:"",function:"open",side:"right",modelValue:l.value,"onUpdate:modelValue":g[2]||(g[2]=k=>l.value=k)},null,8,["modelValue"])]),_:1})]),_:1}),T(_a,{modelValue:l.value,"onUpdate:modelValue":g[4]||(g[4]=k=>l.value=k),side:n.value?"right":"left",width:200,breakpoint:610,class:"shadow-2"},{default:W(()=>[n.value?(Z(),de(At,{key:0,class:"bg-primary-600"},{default:W(()=>[T(zt,null,{default:W(()=>[T(la,{text:"",class:"text-h5"})]),_:1}),T(D,{size:"md"}),T(x,{mobile:"",side:"right",modelValue:l.value,"onUpdate:modelValue":g[3]||(g[3]=k=>l.value=k)},null,8,["modelValue"])]),_:1})):he("",!0),T(w,{name:"menu"})]),_:1},8,["modelValue","side"]),T(xn,null,{default:W(()=>[T(w,null,{default:W(({Component:k})=>[(Z(),de(Et(k)))]),_:1})]),_:1}),T(p,{onClose:q,modelValue:u.value,"onUpdate:modelValue":g[5]||(g[5]=k=>u.value=k)},null,8,["modelValue"])]),_:1})}}}),Ao=Pe(Vo,[["__file","MainLayout.vue"]]);export{Ao as default};
