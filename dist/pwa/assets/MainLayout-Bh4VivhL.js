import{_ as mt,Q as Sa,a as $a,C as qa,b as Ha,c as Oa,d as Vt,e as Tt,f as Va}from"./QLayout-BhB8DLHV.js";import{d as se,u as Fe,o as A,c as ee,_ as ie,e as ue,f as Y,Q as ht,a as ye,g as Bt,n as gt,h as yt,i as Ta,j as Gt,k as Ba,l as _t,m as Kt,p as Ia,q as Fa,r as ut,s as V,t as m,v as ja,x as Wa,y as I,z as Qe,A as pt,B as Xe,C as Aa,D as wt,E as w,F as It,G as ea,H as za,I as La,J as ta,K as aa,L as na,w as W,M as J,T as xe,N as Je,O as He,P as _e,R as oa,S as O,U as la,V as Ea,W as ra,X as Na,Y as Pa,Z as Qa,$ as Ra,a0 as Ua,a1 as Za,a2 as ua,a3 as Xa,a4 as sa,a5 as Ft,a6 as Ja,a7 as ia,a8 as jt}from"./index-Cch6x1oq.js";import{T as Ue,t as Ga}from"./QScrollObserver-CQsICbPP.js";import{u as Ge}from"./use-quasar-Db8chjpI.js";import{u as Ka,a as en,b as Wt}from"./huts-store-rPUeb3mA.js";import"./use-hydration-BgxiN_O_.js";import"./index-CIGfx9y-.js";import"./auth-store-GpmEqZBJ.js";import"./_commonjsHelpers-BosuxZz1.js";import"./___vite-browser-external_commonjs-proxy-DRaEfepn.js";const tn=se({__name:"WdSupportButton",setup(e){const a=Fe();function r(){a.push({name:"support"})}return(o,l)=>{const u=mt;return A(),ee(u,{icon:"wd-gift",onClick:r,"aria-label":"Sende Feedback"})}}}),ca=ie(tn,[["__file","WdSupportButton.vue"]]),an={class:"content text-primary-100 shadow-8 text-caption text-center"},nn=se({__name:"WdBeta",setup(e){const a=Fe();function r(){a.push({name:"feedback"})}return(o,l)=>{const u=ca;return A(),ue("div",an,[Y(ht,{size:"15px",name:"img:/logos/logo_beta.svg",style:{"padding-left":"10px",transform:"scale(3) translateY(-2.5px) translateX(-10px)"}}),ye("span",{style:gt(o.$q.platform.is.mobile?"font-size: x-small":"")},[Bt(" Die Seite ist noch im Aufbau, "),ye("a",{class:"link",onClick:r},"Feedback"),Bt(" ist willkommen! ")],4),Y(u,{size:o.$q.platform.is.mobile?"8px":"10px",class:"text-accent-200",style:{transform:"scale(2) translateY(-0.7px) translateX(6.5px) rotate(-5deg)"}},null,8,["size"])])}}}),on=ie(nn,[["__scopeId","data-v-e689993c"],["__file","WdBeta.vue"]]),At=150,da=yt({name:"QDrawer",inheritAttrs:!1,props:{...Ta,...Gt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ba,"onLayout","miniState"],setup(e,{slots:a,emit:r,attrs:o}){const l=_t(),{proxy:{$q:u}}=l,g=Kt(e,u),{preventBodyScroll:c}=La(),{registerTimeout:y,removeTimeout:$}=Ia(),s=Fa(za,ut);if(s===ut)return console.error("QDrawer needs to be child of QLayout"),ut;let p,x=null,q;const C=V(e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint),M=m(()=>e.mini===!0&&C.value!==!0),h=m(()=>M.value===!0?e.miniWidth:e.width),b=V(e.showIfAbove===!0&&C.value===!1?!0:e.modelValue===!0),j=m(()=>e.persistent!==!0&&(C.value===!0||Ve.value===!0));function R(d,S){if(ke(),d!==!1&&s.animate(),N(0),C.value===!0){const P=s.instances[ve.value];P!==void 0&&P.belowBreakpoint===!0&&P.hide(!1),G(1),s.isContainer.value!==!0&&c(!0)}else G(0),d!==!1&&Ce(!1);y(()=>{d!==!1&&Ce(!0),S!==!0&&r("show",d)},At)}function D(d,S){Oe(),d!==!1&&s.animate(),G(0),N(F.value*h.value),Te(),S!==!0?y(()=>{r("hide",d)},At):$()}const{show:L,hide:ce}=ja({showing:b,hideOnRouteChange:j,handleShow:R,handleHide:D}),{addToHistory:ke,removeFromHistory:Oe}=Wa(b,ce,j),de={belowBreakpoint:C,hide:ce},U=m(()=>e.side==="right"),F=m(()=>(u.lang.rtl===!0?-1:1)*(U.value===!0?1:-1)),je=V(0),Z=V(!1),te=V(!1),pe=V(h.value*F.value),ve=m(()=>U.value===!0?"left":"right"),Q=m(()=>b.value===!0&&C.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:h.value:0),ae=m(()=>e.overlay===!0||e.miniToOverlay===!0||s.view.value.indexOf(U.value?"R":"L")!==-1||u.platform.is.ios===!0&&s.isContainer.value===!0),ne=m(()=>e.overlay===!1&&b.value===!0&&C.value===!1),Ve=m(()=>e.overlay===!0&&b.value===!0&&C.value===!1),we=m(()=>"fullscreen q-drawer__backdrop"+(b.value===!1&&Z.value===!1?" hidden":"")),We=m(()=>({backgroundColor:`rgba(0,0,0,${je.value*.4})`})),Ae=m(()=>U.value===!0?s.rows.value.top[2]==="r":s.rows.value.top[0]==="l"),Ke=m(()=>U.value===!0?s.rows.value.bottom[2]==="r":s.rows.value.bottom[0]==="l"),ze=m(()=>{const d={};return s.header.space===!0&&Ae.value===!1&&(ae.value===!0?d.top=`${s.header.offset}px`:s.header.space===!0&&(d.top=`${s.header.size}px`)),s.footer.space===!0&&Ke.value===!1&&(ae.value===!0?d.bottom=`${s.footer.offset}px`:s.footer.space===!0&&(d.bottom=`${s.footer.size}px`)),d}),Ye=m(()=>{const d={width:`${h.value}px`,transform:`translateX(${pe.value}px)`};return C.value===!0?d:Object.assign(d,ze.value)}),Le=m(()=>"q-drawer__content fit "+(s.isContainer.value!==!0?"scroll":"overflow-auto")),et=m(()=>`q-drawer q-drawer--${e.side}`+(te.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(g.value===!0?" q-drawer--dark q-dark":"")+(Z.value===!0?" no-transition":b.value===!0?"":" q-layout--prevent-focus")+(C.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${M.value===!0?"mini":"standard"}`+(ae.value===!0||ne.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Ae.value===!0?" q-drawer--top-padding":""))),oe=m(()=>{const d=u.lang.rtl===!0?e.side:ve.value;return[[Ue,X,void 0,{[d]:!0,mouse:!0}]]}),tt=m(()=>{const d=u.lang.rtl===!0?ve.value:e.side;return[[Ue,Ee,void 0,{[d]:!0,mouse:!0}]]}),E=m(()=>{const d=u.lang.rtl===!0?ve.value:e.side;return[[Ue,Ee,void 0,{[d]:!0,mouse:!0,mouseAllDir:!0}]]});function z(){Ne(C,e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint)}I(C,d=>{d===!0?(p=b.value,b.value===!0&&ce(!1)):e.overlay===!1&&e.behavior!=="mobile"&&p!==!1&&(b.value===!0?(N(0),G(0),Te()):L(!1))}),I(()=>e.side,(d,S)=>{s.instances[S]===de&&(s.instances[S]=void 0,s[S].space=!1,s[S].offset=0),s.instances[d]=de,s[d].size=h.value,s[d].space=ne.value,s[d].offset=Q.value}),I(s.totalWidth,()=>{(s.isContainer.value===!0||document.qScrollPrevented!==!0)&&z()}),I(()=>e.behavior+e.breakpoint,z),I(s.isContainer,d=>{b.value===!0&&c(d!==!0),d===!0&&z()}),I(s.scrollbarWidth,()=>{N(b.value===!0?0:void 0)}),I(Q,d=>{le("offset",d)}),I(ne,d=>{r("onLayout",d),le("space",d)}),I(U,()=>{N()}),I(h,d=>{N(),Be(e.miniToOverlay,d)}),I(()=>e.miniToOverlay,d=>{Be(d,h.value)}),I(()=>u.lang.rtl,()=>{N()}),I(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Me(),s.animate())}),I(M,d=>{r("miniState",d)});function N(d){d===void 0?Xe(()=>{d=b.value===!0?0:h.value,N(F.value*d)}):(s.isContainer.value===!0&&U.value===!0&&(C.value===!0||Math.abs(d)===h.value)&&(d+=F.value*s.scrollbarWidth.value),pe.value=d)}function G(d){je.value=d}function Ce(d){const S=d===!0?"remove":s.isContainer.value!==!0?"add":"";S!==""&&document.body.classList[S]("q-body--drawer-toggle")}function Me(){x!==null&&clearTimeout(x),l.proxy&&l.proxy.$el&&l.proxy.$el.classList.add("q-drawer--mini-animate"),te.value=!0,x=setTimeout(()=>{x=null,te.value=!1,l&&l.proxy&&l.proxy.$el&&l.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function X(d){if(b.value!==!1)return;const S=h.value,P=Qe(d.distance.x,0,S);if(d.isFinal===!0){P>=Math.min(75,S)===!0?L():(s.animate(),G(0),N(F.value*S)),Z.value=!1;return}N((u.lang.rtl===!0?U.value!==!0:U.value)?Math.max(S-P,0):Math.min(0,P-S)),G(Qe(P/S,0,1)),d.isFirst===!0&&(Z.value=!0)}function Ee(d){if(b.value!==!0)return;const S=h.value,P=d.direction===e.side,fe=(u.lang.rtl===!0?P!==!0:P)?Qe(d.distance.x,0,S):0;if(d.isFinal===!0){Math.abs(fe)<Math.min(75,S)===!0?(s.animate(),G(1),N(0)):ce(),Z.value=!1;return}N(F.value*fe),G(Qe(1-fe/S,0,1)),d.isFirst===!0&&(Z.value=!0)}function Te(){c(!1),Ce(!0)}function le(d,S){s.update(e.side,d,S)}function Ne(d,S){d.value!==S&&(d.value=S)}function Be(d,S){le("size",d===!0?e.miniWidth:S)}return s.instances[e.side]=de,Be(e.miniToOverlay,h.value),le("space",ne.value),le("offset",Q.value),e.showIfAbove===!0&&e.modelValue!==!0&&b.value===!0&&e["onUpdate:modelValue"]!==void 0&&r("update:modelValue",!0),pt(()=>{r("onLayout",ne.value),r("miniState",M.value),p=e.showIfAbove===!0;const d=()=>{(b.value===!0?R:D)(!1,!0)};if(s.totalWidth.value!==0){Xe(d);return}q=I(s.totalWidth,()=>{q(),q=void 0,b.value===!1&&e.showIfAbove===!0&&C.value===!1?L(!1):d()})}),Aa(()=>{q!==void 0&&q(),x!==null&&(clearTimeout(x),x=null),b.value===!0&&Te(),s.instances[e.side]===de&&(s.instances[e.side]=void 0,le("size",0),le("offset",0),le("space",!1))}),()=>{const d=[];C.value===!0&&(e.noSwipeOpen===!1&&d.push(wt(w("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),oe.value)),d.push(It("div",{ref:"backdrop",class:we.value,style:We.value,"aria-hidden":"true",onClick:ce},void 0,"backdrop",e.noSwipeBackdrop!==!0&&b.value===!0,()=>E.value)));const S=M.value===!0&&a.mini!==void 0,P=[w("div",{...o,key:""+S,class:[Le.value,o.class]},S===!0?a.mini():ea(a.default))];return e.elevated===!0&&b.value===!0&&P.push(w("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),d.push(It("aside",{ref:"content",class:et.value,style:Ye.value},P,"contentclose",e.noSwipeClose!==!0&&C.value===!0,()=>tt.value)),w("div",{class:"q-drawer-container"},d)}}}),ln={class:"text-primary-100 absolute-top z-max q-pa-xs",style:{width:"50px"}},rn={style:{top:"-20px",right:"50px"},class:"text-primary-100 absolute-top-right z-top q-pa-xs"},un={style:{"padding-top":"0px"},class:"background--blur scroll shadow-2 fit"},zt=76.5,Lt=100,sn=se({__name:"WdMapContent",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:ta(["close"],["update:modelValue"]),setup(e){const a=Ge(),r=aa(e,"modelValue"),o=m(()=>a.screen.lt.md),l=V(window.innerHeight*.4),u=V(window.innerHeight-zt),g=V(l.value),c=m(()=>g.value+(u.value-g.value)/2),y=m(()=>s.value?"wd-arrow-up-down":l.value<c.value?"wd-arrowhead-up":"wd-arrowhead-down");function $(){l.value<c.value?l.value=u.value:l.value=g.value}const s=V(!1),p=x=>{if(!(x&&x.evt&&x.delta))return;s.value=x.isFinal!==!0;const q=x.evt.view?x.evt.view?.innerHeight:600;x.direction=="up"&&(l.value<=q-150?l.value-=x.delta.y:l.value=q-zt),x.direction=="down"&&(l.value>=Lt?l.value-=x.delta.y:l.value=Lt),x.isFinal&&(l.value<c.value?g.value=l.value:u.value=l.value)};return(x,q)=>{const C=na("router-view"),M=on;return A(),ue(oa,null,[o.value?_e("",!0):(A(),ee(da,{key:0,modelValue:r.value,"onUpdate:modelValue":q[1]||(q[1]=h=>r.value=h),side:"right",width:He(a).screen.gt.md?460:380,breakpoint:0,class:"shadow-2"},{default:W(()=>[ye("div",ln,[Y(J,{round:"",dense:"",unelevated:"",color:"accent-100",icon:"wd-close",class:"text-primary-900 q-ma-sm",size:"md",onClick:q[0]||(q[0]=h=>x.$emit("close","landscape"))})]),Y(C,{name:"content"},{default:W(({Component:h,route:b})=>[Y(xe,{name:"fade",mode:"out-in"},{default:W(()=>[(A(),ee(Je(h),{key:b.path}))]),_:2},1024)]),_:1})]),_:1},8,["modelValue","width"])),Y(Sa,{class:"text-black fixed-bottom"},{default:W(()=>[r.value&&o.value?(A(),ue("div",{key:0,style:gt({"max-height":l.value+"px",height:l.value+"px","padding-top":"0px"})},[ye("div",rn,[wt(Y(J,{round:"",dense:"",unelevated:"",color:"accent-100",icon:y.value,size:"md",class:"text-primary-700",onClick:$},null,8,["icon"]),[[Ue,p,void 0,{vertical:!0,prevent:!0,mouse:!0}]]),Y(J,{round:"",dense:"",unelevated:"",color:"accent-100",icon:"wd-close",class:"q-ml-md text-primary-700",size:"md",onClick:q[2]||(q[2]=h=>x.$emit("close","portrait"))})]),ye("div",un,[Y(C,{name:"content"},{default:W(({Component:h,route:b})=>[Y(xe,{name:"fade",mode:"out-in"},{default:W(()=>[(A(),ee(Je(h),{key:b.path}))]),_:2},1024)]),_:1})])],4)):_e("",!0),Y(M)]),_:1})],64)}}}),cn=ie(sn,[["__scopeId","data-v-a883740f"],["__file","WdMapContent.vue"]]),dn=se({__name:"WdFeedbackButton",setup(e){const a=Fe();function r(){a.push({name:"feedback"})}return(o,l)=>{const u=mt;return A(),ee(u,{icon:"wd-message",onClick:r,"aria-label":"Sende Feedback"})}}}),vn=ie(dn,[["__file","WdFeedbackButton.vue"]]);function fn(){let e=Object.create(null);return{getCache:(a,r)=>e[a]===void 0?e[a]=typeof r=="function"?r():r:e[a],setCache(a,r){e[a]=r},hasCache(a){return Object.hasOwnProperty.call(e,a)},clearCache(a){a!==void 0?delete e[a]:e=Object.create(null)}}}const ge=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function mn(e,a,r){return Object.prototype.toString.call(e)==="[object Date]"&&(r=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),_n(Mt(e,a,r))}function Et(e,a,r){return fa(yn(e,a,r))}function hn(e){return gn(e)===0}function Ze(e,a){return a<=6?31:a<=11||hn(e)?30:29}function gn(e){const a=ge.length;let r=ge[0],o,l,u,g,c;if(e<r||e>=ge[a-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<a&&(o=ge[c],l=o-r,!(e<o));c+=1)r=o;return g=e-r,l-g<6&&(g=g-l+B(l+4,33)*33),u=K(K(g+1,33)-1,4),u===-1&&(u=4),u}function va(e,a){const r=ge.length,o=e+621;let l=-14,u=ge[0],g,c,y,$,s;if(e<u||e>=ge[r-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<r&&(g=ge[s],c=g-u,!(e<g));s+=1)l=l+B(c,33)*8+B(K(c,33),4),u=g;$=e-u,l=l+B($,33)*8+B(K($,33)+3,4),K(c,33)===4&&c-$===4&&(l+=1);const p=B(o,4)-B((B(o,100)+1)*3,4)-150,x=20+l-p;return a||(c-$<6&&($=$-c+B(c+4,33)*33),y=K(K($+1,33)-1,4),y===-1&&(y=4)),{leap:y,gy:o,march:x}}function yn(e,a,r){const o=va(e,!0);return Mt(o.gy,3,o.march)+(a-1)*31-B(a,7)*(a-7)+r-1}function _n(e){const a=fa(e).gy;let r=a-621,o,l,u;const g=va(r,!1),c=Mt(a,3,g.march);if(u=e-c,u>=0){if(u<=185)return l=1+B(u,31),o=K(u,31)+1,{jy:r,jm:l,jd:o};u-=186}else r-=1,u+=179,g.leap===1&&(u+=1);return l=7+B(u,30),o=K(u,30)+1,{jy:r,jm:l,jd:o}}function Mt(e,a,r){let o=B((e+B(a-8,6)+100100)*1461,4)+B(153*K(a+9,12)+2,5)+r-34840408;return o=o-B(B(e+100100+B(a-8,6),100)*3,4)+752,o}function fa(e){let a=4*e+139361631;a=a+B(B(4*e+183187720,146097)*3,4)*4-3908;const r=B(K(a,1461),4)*5+308,o=B(K(r,153),5)+1,l=K(B(r,153),12)+1;return{gy:B(a,1461)-100100+B(8-l,6),gm:l,gd:o}}function B(e,a){return~~(e/a)}function K(e,a){return e-~~(e/a)*a}const pn=["gregorian","persian"],Nt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>pn.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},wn=["update:modelValue"];function me(e){return e.year+"/"+O(e.month)+"/"+O(e.day)}function Mn(e,a){const r=m(()=>e.disable!==!0&&e.readonly!==!0),o=m(()=>r.value===!0?0:-1),l=m(()=>{const c=[];return e.color!==void 0&&c.push(`bg-${e.color}`),e.textColor!==void 0&&c.push(`text-${e.textColor}`),c.join(" ")});function u(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function g(c){const y=new Date,$=c===!0?null:0;if(e.calendar==="persian"){const s=mn(y);return{year:s.jy,month:s.jm,day:s.jd}}return{year:y.getFullYear(),month:y.getMonth()+1,day:y.getDate(),hour:$,minute:$,second:$,millisecond:$}}return{editable:r,tabindex:o,headerClass:l,getLocale:u,getCurrentDate:g}}const ma=864e5,Dn=36e5,dt=6e4,ha="YYYY-MM-DDTHH:mm:ss.SSSZ",bn=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,xn=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,st={};function kn(e,a){const r="("+a.days.join("|")+")",o=e+r;if(st[o]!==void 0)return st[o];const l="("+a.daysShort.join("|")+")",u="("+a.months.join("|")+")",g="("+a.monthsShort.join("|")+")",c={};let y=0;const $=e.replace(xn,p=>{switch(y++,p){case"YY":return c.YY=y,"(-?\\d{1,2})";case"YYYY":return c.YYYY=y,"(-?\\d{1,4})";case"M":return c.M=y,"(\\d{1,2})";case"MM":return c.M=y,"(\\d{2})";case"MMM":return c.MMM=y,g;case"MMMM":return c.MMMM=y,u;case"D":return c.D=y,"(\\d{1,2})";case"Do":return c.D=y++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return c.D=y,"(\\d{2})";case"H":return c.H=y,"(\\d{1,2})";case"HH":return c.H=y,"(\\d{2})";case"h":return c.h=y,"(\\d{1,2})";case"hh":return c.h=y,"(\\d{2})";case"m":return c.m=y,"(\\d{1,2})";case"mm":return c.m=y,"(\\d{2})";case"s":return c.s=y,"(\\d{1,2})";case"ss":return c.s=y,"(\\d{2})";case"S":return c.S=y,"(\\d{1})";case"SS":return c.S=y,"(\\d{2})";case"SSS":return c.S=y,"(\\d{3})";case"A":return c.A=y,"(AM|PM)";case"a":return c.a=y,"(am|pm)";case"aa":return c.aa=y,"(a\\.m\\.|p\\.m\\.)";case"ddd":return l;case"dddd":return r;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return c.Z=y,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return c.ZZ=y,"(Z|[+-]\\d{2}\\d{2})";case"X":return c.X=y,"(-?\\d+)";case"x":return c.x=y,"(-?\\d{4,})";default:return y--,p[0]==="["&&(p=p.substring(1,p.length-1)),p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),s={map:c,regex:new RegExp("^"+$)};return st[o]=s,s}function ga(e,a){return e!==void 0?e:a!==void 0?a.date:Ea.date}function Pt(e,a=""){const r=e>0?"-":"+",o=Math.abs(e),l=Math.floor(o/60),u=o%60;return r+O(l)+a+O(u)}function Yn(e,a,r){let o=e.getFullYear(),l=e.getMonth();const u=e.getDate();return a.year!==void 0&&(o+=r*a.year,delete a.year),a.month!==void 0&&(l+=r*a.month,delete a.month),e.setDate(1),e.setMonth(2),e.setFullYear(o),e.setMonth(l),e.setDate(Math.min(u,xt(e))),a.date!==void 0&&(e.setDate(e.getDate()+r*a.date),delete a.date),e}function Cn(e,a,r){const o=a.year!==void 0?a.year:e[`get${r}FullYear`](),l=a.month!==void 0?a.month-1:e[`get${r}Month`](),u=new Date(o,l+1,0).getDate(),g=Math.min(u,a.date!==void 0?a.date:e[`get${r}Date`]());return e[`set${r}Date`](1),e[`set${r}Month`](2),e[`set${r}FullYear`](o),e[`set${r}Month`](l),e[`set${r}Date`](g),delete a.year,delete a.month,delete a.date,e}function Dt(e,a,r){const o=ya(a),l=new Date(e),u=o.year!==void 0||o.month!==void 0||o.date!==void 0?Yn(l,o,r):l;for(const g in o){const c=Na(g);u[`set${c}`](u[`get${c}`]()+r*o[g])}return u}function ya(e){const a={...e};return e.years!==void 0&&(a.year=e.years,delete a.years),e.months!==void 0&&(a.month=e.months,delete a.months),e.days!==void 0&&(a.date=e.days,delete a.days),e.day!==void 0&&(a.date=e.day,delete a.day),e.hour!==void 0&&(a.hours=e.hour,delete a.hour),e.minute!==void 0&&(a.minutes=e.minute,delete a.minute),e.second!==void 0&&(a.seconds=e.second,delete a.second),e.millisecond!==void 0&&(a.milliseconds=e.millisecond,delete a.millisecond),a}function _a(e,a,r){const o=ya(a),l=r===!0?"UTC":"",u=new Date(e),g=o.year!==void 0||o.month!==void 0||o.date!==void 0?Cn(u,o,l):u;for(const c in o){const y=c.charAt(0).toUpperCase()+c.slice(1);g[`set${l}${y}`](o[c])}return g}function Sn(e,a,r){const o=pa(e,a,r),l=new Date(o.year,o.month===null?null:o.month-1,o.day===null?1:o.day,o.hour,o.minute,o.second,o.millisecond),u=l.getTimezoneOffset();return o.timezoneOffset===null||o.timezoneOffset===u?l:Dt(l,{minutes:o.timezoneOffset-u},1)}function pa(e,a,r,o,l){const u={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(l!==void 0&&Object.assign(u,l),e==null||e===""||typeof e!="string")return u;a===void 0&&(a=ha);const g=ga(r,la.props),c=g.months,y=g.monthsShort,{regex:$,map:s}=kn(a,g),p=e.match($);if(p===null)return u;let x="";if(s.X!==void 0||s.x!==void 0){const q=parseInt(p[s.X!==void 0?s.X:s.x],10);if(isNaN(q)===!0||q<0)return u;const C=new Date(q*(s.X!==void 0?1e3:1));u.year=C.getFullYear(),u.month=C.getMonth()+1,u.day=C.getDate(),u.hour=C.getHours(),u.minute=C.getMinutes(),u.second=C.getSeconds(),u.millisecond=C.getMilliseconds()}else{if(s.YYYY!==void 0)u.year=parseInt(p[s.YYYY],10);else if(s.YY!==void 0){const q=parseInt(p[s.YY],10);u.year=q<0?q:2e3+q}if(s.M!==void 0){if(u.month=parseInt(p[s.M],10),u.month<1||u.month>12)return u}else s.MMM!==void 0?u.month=y.indexOf(p[s.MMM])+1:s.MMMM!==void 0&&(u.month=c.indexOf(p[s.MMMM])+1);if(s.D!==void 0){if(u.day=parseInt(p[s.D],10),u.year===null||u.month===null||u.day<1)return u;const q=o!=="persian"?new Date(u.year,u.month,0).getDate():Ze(u.year,u.month);if(u.day>q)return u}s.H!==void 0?u.hour=parseInt(p[s.H],10)%24:s.h!==void 0&&(u.hour=parseInt(p[s.h],10)%12,(s.A&&p[s.A]==="PM"||s.a&&p[s.a]==="pm"||s.aa&&p[s.aa]==="p.m.")&&(u.hour+=12),u.hour=u.hour%24),s.m!==void 0&&(u.minute=parseInt(p[s.m],10)%60),s.s!==void 0&&(u.second=parseInt(p[s.s],10)%60),s.S!==void 0&&(u.millisecond=parseInt(p[s.S],10)*10**(3-p[s.S].length)),(s.Z!==void 0||s.ZZ!==void 0)&&(x=s.Z!==void 0?p[s.Z].replace(":",""):p[s.ZZ],u.timezoneOffset=(x[0]==="+"?-1:1)*(60*x.slice(1,3)+1*x.slice(3,5)))}return u.dateHash=O(u.year,6)+"/"+O(u.month)+"/"+O(u.day),u.timeHash=O(u.hour)+":"+O(u.minute)+":"+O(u.second)+x,u}function $n(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function qn(e,a){return _a(new Date,e,a)}function Hn(e){const a=new Date(e).getDay();return a===0?7:a}function vt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const r=new Date(a.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);const o=a.getTimezoneOffset()-r.getTimezoneOffset();a.setHours(a.getHours()-o);const l=(a-r)/(ma*7);return 1+Math.floor(l)}function On(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function it(e,a){const r=new Date(e);return a===!0?On(r):r.getTime()}function Vn(e,a,r,o={}){const l=it(a,o.onlyDate),u=it(r,o.onlyDate),g=it(e,o.onlyDate);return(g>l||o.inclusiveFrom===!0&&g===l)&&(g<u||o.inclusiveTo===!0&&g===u)}function Tn(e,a){return Dt(e,a,1)}function Bn(e,a){return Dt(e,a,-1)}function re(e,a,r){const o=new Date(e),l=`set${r===!0?"UTC":""}`;switch(a){case"year":case"years":o[`${l}Month`](0);case"month":case"months":o[`${l}Date`](1);case"day":case"days":case"date":o[`${l}Hours`](0);case"hour":case"hours":o[`${l}Minutes`](0);case"minute":case"minutes":o[`${l}Seconds`](0);case"second":case"seconds":o[`${l}Milliseconds`](0)}return o}function In(e,a,r){const o=new Date(e),l=`set${r===!0?"UTC":""}`;switch(a){case"year":case"years":o[`${l}Month`](11);case"month":case"months":o[`${l}Date`](xt(o));case"day":case"days":case"date":o[`${l}Hours`](23);case"hour":case"hours":o[`${l}Minutes`](59);case"minute":case"minutes":o[`${l}Seconds`](59);case"second":case"seconds":o[`${l}Milliseconds`](999)}return o}function Fn(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(r=>{a=Math.max(a,new Date(r))}),a}function jn(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(r=>{a=Math.min(a,new Date(r))}),a}function Re(e,a,r){return(e.getTime()-e.getTimezoneOffset()*dt-(a.getTime()-a.getTimezoneOffset()*dt))/r}function bt(e,a,r="days"){const o=new Date(e),l=new Date(a);switch(r){case"years":case"year":return o.getFullYear()-l.getFullYear();case"months":case"month":return(o.getFullYear()-l.getFullYear())*12+o.getMonth()-l.getMonth();case"days":case"day":case"date":return Re(re(o,"day"),re(l,"day"),ma);case"hours":case"hour":return Re(re(o,"hour"),re(l,"hour"),Dn);case"minutes":case"minute":return Re(re(o,"minute"),re(l,"minute"),dt);case"seconds":case"second":return Re(re(o,"second"),re(l,"second"),1e3)}}function ft(e){return bt(e,re(e,"year"),"days")+1}function Wn(e){return ra(e)===!0?"date":typeof e=="number"?"number":"string"}function An(e,a,r){const o=new Date(e);if(a){const l=new Date(a);if(o<l)return l}if(r){const l=new Date(r);if(o>l)return l}return o}function zn(e,a,r){const o=new Date(e),l=new Date(a);if(r===void 0)return o.getTime()===l.getTime();switch(r){case"second":case"seconds":if(o.getSeconds()!==l.getSeconds())return!1;case"minute":case"minutes":if(o.getMinutes()!==l.getMinutes())return!1;case"hour":case"hours":if(o.getHours()!==l.getHours())return!1;case"day":case"days":case"date":if(o.getDate()!==l.getDate())return!1;case"month":case"months":if(o.getMonth()!==l.getMonth())return!1;case"year":case"years":if(o.getFullYear()!==l.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${r}`)}return!0}function xt(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function Qt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Rt={YY(e,a,r){const o=this.YYYY(e,a,r)%100;return o>=0?O(o):"-"+O(Math.abs(o))},YYYY(e,a,r){return r??e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return O(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Qt(this.Q(e))},D(e){return e.getDate()},Do(e){return Qt(e.getDate())},DD(e){return O(e.getDate())},DDD(e){return ft(e)},DDDD(e){return O(ft(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return vt(e)},ww(e){return O(vt(e))},H(e){return e.getHours()},HH(e){return O(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return O(this.h(e))},m(e){return e.getMinutes()},mm(e){return O(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return O(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return O(Math.floor(e.getMilliseconds()/10))},SSS(e){return O(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,r,o){const l=o??e.getTimezoneOffset();return Pt(l,":")},ZZ(e,a,r,o){const l=o??e.getTimezoneOffset();return Pt(l)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function wa(e,a,r,o,l){if(e!==0&&!e||e===1/0||e===-1/0)return;const u=new Date(e);if(isNaN(u))return;a===void 0&&(a=ha);const g=ga(r,la.props);return a.replace(bn,(c,y)=>c in Rt?Rt[c](u,g,o,l):y===void 0?c:y.split("\\]").join("]"))}function Ln(e){return ra(e)===!0?new Date(e.getTime()):e}const En={isValid:$n,extractDate:Sn,buildDate:qn,getDayOfWeek:Hn,getWeekOfYear:vt,isBetweenDates:Vn,addToDate:Tn,subtractFromDate:Bn,adjustDate:_a,startOfDate:re,endOfDate:In,getMaxDate:Fn,getMinDate:jn,getDateDiff:bt,getDayOfYear:ft,inferDateFormat:Wn,getDateBetween:An,isSameDate:zn,daysInMonth:xt,formatDate:wa,clone:Ln},be=20,Nn=["Calendar","Years","Months"],Ut=e=>Nn.includes(e),ct=e=>/^-?[\d]+\/[0-1]\d$/.test(e),qe=" â€” ";function he(e){return e.year+"/"+O(e.month)}const Pn=yt({name:"QDate",props:{...Nt,...Pa,...Gt,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Nt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:ct},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:ct},navigationMaxYearMonth:{type:String,validator:ct},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Ut}},emits:[...wn,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:r}){const{proxy:o}=_t(),{$q:l}=o,u=Kt(e,l),{getCache:g}=fn(),{tabindex:c,headerClass:y,getLocale:$,getCurrentDate:s}=Mn(e,l);let p;const x=Qa(e),q=Ua(x),C=V(null),M=V(Yt()),h=V($()),b=m(()=>Yt()),j=m(()=>$()),R=m(()=>s()),D=V(Ct(M.value,h.value)),L=V(e.defaultView),ce=m(()=>l.lang.rtl===!0?"right":"left"),ke=V(ce.value),Oe=V(ce.value),de=D.value.year,U=V(de-de%be-(de<0?be:0)),F=V(null),je=m(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(u.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),Z=m(()=>e.color||"primary"),te=m(()=>e.textColor||"white"),pe=m(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ve=m(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),Q=m(()=>ve.value.filter(t=>typeof t=="string").map(t=>at(t,M.value,h.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),ae=m(()=>{const t=n=>at(n,M.value,h.value);return ve.value.filter(n=>Ra(n)===!0&&n.from!==void 0&&n.to!==void 0).map(n=>({from:t(n.from),to:t(n.to)})).filter(n=>n.from.dateHash!==null&&n.to.dateHash!==null&&n.from.dateHash<n.to.dateHash)}),ne=m(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const n=Et(t.year,t.month,t.day);return new Date(n.gy,n.gm-1,n.gd)}),Ve=m(()=>e.calendar==="persian"?me:(t,n,i)=>wa(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),n===void 0?M.value:n,i===void 0?h.value:i,t.year,t.timezoneOffset)),we=m(()=>Q.value.length+ae.value.reduce((t,n)=>t+1+bt(ne.value(n.to),ne.value(n.from)),0)),We=m(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(F.value!==null){const i=F.value.init,v=ne.value(i);return h.value.daysShort[v.getDay()]+", "+h.value.monthsShort[i.month-1]+" "+i.day+qe+"?"}if(we.value===0)return qe;if(we.value>1)return`${we.value} ${h.value.pluralDay}`;const t=Q.value[0],n=ne.value(t);return isNaN(n.valueOf())===!0?qe:h.value.headerTitle!==void 0?h.value.headerTitle(n,t):h.value.daysShort[n.getDay()]+", "+h.value.monthsShort[t.month-1]+" "+t.day}),Ae=m(()=>Q.value.concat(ae.value.map(n=>n.from)).sort((n,i)=>n.year-i.year||n.month-i.month)[0]),Ke=m(()=>Q.value.concat(ae.value.map(n=>n.to)).sort((n,i)=>i.year-n.year||i.month-n.month)[0]),ze=m(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(we.value===0)return qe;if(we.value>1){const t=Ae.value,n=Ke.value,i=h.value.monthsShort;return i[t.month-1]+(t.year!==n.year?" "+t.year+qe+i[n.month-1]+" ":t.month!==n.month?qe+i[n.month-1]:"")+" "+n.year}return Q.value[0].year}),Ye=m(()=>{const t=[l.iconSet.datetime.arrowLeft,l.iconSet.datetime.arrowRight];return l.lang.rtl===!0?t.reverse():t}),Le=m(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):h.value.firstDayOfWeek),et=m(()=>{const t=h.value.daysShort,n=Le.value;return n>0?t.slice(n,7).concat(t.slice(0,n)):t}),oe=m(()=>{const t=D.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():Ze(t.year,t.month)}),tt=m(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),E=m(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),z=m(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),N=m(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return E.value!==null&&E.value.year>=D.value.year&&(t.year.prev=!1,E.value.year===D.value.year&&E.value.month>=D.value.month&&(t.month.prev=!1)),z.value!==null&&z.value.year<=D.value.year&&(t.year.next=!1,z.value.year===D.value.year&&z.value.month<=D.value.month&&(t.month.next=!1)),t}),G=m(()=>{const t={};return Q.value.forEach(n=>{const i=he(n);t[i]===void 0&&(t[i]=[]),t[i].push(n.day)}),t}),Ce=m(()=>{const t={};return ae.value.forEach(n=>{const i=he(n.from),v=he(n.to);if(t[i]===void 0&&(t[i]=[]),t[i].push({from:n.from.day,to:i===v?n.to.day:void 0,range:n}),i<v){let f;const{year:H,month:_}=n.from,k=_<12?{year:H,month:_+1}:{year:H+1,month:1};for(;(f=he(k))<=v;)t[f]===void 0&&(t[f]=[]),t[f].push({from:void 0,to:f===v?n.to.day:void 0,range:n}),k.month++,k.month>12&&(k.year++,k.month=1)}}),t}),Me=m(()=>{if(F.value===null)return;const{init:t,initHash:n,final:i,finalHash:v}=F.value,[f,H]=n<=v?[t,i]:[i,t],_=he(f),k=he(H);if(_!==X.value&&k!==X.value)return;const T={};return _===X.value?(T.from=f.day,T.includeFrom=!0):T.from=1,k===X.value?(T.to=H.day,T.includeTo=!0):T.to=oe.value,T}),X=m(()=>he(D.value)),Ee=m(()=>{const t={};if(e.options===void 0){for(let i=1;i<=oe.value;i++)t[i]=!0;return t}const n=typeof e.options=="function"?e.options:i=>e.options.includes(i);for(let i=1;i<=oe.value;i++){const v=X.value+"/"+O(i);t[i]=n(v)}return t}),Te=m(()=>{const t={};if(e.events===void 0)for(let n=1;n<=oe.value;n++)t[n]=!1;else{const n=typeof e.events=="function"?e.events:i=>e.events.includes(i);for(let i=1;i<=oe.value;i++){const v=X.value+"/"+O(i);t[i]=n(v)===!0&&tt.value(v)}}return t}),le=m(()=>{let t,n;const{year:i,month:v}=D.value;if(e.calendar!=="persian")t=new Date(i,v-1,1),n=new Date(i,v-1,0).getDate();else{const f=Et(i,v,1);t=new Date(f.gy,f.gm-1,f.gd);let H=v-1,_=i;H===0&&(H=12,_--),n=Ze(_,H)}return{days:t.getDay()-Le.value-1,endDay:n}}),Ne=m(()=>{const t=[],{days:n,endDay:i}=le.value,v=n<0?n+7:n;if(v<6)for(let _=i-v;_<=i;_++)t.push({i:_,fill:!0});const f=t.length;for(let _=1;_<=oe.value;_++){const k={i:_,event:Te.value[_],classes:[]};Ee.value[_]===!0&&(k.in=!0,k.flat=!0),t.push(k)}if(G.value[X.value]!==void 0&&G.value[X.value].forEach(_=>{const k=f+_-1;Object.assign(t[k],{selected:!0,unelevated:!0,flat:!1,color:Z.value,textColor:te.value})}),Ce.value[X.value]!==void 0&&Ce.value[X.value].forEach(_=>{if(_.from!==void 0){const k=f+_.from-1,T=f+(_.to||oe.value)-1;for(let Ie=k;Ie<=T;Ie++)Object.assign(t[Ie],{range:_.range,unelevated:!0,color:Z.value,textColor:te.value});Object.assign(t[k],{rangeFrom:!0,flat:!1}),_.to!==void 0&&Object.assign(t[T],{rangeTo:!0,flat:!1})}else if(_.to!==void 0){const k=f+_.to-1;for(let T=f;T<=k;T++)Object.assign(t[T],{range:_.range,unelevated:!0,color:Z.value,textColor:te.value});Object.assign(t[k],{flat:!1,rangeTo:!0})}else{const k=f+oe.value-1;for(let T=f;T<=k;T++)Object.assign(t[T],{range:_.range,unelevated:!0,color:Z.value,textColor:te.value})}}),Me.value!==void 0){const _=f+Me.value.from-1,k=f+Me.value.to-1;for(let T=_;T<=k;T++)t[T].color=Z.value,t[T].editRange=!0;Me.value.includeFrom===!0&&(t[_].editRangeFrom=!0),Me.value.includeTo===!0&&(t[k].editRangeTo=!0)}D.value.year===R.value.year&&D.value.month===R.value.month&&(t[f+R.value.day-1].today=!0);const H=t.length%7;if(H>0){const _=7-H;for(let k=1;k<=_;k++)t.push({i:k,fill:!0})}return t.forEach(_=>{let k="q-date__calendar-item ";_.fill===!0?k+="q-date__calendar-item--fill":(k+=`q-date__calendar-item--${_.in===!0?"in":"out"}`,_.range!==void 0&&(k+=` q-date__range${_.rangeTo===!0?"-to":_.rangeFrom===!0?"-from":""}`),_.editRange===!0&&(k+=` q-date__edit-range${_.editRangeFrom===!0?"-from":""}${_.editRangeTo===!0?"-to":""}`),(_.range!==void 0||_.editRange===!0)&&(k+=` text-${_.color}`)),_.classes=k}),t}),Be=m(()=>e.disable===!0?{"aria-disabled":"true"}:{});I(()=>e.modelValue,t=>{if(p===t)p=0;else{const n=Ct(M.value,h.value);Se(n.year,n.month,n)}}),I(L,()=>{C.value!==null&&o.$el.contains(document.activeElement)===!0&&C.value.focus()}),I(()=>D.value.year+"|"+D.value.month,()=>{r("navigation",{year:D.value.year,month:D.value.month})}),I(b,t=>{Ot(t,h.value,"mask"),M.value=t}),I(j,t=>{Ot(M.value,t,"locale"),h.value=t});function d(){const{year:t,month:n,day:i}=R.value,v={...D.value,year:t,month:n,day:i},f=G.value[he(v)];(f===void 0||f.includes(v.day)===!1)&&ot(v),fe(v.year,v.month)}function S(t){Ut(t)===!0&&(L.value=t)}function P(t,n){["month","year"].includes(t)&&(t==="month"?$t:nt)(n===!0?-1:1)}function fe(t,n){L.value="Calendar",Se(t,n)}function kt(t,n){if(e.range===!1||!t){F.value=null;return}const i=Object.assign({...D.value},t),v=n!==void 0?Object.assign({...D.value},n):i;F.value={init:i,initHash:me(i),final:v,finalHash:me(v)},fe(i.year,i.month)}function Yt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function at(t,n,i){return pa(t,n,i,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Ct(t,n){const i=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(i.length===0)return St();const v=i[i.length-1],f=at(v.from!==void 0?v.from:v,t,n);return f.dateHash===null?St():f}function St(){let t,n;if(e.defaultYearMonth!==void 0){const i=e.defaultYearMonth.split("/");t=parseInt(i[0],10),n=parseInt(i[1],10)}else{const i=R.value!==void 0?R.value:s();t=i.year,n=i.month}return{year:t,month:n,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+O(n)+"/01"}}function $t(t){let n=D.value.year,i=Number(D.value.month)+t;i===13?(i=1,n++):i===0&&(i=12,n--),Se(n,i),pe.value===!0&&Pe("month")}function nt(t){const n=Number(D.value.year)+t;Se(n,D.value.month),pe.value===!0&&Pe("year")}function Ma(t){Se(t,D.value.month),L.value=e.defaultView==="Years"?"Months":"Calendar",pe.value===!0&&Pe("year")}function Da(t){Se(D.value.year,t),L.value="Calendar",pe.value===!0&&Pe("month")}function ba(t,n){const i=G.value[n];(i!==void 0&&i.includes(t.day)===!0?lt:ot)(t)}function De(t){return{year:t.year,month:t.month,day:t.day}}function Se(t,n,i){if(E.value!==null&&t<=E.value.year&&((n<E.value.month||t<E.value.year)&&(n=E.value.month),t=E.value.year),z.value!==null&&t>=z.value.year&&((n>z.value.month||t>z.value.year)&&(n=z.value.month),t=z.value.year),i!==void 0){const{hour:f,minute:H,second:_,millisecond:k,timezoneOffset:T,timeHash:Ie}=i;Object.assign(D.value,{hour:f,minute:H,second:_,millisecond:k,timezoneOffset:T,timeHash:Ie})}const v=t+"/"+O(n)+"/01";v!==D.value.dateHash&&(ke.value=D.value.dateHash<v==(l.lang.rtl!==!0)?"left":"right",t!==D.value.year&&(Oe.value=ke.value),Xe(()=>{U.value=t-t%be-(t<0?be:0),Object.assign(D.value,{year:t,month:n,day:1,dateHash:v})}))}function qt(t,n,i){const v=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;p=v;const{reason:f,details:H}=Ht(n,i);r("update:modelValue",v,f,H)}function Pe(t){const n=Q.value[0]!==void 0&&Q.value[0].dateHash!==null?{...Q.value[0]}:{...D.value};Xe(()=>{n.year=D.value.year,n.month=D.value.month;const i=e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():Ze(n.year,n.month);n.day=Math.min(Math.max(1,n.day),i);const v=$e(n);p=v;const{details:f}=Ht("",n);r("update:modelValue",v,t,f)})}function Ht(t,n){return n.from!==void 0?{reason:`${t}-range`,details:{...De(n.target),from:De(n.from),to:De(n.to)}}:{reason:`${t}-day`,details:De(n)}}function $e(t,n,i){return t.from!==void 0?{from:Ve.value(t.from,n,i),to:Ve.value(t.to,n,i)}:Ve.value(t,n,i)}function ot(t){let n;if(e.multiple===!0)if(t.from!==void 0){const i=me(t.from),v=me(t.to),f=Q.value.filter(_=>_.dateHash<i||_.dateHash>v),H=ae.value.filter(({from:_,to:k})=>k.dateHash<i||_.dateHash>v);n=f.concat(H).concat(t).map(_=>$e(_))}else{const i=ve.value.slice();i.push($e(t)),n=i}else n=$e(t);qt(n,"add",t)}function lt(t){if(e.noUnset===!0)return;let n=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const i=$e(t);t.from!==void 0?n=e.modelValue.filter(v=>v.from!==void 0?v.from!==i.from&&v.to!==i.to:!0):n=e.modelValue.filter(v=>v!==i),n.length===0&&(n=null)}qt(n,"remove",t)}function Ot(t,n,i){const v=Q.value.concat(ae.value).map(f=>$e(f,t,n)).filter(f=>f.from!==void 0?f.from.dateHash!==null&&f.to.dateHash!==null:f.dateHash!==null);r("update:modelValue",(e.multiple===!0?v:v[0])||null,i)}function xa(){if(e.minimal!==!0)return w("div",{class:"q-date__header "+y.value},[w("div",{class:"relative-position"},[w(xe,{name:"q-transition--fade"},()=>w("div",{key:"h-yr-"+ze.value,class:"q-date__header-subtitle q-date__header-link "+(L.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:c.value,...g("vY",{onClick(){L.value="Years"},onKeyup(t){t.keyCode===13&&(L.value="Years")}})},[ze.value]))]),w("div",{class:"q-date__header-title relative-position flex no-wrap"},[w("div",{class:"relative-position col"},[w(xe,{name:"q-transition--fade"},()=>w("div",{key:"h-sub"+We.value,class:"q-date__header-title-label q-date__header-link "+(L.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:c.value,...g("vC",{onClick(){L.value="Calendar"},onKeyup(t){t.keyCode===13&&(L.value="Calendar")}})},[We.value]))]),e.todayBtn===!0?w(J,{class:"q-date__header-today self-start",icon:l.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:c.value,onClick:d}):null])])}function rt({label:t,type:n,key:i,dir:v,goTo:f,boundaries:H,cls:_}){return[w("div",{class:"row items-center q-date__arrow"},[w(J,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ye.value[0],tabindex:c.value,disable:H.prev===!1,...g("go-#"+n,{onClick(){f(-1)}})})]),w("div",{class:"relative-position overflow-hidden flex flex-center"+_},[w(xe,{name:"q-transition--jump-"+v},()=>w("div",{key:i},[w(J,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:c.value,...g("view#"+n,{onClick:()=>{L.value=n}})})]))]),w("div",{class:"row items-center q-date__arrow"},[w(J,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ye.value[1],tabindex:c.value,disable:H.next===!1,...g("go+#"+n,{onClick(){f(1)}})})])]}const ka={Calendar:()=>[w("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[w("div",{class:"q-date__navigation row items-center no-wrap"},rt({label:h.value.months[D.value.month-1],type:"Months",key:D.value.month,dir:ke.value,goTo:$t,boundaries:N.value.month,cls:" col"}).concat(rt({label:D.value.year,type:"Years",key:D.value.year,dir:Oe.value,goTo:nt,boundaries:N.value.year,cls:""}))),w("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},et.value.map(t=>w("div",{class:"q-date__calendar-item"},[w("div",t)]))),w("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[w(xe,{name:"q-transition--slide-"+ke.value},()=>w("div",{key:X.value,class:"q-date__calendar-days fit"},Ne.value.map(t=>w("div",{class:t.classes},[t.in===!0?w(J,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:c.value,...g("day#"+t.i,{onClick:()=>{Ya(t.i)},onMouseover:()=>{Ca(t.i)}})},t.event!==!1?()=>w("div",{class:"q-date__event bg-"+t.event}):null):w("div",""+t.i)]))))])])],Months(){const t=D.value.year===R.value.year,n=v=>E.value!==null&&D.value.year===E.value.year&&E.value.month>v||z.value!==null&&D.value.year===z.value.year&&z.value.month<v,i=h.value.monthsShort.map((v,f)=>{const H=D.value.month===f+1;return w("div",{class:"q-date__months-item flex flex-center"},[w(J,{class:t===!0&&R.value.month===f+1?"q-date__today":null,flat:H!==!0,label:v,unelevated:H,color:H===!0?Z.value:null,textColor:H===!0?te.value:null,tabindex:c.value,disable:n(f+1),...g("month#"+f,{onClick:()=>{Da(f+1)}})})])});return e.yearsInMonthView===!0&&i.unshift(w("div",{class:"row no-wrap full-width"},[rt({label:D.value.year,type:"Years",key:D.value.year,dir:Oe.value,goTo:nt,boundaries:N.value.year,cls:" col"})])),w("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},i)},Years(){const t=U.value,n=t+be,i=[],v=f=>E.value!==null&&E.value.year>f||z.value!==null&&z.value.year<f;for(let f=t;f<=n;f++){const H=D.value.year===f;i.push(w("div",{class:"q-date__years-item flex flex-center"},[w(J,{key:"yr"+f,class:R.value.year===f?"q-date__today":null,flat:!H,label:f,dense:!0,unelevated:H,color:H===!0?Z.value:null,textColor:H===!0?te.value:null,tabindex:c.value,disable:v(f),...g("yr#"+f,{onClick:()=>{Ma(f)}})})]))}return w("div",{class:"q-date__view q-date__years flex flex-center"},[w("div",{class:"col-auto"},[w(J,{round:!0,dense:!0,flat:!0,icon:Ye.value[0],tabindex:c.value,disable:v(t),...g("y-",{onClick:()=>{U.value-=be}})})]),w("div",{class:"q-date__years-content col self-stretch row items-center"},i),w("div",{class:"col-auto"},[w(J,{round:!0,dense:!0,flat:!0,icon:Ye.value[1],tabindex:c.value,disable:v(n),...g("y+",{onClick:()=>{U.value+=be}})})])])}};function Ya(t){const n={...D.value,day:t};if(e.range===!1){ba(n,X.value);return}if(F.value===null){const i=Ne.value.find(f=>f.fill!==!0&&f.i===t);if(e.noUnset!==!0&&i.range!==void 0){lt({target:n,from:i.range.from,to:i.range.to});return}if(i.selected===!0){lt(n);return}const v=me(n);F.value={init:n,initHash:v,final:n,finalHash:v},r("rangeStart",De(n))}else{const i=F.value.initHash,v=me(n),f=i<=v?{from:F.value.init,to:n}:{from:n,to:F.value.init};F.value=null,ot(i===v?n:{target:n,...f}),r("rangeEnd",{from:De(f.from),to:De(f.to)})}}function Ca(t){if(F.value!==null){const n={...D.value,day:t};Object.assign(F.value,{final:n,finalHash:me(n)})}}return Object.assign(o,{setToday:d,setView:S,offsetCalendar:P,setCalendarTo:fe,setEditingRange:kt}),()=>{const t=[w("div",{class:"q-date__content col relative-position"},[w(xe,{name:"q-transition--fade"},ka[L.value])])],n=ea(a.default);return n!==void 0&&t.push(w("div",{class:"q-date__actions"},n)),e.name!==void 0&&e.disable!==!0&&q(t,"push"),w("div",{class:je.value,...Be.value},[xa(),w("div",{ref:C,class:"q-date__main col column",tabindex:-1},t)])}}}),Qn=yt({name:"QPopupProxy",props:{...Ka,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:r,attrs:o}){const{proxy:l}=_t(),{$q:u}=l,g=V(!1),c=V(null),y=m(()=>parseInt(e.breakpoint,10)),{canShow:$}=en({showing:g});function s(){return u.screen.width<y.value||u.screen.height<y.value?"dialog":"menu"}const p=V(s()),x=m(()=>p.value==="menu"?{maxHeight:"99vh"}:{});I(()=>s(),M=>{g.value!==!0&&(p.value=M)});function q(M){g.value=!0,r("show",M)}function C(M){g.value=!1,p.value=s(),r("hide",M)}return Object.assign(l,{show(M){$(M)===!0&&c.value.show(M)},hide(M){c.value.hide(M)},toggle(M){c.value.toggle(M)}}),Za(l,"currentComponent",()=>({type:p.value,ref:c.value})),()=>{const M={ref:c,...x.value,...o,onShow:q,onHide:C};let h;return p.value==="dialog"?h=ua:(h=$a,Object.assign(M,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),w(h,M,a.default)}}}),Rn={class:"row items-center justify-end"},Un={id:"select-date-huts-location"},Zn=se({__name:"WdSelectDate",setup(e){const{formatDate:a,addToDate:r,extractDate:o}=En,{selectedDate:l}=Xa(Wt()),{removeBookings:u,fetchHutBookingsGeojson:g}=Wt(),c=Fe(),y=sa(),$=Ge(),s=m(()=>$.screen.xs),p=V(!1);function x(M){const h=a(Date.now(),"YYYY/MM/DD");return M>=h}function q(M){p.value=!1;let h=Object.assign({},y.query);h.date=M;let b={query:h,hash:y.hash};u(),g({date:M,days:4}),c.push(b)}pt(()=>{l.value===void 0&&(l.value=y.query.date?y.query.date:void 0)}),I(l,(M,h)=>{if(M!==void 0&&M!=h){console.log(`Booking start date changed to '${M}'`);const b=o(M,"DD.MM.YY");Ga("select-date",{date:a(M,"DD.MM.YY"),month:a(b,"MMMM"),day:a(b,"dddd"),monthDay:a(b,"MMMM: dddd")}),q(M)}},{immediate:!0});function C(){u(),p.value=!1;let M=Object.assign({},y.query);l.value=void 0,delete M.date;let h={query:M};c.push(h)}return(M,h)=>(A(),ue("div",{class:ia([{"q-ml-md":!s.value,"q-ml-xs":s.value},"q-mr-md"]),style:{"max-width":"130px","max-height":"40px"}},[Y(Qn,{"no-parent-event":"",offset:[0,4],anchor:"bottom start",target:"#select-date-huts-location",modelValue:p.value,"onUpdate:modelValue":h[2]||(h[2]=b=>p.value=b),breakpoint:"600","transition-show":"jump-down","transition-hide":"jump-up"},{default:W(()=>[ye("div",null,[Y(Pn,{modelValue:He(l),"onUpdate:modelValue":h[1]||(h[1]=b=>Ft(l)?l.value=b:null),minimal:"",dark:!s.value,options:x,"first-day-of-week":"1","navigation-min-year-month":He(a)(Date.now(),"YYYY/MM"),"navigation-max-year-month":He(a)(He(r)(Date.now(),{years:2}),"YYYY/MM"),mask:"DD.MM.YY"},{default:W(()=>[ye("div",Rn,[Y(J,{label:"Reset",color:"secondary",flat:"",onClick:h[0]||(h[0]=b=>C())}),wt(Y(J,{label:"Close",color:"primary",flat:""},null,512),[[qa]])])]),_:1},8,["modelValue","dark","navigation-min-year-month","navigation-max-year-month"])])]),_:1},8,["modelValue"]),ye("div",Un,[Y(Ja,{id:"menu",readonly:"",modelValue:He(l),"onUpdate:modelValue":h[4]||(h[4]=b=>Ft(l)?l.value=b:null),dense:"",dark:"",standout:"",class:"toolbar-font",onClick:h[5]||(h[5]=b=>p.value=!0)},{append:W(()=>[Y(ht,{onClick:h[3]||(h[3]=b=>p.value=!0),name:"wd-calendar",class:"text-icon cursor-pointer",size:"sm"})]),_:1},8,["modelValue"])])],2))}}),Xn=ie(Zn,[["__scopeId","data-v-d7113ebe"],["__file","WdSelectDate.vue"]]),Zt="wd-menu",Xt="wd-menu-arrow",Jn=se({__name:"WdMenuButton",props:ta({side:{default:"left"},function:{default:"both"},mobile:{type:Boolean,default:!1},desktop:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=aa(e,"modelValue"),r=e,o=Ge(),l=m(()=>o.screen.xs),u=m(()=>a.value?"close menu":"open menu"),g=m(()=>r.function=="open"?Zt:r.function=="close"||a.value?Xt:Zt),c=m(()=>!r.mobile&&!r.desktop||r.mobile&&l.value?!0:!!(r.desktop&&!l.value));return(y,$)=>{const s=mt;return c.value?(A(),ee(s,{key:0,color:"icon",icon:g.value,class:ia({"rotate-180":r.side=="right"}),"aria-label":u.value,onClick:$[0]||($[0]=p=>a.value=!a.value)},null,8,["icon","class","aria-label"])):_e("",!0)}}}),Gn=ie(Jn,[["__file","WdMenuButton.vue"]]),Kn=se({__name:"WdAnalytics",setup(e){return pt(()=>{{const a=document.createElement("script");a.async=!0,a.defer=!0,a.dataset.websiteId="80f0c844-babe-4e45-b398-cc95b1a2c5cf";let r;r="https://stats.wodore.com",a.src=`${r}/script.js`,document.head.appendChild(a)}}),(a,r)=>(A(),ue("div"))}}),eo=ie(Kn,[["__file","WdAnalytics.vue"]]),to={class:"text-h4"},ao={key:0,class:"text-black text-weight-medium"},no=se({__name:"WodoreLogo",props:{icon:{type:Boolean,default:!1},text:{type:Boolean,default:!1},textColorLeft:{default:"black"},textColorRight:{default:"accent"},logoPath:{default:"/logos/wodore_original.svg"}},setup(e){const a=e,r=m(()=>!a.icon&&!a.text?!0:a.icon),o=m(()=>!a.icon&&!a.text?!0:a.text);return(l,u)=>(A(),ue("span",to,[o.value?(A(),ue("span",ao,"wo")):_e("",!0),r.value?(A(),ee(ht,{key:1,style:{transform:"translateY(-4px)"},name:"img:"+a.logoPath},null,8,["name"])):_e("",!0),o.value?(A(),ue("span",{key:2,style:gt({"margin-left":a.icon?0:"3pt"}),class:"text-accent text-weight-regular"},"dore",4)):_e("",!0)]))}}),Jt=ie(no,[["__file","WodoreLogo.vue"]]),oo=se({__name:"MainLayout",setup(e){const a=Ge(),r=m(()=>a.screen.xs),o=V(!1),l=V(!0),u=V(!1),g=sa(),c=Fe();jt(()=>{u.value=g.meta?.dialog}),jt(()=>{l.value=g.meta?.content});function y($){console.debug(`Closed content in ${$} mode.`),c.push({name:"map",hash:g.hash,query:g.query})}return($,s)=>{const p=eo,x=Gn,q=Xn,C=ca,M=vn,h=na("router-view"),b=cn;return A(),ue(oa,null,[Y(p),Y(Ha,{view:"hHh LpR fFf",class:"overflow-hidden"},{default:W(()=>[Y(Oa,{class:"text-white shadow-6 app-header"},{default:W(()=>[Y(Vt,null,{default:W(()=>[Y(x,{desktop:"",modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=j=>o.value=j)},null,8,["modelValue"]),Y(Tt,null,{default:W(()=>[Y(Jt,{class:"text-h4",text:!r.value,icon:""},null,8,["text"])]),_:1}),Y(q),Y(C,{class:"text-secondary-700"}),r.value?_e("",!0):(A(),ee(M,{key:0})),Y(ua,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=j=>u.value=j),"no-backdrop-dismiss":"",persistent:"",maximized:r.value,"backdrop-filter":"blur(3px) saturate(180%) grayscale(60%)"},{default:W(()=>[Y(h,{name:"dialog"},{default:W(({Component:j,route:R})=>[(A(),ee(Je(j),{key:R.path}))]),_:1})]),_:1},8,["modelValue","maximized"]),Y(x,{mobile:"",function:"open",side:"right",modelValue:o.value,"onUpdate:modelValue":s[2]||(s[2]=j=>o.value=j)},null,8,["modelValue"])]),_:1})]),_:1}),Y(da,{modelValue:o.value,"onUpdate:modelValue":s[4]||(s[4]=j=>o.value=j),side:r.value?"right":"left",width:200,breakpoint:610,class:"shadow-2"},{default:W(()=>[r.value?(A(),ee(Vt,{key:0,class:"bg-primary-600"},{default:W(()=>[Y(Tt,null,{default:W(()=>[Y(Jt,{text:"",class:"text-h5"})]),_:1}),Y(M,{size:"md"}),Y(x,{mobile:"",side:"right",modelValue:o.value,"onUpdate:modelValue":s[3]||(s[3]=j=>o.value=j)},null,8,["modelValue"])]),_:1})):_e("",!0),Y(h,{name:"menu"})]),_:1},8,["modelValue","side"]),Y(Va,null,{default:W(()=>[Y(h,null,{default:W(({Component:j})=>[(A(),ee(Je(j)))]),_:1})]),_:1}),Y(b,{onClose:y,modelValue:l.value,"onUpdate:modelValue":s[5]||(s[5]=j=>l.value=j)},null,8,["modelValue"])]),_:1})],64)}}}),go=ie(oo,[["__file","MainLayout.vue"]]);export{go as default};
