import{o as d,a as C,f as _,h as F,j as ie,ai as Ie,l as se,m as re,aj as We,t as f,E as Qe,D as I,Q as B,ak as Re,al as Ce,am as $e,d as W,c as q,L as i,e as l,an as ce,a6 as M,ao as S,ap as N,O as $,_ as Q,s as L,N as H,P as ee,aq as te,ar as Ae,x as j,A as ye,as as Ne,z as Oe,n as Y,C as P,at as be,a8 as Ve,g as R,F as ue,au as je,av as Fe,aw as De,ax as Pe,ay as Ke,M as Se,az as Ue,aA as Ze,aB as Ye,aC as Ge,a2 as Je,a7 as we}from"./index-BVex5TGT.js";import{u as Xe}from"./vue-i18n.runtime-C3-3r7CJ.js";import{Q as He,a as et,g as tt,b as nt}from"./imageService-BgDsGFlB.js";import{u as de}from"./use-quasar-B-I6W6fc.js";import{c as Be,d as ot,e as at,a as lt,C as it,_ as st,b as rt,f as ct,Q as ut}from"./QLayout-DRQ2jhx2.js";import{u as dt}from"./vue-maplibre-gl.es-y_77okCs.js";import{Q as _t}from"./QTooltip-BilD6htS.js";import{Q as mt}from"./QPage-CVwqsv98.js";import{c as ht}from"./index-Bj4u0j8H.js";import{b as ft}from"./huts-store-BbvP8fGU.js";import"./QScrollObserver-6V1yEwW-.js";import"./use-hydration-CG0W0lN0.js";import"./_commonjsHelpers-C4iS2aBk.js";const pt={viewBox:"0 0 448 512",width:"1.2em",height:"1.2em"},vt=_("path",{fill:"currentColor",d:"M208 0h124.1C344.8 0 357 5.1 366 14.1L433.9 82c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48M48 128h80v64H64v256h192v-32h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48"},null,-1),gt=[vt];function yt(e,t){return d(),C("svg",pt,[...gt])}const bt={name:"fa6-solid-copy",render:yt},wt={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},xt=_("path",{fill:"currentColor",d:"M256 0c17.7 0 32 14.3 32 32v34.7c80.4 13.4 143.9 76.9 157.3 157.3H480c17.7 0 32 14.3 32 32s-14.3 32-32 32h-34.7c-13.4 80.4-76.9 143.9-157.3 157.3V480c0 17.7-14.3 32-32 32s-32-14.3-32-32v-34.7C143.6 431.9 80.1 368.4 66.7 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h34.7C80.1 143.6 143.6 80.1 224 66.7V32c0-17.7 14.3-32 32-32M128 256a128 128 0 1 0 256 0a128 128 0 1 0-256 0m128-80a80 80 0 1 1 0 160a80 80 0 1 1 0-160"},null,-1),kt=[xt];function qt(e,t){return d(),C("svg",wt,[...kt])}const zt={name:"fa6-solid-location-crosshairs",render:qt},Ct={xs:8,sm:10,md:14,lg:20,xl:24},_e=F({name:"QChip",props:{...ie,...Ie,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=se(),o=re(e,a),r=We(e,Ct),c=f(()=>e.selected===!0||e.icon!==void 0),b=f(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),w=f(()=>e.iconRemove||a.iconSet.chip.remove),p=f(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),m=f(()=>{const s=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(s?` text-${s} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(p.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),h=f(()=>{const s=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},y={...s,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:s,remove:y}});function z(s){s.keyCode===13&&x(s)}function x(s){e.disable||(n("update:selected",!e.selected),n("click",s))}function g(s){(s.keyCode===void 0||s.keyCode===13)&&($e(s),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function u(){const s=[];p.value===!0&&s.push(I("div",{class:"q-focus-helper"})),c.value===!0&&s.push(I(B,{class:"q-chip__icon q-chip__icon--left",name:b.value}));const y=e.label!==void 0?[I("div",{class:"ellipsis"},[e.label])]:void 0;return s.push(I("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Re(t.default,y))),e.iconRight&&s.push(I(B,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&s.push(I(B,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:w.value,...h.value.remove,onClick:g,onKeyup:g})),s}return()=>{if(e.modelValue===!1)return;const s={class:m.value,style:r.value};return p.value===!0&&Object.assign(s,h.value.chip,{onClick:x,onKeyup:z}),Qe("div",s,u(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ce,e.ripple]])}}}),$t={class:"text-primary-900"},St=W({__name:"WdHutTypeNameChip",props:{type:{},name:{},color:{default:"white"},color2:{}},setup(e){const t=e,n=f(()=>t.color2?t.color2:"white");return(a,o)=>a.type&&a.type.name?(d(),q(_e,{key:0,size:"md",class:M("bg-"+n.value+" q-mr-none"),style:{"min-width":"40px","max-width":"200px","max-height":"30px"}},{default:i(()=>[l(ce,{class:M("bg-"+a.color),"text-color":"white"},{default:i(()=>[l(B,{size:"24px",name:"img:"+(a.$q.platform.is.mobile?a.type.symbol:a.type.symbol_simple)},null,8,["name"])]),_:1},8,["class"]),_("span",$t,S(a.name),1),N(a.$slots,"default")]),_:3},8,["class"])):$("",!0)}}),Ht=Q(St,[["__file","WdHutTypeNameChip.vue"]]),ne=["01","02","03","04","05","06","07","08","09","10","11","12"];function Bt(){const{t:e}=Xe(),t=L({"01":e("jan"),"02":e("feb"),"03":e("mar"),"04":e("apr"),"05":e("may"),"06":e("jun"),"07":e("jul"),"08":e("aug"),"09":e("sep"),10:e("oct"),11:e("nov"),12:e("dec")});function n(a){return t.value[a]}return{monthList:ne,monthNames:t,getMonthName:n}}const Mt={yes:{main0:"open"},no:{main0:"closed"},maybe:{main0:"open",main1:"closed"},unknown:{main0:"unknown"}},Lt={yes:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"open",main1:"closed"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},no:{maybe:{yes:{main0:"closed",main1:"open"},no:{main0:"closed",minor:"open"},maybe:{main0:"closed",minor:"open"},unknown:{main0:"closed",minor:"open"}}},maybe:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},unknown:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}}},Et={class:"q-ma-xs row items-center justify-center no-wrap"},Tt=W({__name:"WdMonthly",props:{month:{},icons:{}},setup(e){const{getMonthName:t}=Bt(),n=e,a=f(()=>t(n.month));return(o,r)=>(d(),C("div",{class:M(["card column items-center overflow-hidden q-mb-xs","month_"+o.month+"--gradient-light"])},[_("div",{class:M(["text-caption header text-center row justify-center","month_"+o.month+"--gradient"])},S(a.value),3),_("div",Et,[l(B,{size:"24px",name:o.icons.main0},null,8,["name"]),o.icons.main1?(d(),q(B,{key:0,size:"24px",name:o.icons.main1},null,8,["name"])):$("",!0),o.icons.minor?(d(),q(B,{key:1,size:"20px",name:o.icons.minor,style:{transform:"translate(-2px, 7px)"}},null,8,["name"])):$("",!0)])],2))}}),It=Q(Tt,[["__scopeId","data-v-f695df66"],["__file","WdMonthly.vue"]]),Wt={key:0},Qt={class:"text-subtitle1 text-accent q-mb-sm"},Rt={key:0,class:"row monthly overflow-hidden"},At={style:{height:"50px",width:"700px"}},Nt={class:"row monthly overflow-hidden"},Ot={class:"justify-center row q-my-sm"},Vt=W({__name:"WdHutOpenMonthly",props:{open_monthly:{},type_open:{},type_closed:{}},setup(e){const t=de(),n=e,a=f(()=>t.platform.is.mobile);function o(m){let h;if(n.open_monthly)h=n.open_monthly["month_"+m];else return"unknown";return h===void 0?"unknown":h}function r(m){const h=parseInt(m),z=(h>=0?h-1:11).toString().padStart(2,"0"),x=(h>=11?0:h+1).toString().padStart(2,"0"),g=o(m),u=o(z),s=o(x);let y;return g=="maybe"?y=Lt[u][g][s]:y=Mt[g],{main0:c(y.main0)===void 0?p():c(y.main0),main1:c(y.main1),minor:c(y.minor)}}function c(m){return m=="open"?w():m=="closed"?b():m=="unknown"?p():void 0}function b(){return a.value?n.type_closed?"img:"+n.type_closed.symbol:p():n.type_closed?"img:"+n.type_closed.symbol_simple:p()}function w(){return a.value?"img:"+n.type_open?.symbol:"img:"+n.type_open?.symbol_simple}function p(){return a.value?"img:https://api.wodore.com/media/huts/types/symbols/detailed/unknown.png":"img:https://api.wodore.com/media/huts/types/symbols/simple/unknown.png"}return(m,h)=>{const z=It,x=Ht;return n.open_monthly?(d(),C("div",Wt,[_("div",Qt,S(m.$t("hut_type")),1),H(t).platform.is.mobile?$("",!0):(d(),C("div",Rt,[(d(!0),C(ee,null,te(H(ne),g=>(d(),C("div",{key:g,class:"col-md-2 col-sm-1 col-2"},[l(z,{icons:r(g),month:g},null,8,["icons","month"])]))),128))])),H(t).platform.is.mobile?(d(),q(He,{key:1,style:{height:"55px"},class:"monthly overflow-hidden","horizontal-thumb-style":{height:"3px"}},{default:i(()=>[_("div",At,[_("div",Nt,[(d(!0),C(ee,null,te(H(ne),g=>(d(),C("div",{key:g,class:"col-1"},[l(z,{icons:r(g),month:g},null,8,["icons","month"])]))),128))])])]),_:1})):$("",!0),_("div",Ot,[m.type_open?(d(),q(x,{key:0,class:"col-shrink",type:m.type_open,name:m.type_open.name,color:"green-4",color2:"green-2"},null,8,["type","name"])):$("",!0),m.type_closed?(d(),q(x,{key:1,class:"col-shrink",type:m.type_closed,name:m.type_closed.name,color:"brown-3",color2:"brown-2"},null,8,["type","name"])):$("",!0)])])):$("",!0)}}}),jt=Q(Vt,[["__scopeId","data-v-055153b8"],["__file","WdHutOpenMonthly.vue"]]);var J=null;function Ft(e){return J||(J=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),J(e)}var X=null;function Dt(e){X||(X=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),X(e)}function Pt(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function K(e,t){t===void 0&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(a){n[a]=t[a]}),n}function Me(e,t,n){var a=window.getComputedStyle(e,null)||{display:"none"};return a[t]}function oe(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(Me(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var Kt='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',ae=0,U=null;function Ut(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=Gt.bind(e));var n=e.__resize_listeners__;if(!n){if(e.__resize_listeners__=[],window.ResizeObserver){var a=e.offsetWidth,o=e.offsetHeight,r=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===a&&e.offsetHeight===o)||Z(e)}),c=oe(e),b=c.detached,w=c.rendered;e.__resize_observer_triggered__=b===!1&&w===!1,e.__resize_observer__=r,r.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){Z(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(ae||(U=Pt(Kt)),Jt(e),e.__resize_rendered__=oe(e).rendered,window.MutationObserver){var p=new MutationObserver(e.__resize_mutation_handler__);p.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=p}}e.__resize_listeners__.push(t),ae++}function Zt(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",me),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--ae&&U&&U.parentNode.removeChild(U)}}function Yt(e){var t=e.__resize_last__,n=t.width,a=t.height,o=e.offsetWidth,r=e.offsetHeight;return o!==n||r!==a?{width:o,height:r}:null}function Gt(){var e=oe(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(he(this),this.addEventListener("scroll",me,!0)),this.__resize_rendered__=t,Z(this))}function me(){var e=this;he(this),this.__resize_raf__&&Dt(this.__resize_raf__),this.__resize_raf__=Ft(function(){var t=Yt(e);t&&(e.__resize_last__=t,Z(e))})}function Z(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function Jt(e){var t=Me(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var n=K("div",{className:"resize-triggers"}),a=K("div",{className:"resize-expand-trigger"}),o=K("div"),r=K("div",{className:"resize-contract-trigger"});a.appendChild(o),n.appendChild(a),n.appendChild(r),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:a,expandChild:o,contract:r},he(e),e.addEventListener("scroll",me,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function he(e){var t=e.__resize_triggers__,n=t.expand,a=t.expandChild,o=t.contract,r=o.scrollWidth,c=o.scrollHeight,b=n.offsetWidth,w=n.offsetHeight,p=n.scrollWidth,m=n.scrollHeight;o.scrollLeft=r,o.scrollTop=c,a.style.width=b+1+"px",a.style.height=w+1+"px",n.scrollLeft=p,n.scrollTop=m}const Xt=["aria-label"];var Le=W({__name:"text-clamp",props:{text:{type:String,required:!0},maxHeight:{type:[String,Number],required:!1},maxLines:{type:Number,required:!1},expanded:{type:Boolean,required:!1,default:!1},location:{type:String,required:!1,default:"end"},ellipsis:{type:String,required:!1,default:"…"},autoResize:{type:Boolean,required:!1,default:!1}},emits:["clamp-change","update:expanded"],setup(e,{emit:t}){const n=e,a=L(null),o=L(null),r=L(null),c=Ae({offset:0,localExpanded:!!n.expanded,unregisterResizeCallback:null}),b=f(()=>{if(!c.localExpanded&&n.maxHeight)return typeof n?.maxHeight=="number"?`${n?.maxHeight}px`:n?.maxHeight}),w=()=>{r.value&&(r.value.textContent=G.value)},p=()=>{c.localExpanded||(w(),(z()||T.value)&&g())},m=()=>{n.text&&(c.offset=n.text.length,h(),n.autoResize&&a.value&&(Ut(a.value,p),c.unregisterResizeCallback=()=>{a.value&&Zt(a.value,p)}),p())},h=()=>{c.unregisterResizeCallback?.()},z=()=>!(!n.maxLines&&!n.maxHeight)&&!!a.value&&(!!(n.maxLines&&x()>n.maxLines)||!!(n.maxHeight&&a.value.scrollHeight>a.value.offsetHeight)),x=()=>o.value?Object.keys(Array.prototype.slice.call(o.value.getClientRects()).reduce((k,{top:O,bottom:D})=>{const V=`${O}/${D}`;return k[V]||(k[V]=!0),k},{})).length:0,g=(...k)=>{const[O=0,D=c.offset]=k;if(D-O<=3)return void s();const V=Math.floor((D+O)/2);u(V),z()?g(O,V):g(V,D)},u=k=>{c.offset=k,w()},s=()=>{y(),E()},y=()=>{for(;(!z()||x()<2)&&c.offset<n.text.length;)v(1)},E=()=>{for(;z()&&x()>1&&c.offset>0;)v(-1)},v=k=>{u(c.offset+k)},T=f(()=>!!n.text&&c.offset!==n.text.length);j(()=>T.value,k=>{setTimeout(()=>{t("clamp-change",k)},0)},{immediate:!0});const G=f(()=>T.value?fe.value:n.text),fe=f(()=>{if(n.location==="start")return n.ellipsis+(n.text.slice(-c.offset)||"").trim();if(n.location==="middle"){const k=Math.floor(c.offset/2);return(n.text.slice(0,k)||"").trim()+n.ellipsis+(n.text.slice(-k)||"").trim()}return(n.text.slice(0,c.offset)||"").trim()+n.ellipsis}),pe=()=>{c.localExpanded=!0},ve=()=>{c.localExpanded=!1},ge=()=>{c.localExpanded=!c.localExpanded};return j(()=>n.expanded,k=>{c.localExpanded=k}),j(()=>c.localExpanded,k=>{k?u(n.text.length):p(),n.expanded!==k&&t("update:expanded",k)}),j(()=>[n.maxLines,n.maxHeight,n.ellipsis,n.location,T.value].join(),()=>{ye(()=>{p()})}),j(()=>[n.text,n.autoResize].join(),()=>{ye(()=>{m()})}),Ne(()=>{h()}),Oe(()=>{m()}),(k,O)=>(d(),C("div",{ref_key:"textClampRef",ref:a,class:"text-clamp",style:Y({overflow:"hidden",maxHeight:H(b)})},[_("span",{ref_key:"contentRef",ref:o},[N(k.$slots,"before",{expand:pe,collapse:ve,toggle:ge,clamped:H(T),expanded:c.localExpanded}),_("span",{ref_key:"textRef",ref:r,"aria-label":e.text},null,8,Xt),N(k.$slots,"after",{expand:pe,collapse:ve,toggle:ge,clamped:H(T),expanded:c.localExpanded})],512)],4))}});Le.__file="package/text-clamp.vue";const en=e=>(e.install=function(t){t.component(e.__name,e)},e),tn=en(Le),nn=["onClick"],on=["onClick"],an=W({__name:"WdTextClamp",setup(e){return(t,n)=>(d(),q(H(tn),null,{after:i(({toggle:a,expanded:o,clamped:r})=>[P(_("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},S(t.$t("more")),9,nn),[[be,r]]),P(_("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},S(t.$t("less")),9,on),[[be,o]])]),_:1}))}}),ln=Q(an,[["__file","WdTextClamp.vue"]]),sn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},rn=_("g",{fill:"none","fill-rule":"evenodd"},[_("path",{d:"M24 0v24H0V0zM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),_("path",{fill:"currentColor",d:"M8.701 5.75c.577-1 2.02-1 2.598 0l3.5 6.062l.902-1.562c.577-1 2.02-1 2.598 0l4.33 7.5A1.5 1.5 0 0 1 21.33 20H17v-.002a1.555 1.555 0 0 1-.072.002H3.072a1.5 1.5 0 0 1-1.3-2.25zm-.91 5.576l.709.472l.945-.63a1 1 0 0 1 1.11 0l.945.63l.709-.472L10 7.5z"})],-1),cn=[rn];function un(e,t){return d(),C("svg",sn,[...cn])}const dn={name:"mingcute-mountain2-fill",render:un},_n=W({__name:"QIconify",props:{is:{}},setup(e){return(t,n)=>(d(),q(B,null,{default:i(()=>[(d(),q(Ve(t.is)))]),_:1}))}}),mn=Q(_n,[["__file","QIconify.vue"]]),hn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fn=_("path",{fill:"currentColor",d:"M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39l8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33Z"},null,-1),pn=[fn];function vn(e,t){return d(),C("svg",hn,[...pn])}const gn={name:"eva-checkmark-fill",render:vn},yn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},bn=_("path",{fill:"currentColor",d:"M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0a3 3 0 1 1 3 3a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9"},null,-1),wn=_("circle",{cx:"12",cy:"19",r:"1",fill:"currentColor"},null,-1),xn=[bn,wn];function kn(e,t){return d(),C("svg",yn,[...xn])}const xe={name:"eva-question-mark-fill",render:kn},qn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},zn=_("path",{fill:"currentColor",d:"m13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29l-4.3 4.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l4.29-4.3l4.29 4.3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42Z"},null,-1),Cn=[zn];function $n(e,t){return d(),C("svg",qn,[...Cn])}const Sn={name:"eva-close-fill",render:$n},Hn={class:"text-accent-900",style:{"font-weight":"500",width:"28px"}},Bn=W({__name:"WdHutTypeChip",props:{type:{},capacity:{},color:{default:"white"},color2:{},open:{default:void 0}},setup(e){const t=e,n=f(()=>{switch(t.open){case"yes":return gn;case"no":return Sn;case"maybe":return xe}return xe}),a=f(()=>t.color2?t.color2:"white"),o=f(()=>{switch(t.open){case"yes":return"green-6";case"no":return"red-4";case"maybe":return"green-6"}return"grey-6"});return(r,c)=>{const b=mn;return r.type&&r.type.name?(d(),q(_e,{key:0,size:"md",class:M("bg-"+a.value+" q-mr-none"),style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:i(()=>[l(ce,{class:M("bg-"+r.color),"text-color":"white"},{default:i(()=>[l(B,{size:"24px",name:"img:"+(r.$q.platform.is.mobile?r.type.symbol:r.type.symbol_simple)},null,8,["name"])]),_:1},8,["class"]),_("span",Hn,S(r.capacity===void 0||r.capacity==null?"?":r.capacity),1),l(b,{class:M("bg-"+o.value+" badge"),color:"white",size:"14px",is:n.value},null,8,["class","is"]),N(r.$slots,"default",{},void 0,!0)]),_:3},8,["class"])):$("",!0)}}}),Mn=Q(Bn,[["__scopeId","data-v-764c35fd"],["__file","WdHutTypeChip.vue"]]),Ln={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},En=_("path",{fill:"currentColor",d:"M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1"},null,-1),Tn=_("path",{fill:"currentColor",d:"M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2"},null,-1),In=[En,Tn];function Wn(e,t){return d(),C("svg",Ln,[...In])}const Qn={name:"eva-external-link-fill",render:Wn},Rn=["href"],An={key:1},Nn=W({__name:"WdHutHeader",props:{hut:{},ontop:{type:Boolean}},setup(e){return(t,n)=>{const a=Qn;return d(),q(at,{class:M(["no-background",{"shadow-3":t.ontop}]),style:{transition:"box-shadow 0.2s ease","background-color":"unset"}},{default:i(()=>[N(t.$slots,"default"),t.hut?(d(),q(Be,{key:0,class:""},{default:i(()=>[l(ot,{style:{"text-wrap":"wrap",transform:"translateY(4px)","margin-left":"3px","background-color":"unset"},class:"text-primary-900"},{default:i(()=>[_("h1",{class:M(["text-h5 q-ma-none q-mt-xs",[t.$q.screen.xs||t.$q.platform.is.mobile?"text-h6":"text-h5"]])},[t.hut.url?(d(),C("a",{key:0,href:t.hut.url,targe:"_blank"},[R(S(t.hut.name)+" ",1),l(B,{size:"11pt",style:{transform:"translateY(-6px)"}},{default:i(()=>[l(a)]),_:1})],8,Rn)):(d(),C("span",An,S(t.hut.name),1))],2)]),_:1})]),_:1})):$("",!0)]),_:3},8,["class"])}}}),On=Q(Nn,[["__file","WdHutHeader.vue"]]),A=F({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=f(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>I("div",{class:n.value},ue(t.default))}}),le=F({name:"QItem",props:{...ie,...je,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=se(),o=re(e,a),{hasLink:r,linkAttrs:c,linkClass:b,linkTag:w,navigateOnClick:p}=Fe(),m=L(null),h=L(null),z=f(()=>e.clickable===!0||r.value===!0||e.tag==="label"),x=f(()=>e.disable!==!0&&z.value===!0),g=f(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(o.value===!0?" q-item--dark":"")+(r.value===!0&&e.active===null?b.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(x.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),u=f(()=>e.insetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function s(v){x.value===!0&&(h.value!==null&&(v.qKeyEvent!==!0&&document.activeElement===m.value?h.value.focus():document.activeElement===h.value&&m.value.focus()),p(v))}function y(v){if(x.value===!0&&De(v,[13,32])===!0){$e(v),v.qKeyEvent=!0;const T=new MouseEvent("click",v);T.qKeyEvent=!0,m.value.dispatchEvent(T)}n("keyup",v)}function E(){const v=Pe(t.default,[]);return x.value===!0&&v.unshift(I("div",{class:"q-focus-helper",tabindex:-1,ref:h})),v}return()=>{const v={ref:m,class:g.value,style:u.value,role:"listitem",onClick:s,onKeyup:y};return x.value===!0?(v.tabindex=e.tabindex||"0",Object.assign(v,c.value)):z.value===!0&&(v["aria-disabled"]="true"),I(w.value,v,E())}}}),Vn=W({__name:"WdToolbarExtraButton",props:{icon:{},iconColor:{default:"primary-800"},disabled:{type:Boolean,default:!1}},setup(e){return(t,n)=>P((d(),q(le,{clickable:!t.disabled,style:Y(t.disabled?"opacity : 0.5;":"")},{default:i(()=>[l(A,{avatar:"",style:{"min-width":"34px","padding-right":"0"}},{default:i(()=>[l(B,{color:t.iconColor,name:t.icon},null,8,["color","name"])]),_:1}),l(A,null,{default:i(()=>[N(t.$slots,"default")]),_:3})]),_:3},8,["clickable","style"])),[[Ce]])}}),jn=Q(Vn,[["__file","WdToolbarExtraButton.vue"]]),Fn=["top","middle","bottom"],Dn=F({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Fn.includes(e)}},setup(e,{slots:t}){const n=f(()=>e.align!==void 0?{verticalAlign:e.align}:null),a=f(()=>{const o=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(o!==void 0?` text-${o}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>I("div",{class:a.value,style:n.value,role:"status","aria-label":e.label},Ke(t.default,e.label!==void 0?[e.label]:[]))}}),Ee=F({name:"QList",props:{...ie,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=se(),a=re(e,n.proxy.$q),o=f(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>I(e.tag,{class:o.value},ue(t.default))}}),Pn=W({__name:"WdHutToolbar",props:{hut:{}},setup(e){const t=e,n={new:["warning-200","ungeprüft"],done:["positive-800","ok"],review:["warning-500","validieren"],work:["secondary-800","überarbeiten"],reject:["negative-300","ungültig"]};function a(u,s,y="work"){return t!==void 0&&(t.hut?.type_open?.slug=="unknown"||t.hut?.capacity_open==null||t.hut?.open_monthly?.month_01==null||t.hut?.elevation==null)&&(u="work"),u!==void 0&&u!=null&&u in n?n[u][s]:n[y][s]}function o(u){return a(u,0)}function r(u){return a(u,1)}const c=de(),b=dt(),w=L(!1),p=L(!1);function m(){p.value=!p.value}function h(){if(b.map!==void 0&&t.hut!==void 0){const u=t.hut.location;if(u!=null){const s=b.map.getZoom();b.map.flyTo({center:[u.lon,u.lat],zoom:s>12?s:12,padding:{right:c.screen.xs?0:400,bottom:c.screen.xs?300:0}})}}}function z(u,s,y,E,v=.004){return u+v>=s&&u-v<=s&&y+v>=E&&y-v<=E}const x=L(!1),g=L(!0);return j(x,()=>{if(g.value=!0,b.map!==void 0&&t.hut!==void 0){const u=t.hut.location;if(u!=null){const s=b.map.getCenter(),y=b.map.getZoom();g.value=z(u.lat,s.lat,u.lon,s.lng,.005/Math.sqrt(y))}}}),(u,s)=>{const y=st,E=jn;return d(),q(Be,null,{default:i(()=>[N(u.$slots,"default"),l(et),u.hut?(d(),q(Dn,{key:0,outline:"",class:"q-mr-xs",color:o(u.hut.review_status)},{default:i(()=>[R(S(r(u.hut.review_status)),1)]),_:1},8,["color"])):$("",!0),l(y,{size:"md",color:w.value?"accent":"primary-900",icon:w.value?"wd-eye":"wd-eye-outline",style:{opacity:"0.5",cursor:"not-allowed"}},null,8,["color","icon"]),l(y,{size:"md",class:"text-primary-900",icon:"wd-more-vertical"},{default:i(()=>[l(lt,{class:"bg-primary-100",modelValue:x.value,"onUpdate:modelValue":s[0]||(s[0]=v=>x.value=v)},{default:i(()=>[l(Ee,{style:{"min-width":"100px"}},{default:i(()=>[l(E,{onClick:m,icon:p.value?"wd-favorite":"wd-favorite-outline","icon-color":p.value?"accent":"primary-800",disabled:!0},{default:i(()=>[R(S(u.$t("favorite")),1)]),_:1},8,["icon","icon-color"]),H(b).map&&u.hut?.location?P((d(),q(E,{key:0,icon:"wd-location-question",onClick:h,disabled:g.value},{default:i(()=>[R(S(u.$t("show_map")),1)]),_:1},8,["disabled"])),[[it]]):$("",!0),l(E,{icon:"wd-edit-outline",href:u.hut?.edit_link,target:"_blank"},{default:i(()=>[R(S(u.$t("edit")),1)]),_:1},8,["href"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3})}}}),Kn=Q(Pn,[["__file","WdHutToolbar.vue"]]),Un=["src"],Zn=W({__name:"WdSourceButtons",props:{hut:{},round:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},background:{type:Boolean,default:!1},padding:{default:"xs"},color:{},target:{default:"_blank"}},setup(e){const t=e;return(n,a)=>n.hut?(d(),C("div",{key:0,class:M(["justify-start row",{content:n.background}])},[(d(!0),C(ee,null,te(t.hut?.sources,o=>(d(),C("div",{key:o.name,class:"col"},[l(Se,{href:o.link,target:t.target,flat:t.flat,padding:t.padding,round:t.round,color:t.color},{default:i(()=>[_("img",{style:Y({height:(n.$q.platform.is.mobile,"24px")}),src:o.logo},null,12,Un),l(_t,{"hide-delay":150,delay:150},{default:i(()=>[_("span",null,S(o.fullname),1)]),_:2},1024)]),_:2},1032,["href","target","flat","padding","round","color"])]))),128))],2)):$("",!0)}}),Yn=Q(Zn,[["__scopeId","data-v-d2ae3a7f"],["__file","WdSourceButtons.vue"]]),ke=F({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=f(()=>parseInt(e.lines,10)),a=f(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=f(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>I("div",{style:o.value,class:a.value},ue(t.default))}}),qe={threshold:0,root:null,rootMargin:"0px"};function ze(e,t,n){let a,o,r;typeof n=="function"?(a=n,o=qe,r=t.cfg===void 0):(a=n.handler,o=Object.assign({},qe,n.cfg),r=t.cfg===void 0||Ze(t.cfg,o)===!1),t.handler!==a&&(t.handler=a),r===!0&&(t.cfg=o,t.observer!==void 0&&t.observer.unobserve(e),t.observer=new IntersectionObserver(([c])=>{if(typeof t.handler=="function"){if(c.rootBounds===null&&document.body.contains(e)===!0){t.observer.unobserve(e),t.observer.observe(e);return}(t.handler(c,t.observer)===!1||t.once===!0&&c.isIntersecting===!0)&&Te(e)}},o),t.observer.observe(e))}function Te(e){const t=e.__qvisible;t!==void 0&&(t.observer!==void 0&&t.observer.unobserve(e),delete e.__qvisible)}const Gn=Ue({name:"intersection",mounted(e,{modifiers:t,value:n}){const a={once:t.once===!0};ze(e,a,n),e.__qvisible=a},updated(e,t){const n=e.__qvisible;n!==void 0&&ze(e,n,t.value)},beforeUnmount:Te});function Jn(e){const t=document.createElement("textarea");t.value=e,t.contentEditable="true",t.style.position="fixed";const n=()=>{};Ye(n),document.body.appendChild(t),t.focus(),t.select();const a=document.execCommand("copy");return t.remove(),Ge(n),a}function Xn(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((t,n)=>{const a=Jn(e);a?t(!0):n(a)})}const eo={class:"row items-start q-gutter-sm"},to={key:0,class:"col-md-12 col-sm-7 col-7"},no={class:"absolute-bottom-right row attribution"},oo=["innerHTML"],ao={class:"text-primary-500",style:{"font-weight":"500",width:"28px"}},lo={class:"text-body2 q-my-lg"},io=["innerHTML"],so={class:"text-subtitle1 text-accent"},ro=W({__name:"WdHutView",props:{slug:{}},setup(e){const{selectedMonth:t}=Je(ft()),n=de(),a=e,o=L(void 0),r=f(()=>{const h=t.value;if(o.value?.open_monthly===void 0||o.value?.open_monthly==null)return"unknown";const z=o.value?.open_monthly[`month_${h}`];return z===void 0?"unknown":z}),c=f(()=>{switch(r.value){case"yes":return"no";case"no":return"yes"}return r.value}),b=L(!1);we(()=>{o.value=void 0,b.value=!1,a.slug&&ht.GET("/v1/huts/{slug}",{params:{path:{slug:a.slug}}}).then(({data:h})=>{h&&(o.value=h)})});const w=L(void 0),p=f(()=>n.screen.gt.sm);we(()=>{o.value?.photos?w.value=tt(o.value?.photos,{size:"600x400",smart:!0,fit:!0}):w.value=void 0});const m=h=>(b.value=!h.isIntersecting,!0);return(h,z)=>{const x=Yn,g=Kn,u=On,s=Mn,y=dn,E=ln,v=jt,T=zt,G=bt;return d(),q(rt,{view:"lhh LpR lff",container:"",class:M(["no-background fit",H(n).dark.isActive?"bg-grey-9":"bg-grey-3"]),style:{height:"100%"}},{default:i(()=>[l(u,{hut:o.value,ontop:b.value},{default:i(()=>[p.value?(d(),q(g,{key:0,hut:o.value},{default:i(()=>[l(x,{hut:o.value,class:"q-ml-xl"},null,8,["hut"])]),_:1},8,["hut"])):$("",!0)]),_:1},8,["hut","ontop"]),l(ct,{class:"fit",style:{height:"100%"}},{default:i(()=>[l(He,{visible:"","thumb-style":{width:"6px",backgroundColor:"#998019",opacity:"0.5",borderRadius:"8px 0 0 8px"},style:{height:"100%"},class:"fit"},{default:i(()=>[o.value?(d(),q(mt,{key:0,style:{height:"100%"},class:"q-px-md fit"},{default:i(()=>[_("h2",{style:Y((H(n).screen.gt.sm?"margin-top: -3px; ":"")+"text-wrap: wrap;"),class:"text-subtitle1 text-accent-900 q-ma-none q-mb-sm"},[P(_("span",null,null,512),[[Gn,m]]),R(" "+S(o.value.owner?.name),1)],4),_("div",eo,[w.value?(d(),C("div",to,[_("div",{class:M({"q-ma-sm":H(n).screen.gt.sm,"q-ma-lg":H(n).screen.gt.md})},[l(nt,{src:w.value,class:M(["hut-image",{"shadow-8":H(n).screen.gt.sm}])},{default:i(()=>[_("div",no,[l(B,{class:"q-mr-sm",name:"eva-camera-outline"}),_("div",{class:"img-link",innerHTML:o.value.photos_attribution},null,8,oo)])]),_:1},8,["src","class"])],2)])):$("",!0),_("div",{class:M(["col-md-12",{"col-sm-4":w.value,"col-4":w.value,"col-12":!w.value}])},[_("div",{class:M(["row items-start justify-start q-gutter-sm",{"justify-center":H(n).screen.gt.sm&&w.value,"q-gutter-lg":H(n).screen.gt.sm}])},[l(s,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_open,capacity:o.value.capacity_open,open:r.value,color:"green-4",color2:"green-2"},null,8,["type","capacity","open"]),l(s,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_closed,capacity:o.value.capacity_closed,open:c.value,color:"brown-3",color2:"brown-2"},null,8,["type","capacity","open"]),o.value.elevation?(d(),q(_e,{key:0,size:"md",class:"bg-grey-4 q-mr-none shadow-0 col-md-6 col-sm-12 col-12",style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:i(()=>[l(ce,{class:"bg-grey-5","text-color":"primary-500"},{default:i(()=>[l(B,{size:"20px"},{default:i(()=>[l(y)]),_:1})]),_:1}),_("span",ao,S(o.value.elevation)+" m",1)]),_:1})):$("",!0)],2)],2)]),_("body",lo,[_("div",{class:"attribution attr_link text-right",style:{padding:"0"},innerHTML:o.value.description_attribution},null,8,io),l(E,{"max-lines":5,text:o.value.description,style:{"padding-bottom":"0"}},null,8,["text"])]),l(v,{open_monthly:o.value.open_monthly,type_open:o.value.type_open,type_closed:o.value.type_closed},null,8,["open_monthly","type_open","type_closed"]),_("div",so,S(h.$t("location")),1),l(Ee,{dense:""},{default:i(()=>[o.value.location?(d(),q(le,{key:0},{default:i(()=>[l(A,{side:""},{default:i(()=>[l(B,{size:"xs"},{default:i(()=>[l(T)]),_:1})]),_:1}),l(A,null,{default:i(()=>[l(ke,null,{default:i(()=>[R(S(o.value.location.lat.toPrecision(7))+", "+S(o.value.location.lon.toPrecision(6)),1)]),_:1})]),_:1}),l(A,{side:"",onClick:z[0]||(z[0]=fe=>H(Xn)(o.value.location.lat.toPrecision(7).toString()+", "+o.value.location.lon.toPrecision(6).toString()))},{default:i(()=>[l(Se,{flat:"",dense:"",round:"",size:"10pt"},{default:i(()=>[l(B,{size:"10pt"},{default:i(()=>[l(G)]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0),o.value.elevation?(d(),q(le,{key:1},{default:i(()=>[l(A,{side:""},{default:i(()=>[l(B,{size:"xs"},{default:i(()=>[l(y)]),_:1})]),_:1}),l(A,null,{default:i(()=>[l(ke,null,{default:i(()=>[R(S(o.value.elevation)+" m",1)]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1}),l(ut,{class:"footer-toolbar"},{default:i(()=>[p.value?$("",!0):(d(),q(g,{key:0,hut:o.value},{default:i(()=>[l(x,{hut:o.value},null,8,["hut"])]),_:1},8,["hut"]))]),_:1})]),_:1},8,["class"])}}}),ko=Q(ro,[["__scopeId","data-v-3ec6adef"],["__file","WdHutView.vue"]]);export{ko as default};
