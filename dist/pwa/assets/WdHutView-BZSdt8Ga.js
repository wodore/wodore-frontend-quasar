const __vite__fileDeps=["assets/vue-maplibre-gl.es-BQ2HfBR4.js","assets/_commonjsHelpers-BosuxZz1.js","assets/index-tY1FUDzX.js","assets/index-e3vRDJSl.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{o as c,e as z,a as d,h as Ee,j as We,aA as Le,l as Be,m as Qe,aB as Re,t as q,F as Ae,E as O,Q as S,aC as Ne,a2 as ke,ac as Ve,d as E,c as g,w as r,f as l,Y as ie,a0 as M,O as b,Z as C,aD as A,P as k,_ as B,s as L,R as ee,$ as te,aE as Oe,y as F,B as he,aF as Fe,A as je,n as G,D as j,aG as fe,N as De,g as Q,ay as Pe,aH as Ue,M as ze,a3 as Ze,a4 as Ke,a5 as Ye,aI as Ge,aJ as Je,aK as Xe,an as et,W as ve}from"./index-tY1FUDzX.js";import{g as P,Q as tt,a as nt}from"./QImg-L_ZH7WoM.js";import{u as ot}from"./vue-i18n.runtime-4uYBdTUu.js";import{Q as $e}from"./QScrollArea-BDiK2dKW.js";import{u as le}from"./use-quasar-DBhJDQO4.js";import{i as Ce,j as at,h as st,d as R,c as ne,f as it,a as lt,b as qe,C as ge,_ as rt,g as ct,u as ut,e as ye,k as dt,Q as _t}from"./use-meta-Dade1TDZ.js";import{Q as pt}from"./QNoSsr-Ch3U3xMx.js";import{t as Se}from"./analytics-hj9MTZ8Z.js";import{u as He}from"./auth-store-wE8DALmx.js";import{Q as mt}from"./QTooltip-DDeiyTSv.js";import{Q as ht}from"./QPage-DL-R0UAQ.js";import{c as ft}from"./index-DVkvgwWP.js";import{b as vt}from"./huts-store-jBtizIxF.js";import"./_commonjsHelpers-BosuxZz1.js";import"./___vite-browser-external_commonjs-proxy-DRaEfepn.js";import"./use-hydration-COhUT3Sc.js";import"./selection-BQjrL_kS.js";const gt={viewBox:"0 0 448 512",width:"1.2em",height:"1.2em"},yt=d("path",{fill:"currentColor",d:"M208 0h124.1C344.8 0 357 5.1 366 14.1L433.9 82c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48M48 128h80v64H64v256h192v-32h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48"},null,-1),bt=[yt];function wt(e,t){return c(),z("svg",gt,[...bt])}const xt={name:"fa6-solid-copy",render:wt},kt={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},zt=d("path",{fill:"currentColor",d:"M256 0c17.7 0 32 14.3 32 32v34.7c80.4 13.4 143.9 76.9 157.3 157.3H480c17.7 0 32 14.3 32 32s-14.3 32-32 32h-34.7c-13.4 80.4-76.9 143.9-157.3 157.3V480c0 17.7-14.3 32-32 32s-32-14.3-32-32v-34.7C143.6 431.9 80.1 368.4 66.7 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h34.7C80.1 143.6 143.6 80.1 224 66.7V32c0-17.7 14.3-32 32-32M128 256a128 128 0 1 0 256 0a128 128 0 1 0-256 0m128-80a80 80 0 1 1 0 160a80 80 0 1 1 0-160"},null,-1),$t=[zt];function Ct(e,t){return c(),z("svg",kt,[...$t])}const qt={name:"fa6-solid-location-crosshairs",render:Ct},St={xs:8,sm:10,md:14,lg:20,xl:24},re=Ee({name:"QChip",props:{...We,...Le,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=Be(),o=Qe(e,a),u=Re(e,St),i=q(()=>e.selected===!0||e.icon!==void 0),$=q(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),w=q(()=>e.iconRemove||a.iconSet.chip.remove),v=q(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),_=q(()=>{const s=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(s?` text-${s} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(v.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),h=q(()=>{const s=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},p={...s,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:s,remove:p}});function m(s){s.keyCode===13&&x(s)}function x(s){e.disable||(n("update:selected",!e.selected),n("click",s))}function f(s){(s.keyCode===void 0||s.keyCode===13)&&(Ve(s),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function I(){const s=[];v.value===!0&&s.push(O("div",{class:"q-focus-helper"})),i.value===!0&&s.push(O(S,{class:"q-chip__icon q-chip__icon--left",name:$.value}));const p=e.label!==void 0?[O("div",{class:"ellipsis"},[e.label])]:void 0;return s.push(O("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ne(t.default,p))),e.iconRight&&s.push(O(S,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&s.push(O(S,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:w.value,...h.value.remove,onClick:f,onKeyup:f})),s}return()=>{if(e.modelValue===!1)return;const s={class:_.value,style:u.value};return v.value===!0&&Object.assign(s,h.value.chip,{onClick:x,onKeyup:m}),Ae("div",s,I(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ke,e.ripple]])}}}),Ht={class:"text-primary-900"},Mt=E({__name:"WdHutTypeNameChip",props:{type:{},name:{},color:{default:"white"},color2:{}},setup(e){const t=e,n=q(()=>t.color2?t.color2:"white");return(a,o)=>a.type&&a.type.name?(c(),g(re,{key:0,size:"md",class:M("bg-"+n.value+" q-mr-none"),style:{"min-width":"40px","max-width":"200px","max-height":"30px"}},{default:r(()=>[l(ie,{class:M("bg-"+a.color),"text-color":"white"},{default:r(()=>[l(S,{size:"24px",name:"img:"+b(P)(a.$q.platform.is.mobile?a.type.symbol:a.type.symbol_simple,{fit:!0,size:"48x48"})},null,8,["name"])]),_:1},8,["class"]),d("span",Ht,C(a.name),1),A(a.$slots,"default")]),_:3},8,["class"])):k("",!0)}}),It=B(Mt,[["__file","WdHutTypeNameChip.vue"]]),oe=["01","02","03","04","05","06","07","08","09","10","11","12"];function Tt(){const{t:e}=ot(),t=L({"01":e("jan"),"02":e("feb"),"03":e("mar"),"04":e("apr"),"05":e("may"),"06":e("jun"),"07":e("jul"),"08":e("aug"),"09":e("sep"),10:e("oct"),11:e("nov"),12:e("dec")});function n(a){return t.value[a]}return{monthList:oe,monthNames:t,getMonthName:n}}const Et={yes:{main0:"open"},no:{main0:"closed"},maybe:{main0:"open",main1:"closed"},unknown:{main0:"unknown"}},Wt={yes:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"open",main1:"closed"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},no:{maybe:{yes:{main0:"closed",main1:"open"},no:{main0:"closed",minor:"open"},maybe:{main0:"closed",minor:"open"},unknown:{main0:"closed",minor:"open"}}},maybe:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},unknown:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}}},Lt={class:"q-ma-xs row items-center justify-center no-wrap"},Bt=E({__name:"WdMonthly",props:{month:{},icons:{}},setup(e){const{getMonthName:t}=Tt(),n=e,a=q(()=>t(n.month));return(o,u)=>(c(),z("div",{class:M(["card column items-center overflow-hidden q-mb-xs","month_"+o.month+"--gradient-light"])},[d("div",{class:M(["text-caption header text-center row justify-center","month_"+o.month+"--gradient"])},C(a.value),3),d("div",Lt,[l(S,{size:"24px",name:o.icons.main0},null,8,["name"]),o.icons.main1?(c(),g(S,{key:0,size:"24px",name:o.icons.main1},null,8,["name"])):k("",!0),o.icons.minor?(c(),g(S,{key:1,size:"20px",name:o.icons.minor,style:{transform:"translate(-2px, 7px)"}},null,8,["name"])):k("",!0)])],2))}}),Qt=B(Bt,[["__scopeId","data-v-f695df66"],["__file","WdMonthly.vue"]]),Rt={key:0},At={class:"text-subtitle1 text-accent q-mb-sm"},Nt={key:0,class:"row monthly overflow-hidden"},Vt={style:{height:"50px",width:"700px"}},Ot={class:"row monthly overflow-hidden"},Ft={class:"justify-center row q-my-sm"},jt=E({__name:"WdHutOpenMonthly",props:{open_monthly:{},type_open:{},type_closed:{}},setup(e){const t=le(),n=e,a=q(()=>t.platform.is.mobile);function o(_){let h;if(n.open_monthly)h=n.open_monthly["month_"+_];else return"unknown";return h===void 0?"unknown":h}function u(_){const h=parseInt(_),m=(h>=0?h-1:11).toString().padStart(2,"0"),x=(h>=11?0:h+1).toString().padStart(2,"0"),f=o(_),I=o(m),s=o(x);let p;return f=="maybe"?p=Wt[I][f][s]:p=Et[f],{main0:i(p.main0)===void 0?v():i(p.main0),main1:i(p.main1),minor:i(p.minor)}}function i(_,h="48x48"){let m;if(_=="open")m=w();else if(_=="closed")m=$();else if(_=="unknown")m=v();else return;return"img:"+P(m,{fit:!0,size:h})}function $(){return a.value?n.type_closed?n.type_closed.symbol:v():n.type_closed?n.type_closed.symbol_simple:v()}function w(){return a.value?n.type_open?.symbol:n.type_open?.symbol_simple}function v(){return a.value?"https://api.wodore.com/media/huts/types/symbols/detailed/unknown.png":"https://api.wodore.com/media/huts/types/symbols/simple/unknown.png"}return(_,h)=>{const m=Qt,x=It;return n.open_monthly?(c(),z("div",Rt,[d("div",At,C(_.$t("hut_type")),1),b(t).platform.is.mobile?k("",!0):(c(),z("div",Nt,[(c(!0),z(ee,null,te(b(oe),f=>(c(),z("div",{key:f,class:"col-md-2 col-sm-1 col-2"},[l(m,{icons:u(f),month:f},null,8,["icons","month"])]))),128))])),b(t).platform.is.mobile?(c(),g($e,{key:1,style:{height:"55px"},class:"monthly overflow-hidden","horizontal-thumb-style":{height:"3px"}},{default:r(()=>[d("div",Vt,[d("div",Ot,[(c(!0),z(ee,null,te(b(oe),f=>(c(),z("div",{key:f,class:"col-1"},[l(m,{icons:u(f),month:f},null,8,["icons","month"])]))),128))])])]),_:1})):k("",!0),d("div",Ft,[_.type_open?(c(),g(x,{key:0,class:"col-shrink",type:_.type_open,name:_.type_open.name,color:"green-4",color2:"green-2"},null,8,["type","name"])):k("",!0),_.type_closed?(c(),g(x,{key:1,class:"col-shrink",type:_.type_closed,name:_.type_closed.name,color:"brown-3",color2:"brown-2"},null,8,["type","name"])):k("",!0)])])):k("",!0)}}}),Dt=B(jt,[["__scopeId","data-v-be70eda8"],["__file","WdHutOpenMonthly.vue"]]);var J=null;function Pt(e){return J||(J=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),J(e)}var X=null;function Ut(e){X||(X=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),X(e)}function Zt(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function Z(e,t){t===void 0&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(a){n[a]=t[a]}),n}function Me(e,t,n){var a=window.getComputedStyle(e,null)||{display:"none"};return a[t]}function ae(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(Me(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var Kt='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',se=0,K=null;function Yt(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=Xt.bind(e));var n=e.__resize_listeners__;if(!n){if(e.__resize_listeners__=[],window.ResizeObserver){var a=e.offsetWidth,o=e.offsetHeight,u=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===a&&e.offsetHeight===o)||Y(e)}),i=ae(e),$=i.detached,w=i.rendered;e.__resize_observer_triggered__=$===!1&&w===!1,e.__resize_observer__=u,u.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){Y(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(se||(K=Zt(Kt)),en(e),e.__resize_rendered__=ae(e).rendered,window.MutationObserver){var v=new MutationObserver(e.__resize_mutation_handler__);v.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=v}}e.__resize_listeners__.push(t),se++}function Gt(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",ce),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--se&&K&&K.parentNode.removeChild(K)}}function Jt(e){var t=e.__resize_last__,n=t.width,a=t.height,o=e.offsetWidth,u=e.offsetHeight;return o!==n||u!==a?{width:o,height:u}:null}function Xt(){var e=ae(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(ue(this),this.addEventListener("scroll",ce,!0)),this.__resize_rendered__=t,Y(this))}function ce(){var e=this;ue(this),this.__resize_raf__&&Ut(this.__resize_raf__),this.__resize_raf__=Pt(function(){var t=Jt(e);t&&(e.__resize_last__=t,Y(e))})}function Y(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function en(e){var t=Me(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var n=Z("div",{className:"resize-triggers"}),a=Z("div",{className:"resize-expand-trigger"}),o=Z("div"),u=Z("div",{className:"resize-contract-trigger"});a.appendChild(o),n.appendChild(a),n.appendChild(u),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:a,expandChild:o,contract:u},ue(e),e.addEventListener("scroll",ce,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function ue(e){var t=e.__resize_triggers__,n=t.expand,a=t.expandChild,o=t.contract,u=o.scrollWidth,i=o.scrollHeight,$=n.offsetWidth,w=n.offsetHeight,v=n.scrollWidth,_=n.scrollHeight;o.scrollLeft=u,o.scrollTop=i,a.style.width=$+1+"px",a.style.height=w+1+"px",n.scrollLeft=v,n.scrollTop=_}const tn=["aria-label"];var Ie=E({__name:"text-clamp",props:{text:{type:String,required:!0},maxHeight:{type:[String,Number],required:!1},maxLines:{type:Number,required:!1},expanded:{type:Boolean,required:!1,default:!1},location:{type:String,required:!1,default:"end"},ellipsis:{type:String,required:!1,default:"…"},autoResize:{type:Boolean,required:!1,default:!1}},emits:["clamp-change","update:expanded"],setup(e,{emit:t}){const n=e,a=L(null),o=L(null),u=L(null),i=Oe({offset:0,localExpanded:!!n.expanded,unregisterResizeCallback:null}),$=q(()=>{if(!i.localExpanded&&n.maxHeight)return typeof n?.maxHeight=="number"?`${n?.maxHeight}px`:n?.maxHeight}),w=()=>{u.value&&(u.value.textContent=U.value)},v=()=>{i.localExpanded||(w(),(m()||H.value)&&f())},_=()=>{n.text&&(i.offset=n.text.length,h(),n.autoResize&&a.value&&(Yt(a.value,v),i.unregisterResizeCallback=()=>{a.value&&Gt(a.value,v)}),v())},h=()=>{i.unregisterResizeCallback?.()},m=()=>!(!n.maxLines&&!n.maxHeight)&&!!a.value&&(!!(n.maxLines&&x()>n.maxLines)||!!(n.maxHeight&&a.value.scrollHeight>a.value.offsetHeight)),x=()=>o.value?Object.keys(Array.prototype.slice.call(o.value.getClientRects()).reduce((y,{top:N,bottom:D})=>{const V=`${N}/${D}`;return y[V]||(y[V]=!0),y},{})).length:0,f=(...y)=>{const[N=0,D=i.offset]=y;if(D-N<=3)return void s();const V=Math.floor((D+N)/2);I(V),m()?f(N,V):f(V,D)},I=y=>{i.offset=y,w()},s=()=>{p(),T()},p=()=>{for(;(!m()||x()<2)&&i.offset<n.text.length;)W(1)},T=()=>{for(;m()&&x()>1&&i.offset>0;)W(-1)},W=y=>{I(i.offset+y)},H=q(()=>!!n.text&&i.offset!==n.text.length);F(()=>H.value,y=>{setTimeout(()=>{t("clamp-change",y)},0)},{immediate:!0});const U=q(()=>H.value?de.value:n.text),de=q(()=>{if(n.location==="start")return n.ellipsis+(n.text.slice(-i.offset)||"").trim();if(n.location==="middle"){const y=Math.floor(i.offset/2);return(n.text.slice(0,y)||"").trim()+n.ellipsis+(n.text.slice(-y)||"").trim()}return(n.text.slice(0,i.offset)||"").trim()+n.ellipsis}),_e=()=>{i.localExpanded=!0},pe=()=>{i.localExpanded=!1},me=()=>{i.localExpanded=!i.localExpanded};return F(()=>n.expanded,y=>{i.localExpanded=y}),F(()=>i.localExpanded,y=>{y?I(n.text.length):v(),n.expanded!==y&&t("update:expanded",y)}),F(()=>[n.maxLines,n.maxHeight,n.ellipsis,n.location,H.value].join(),()=>{he(()=>{v()})}),F(()=>[n.text,n.autoResize].join(),()=>{he(()=>{_()})}),Fe(()=>{h()}),je(()=>{_()}),(y,N)=>(c(),z("div",{ref_key:"textClampRef",ref:a,class:"text-clamp",style:G({overflow:"hidden",maxHeight:b($)})},[d("span",{ref_key:"contentRef",ref:o},[A(y.$slots,"before",{expand:_e,collapse:pe,toggle:me,clamped:b(H),expanded:i.localExpanded}),d("span",{ref_key:"textRef",ref:u,"aria-label":e.text},null,8,tn),A(y.$slots,"after",{expand:_e,collapse:pe,toggle:me,clamped:b(H),expanded:i.localExpanded})],512)],4))}});Ie.__file="package/text-clamp.vue";const nn=e=>(e.install=function(t){t.component(e.__name,e)},e),on=nn(Ie),an=["onClick"],sn=["onClick"],ln=E({__name:"WdTextClamp",setup(e){return(t,n)=>(c(),g(b(on),null,{after:r(({toggle:a,expanded:o,clamped:u})=>[j(d("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},C(t.$t("more")),9,an),[[fe,u]]),j(d("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},C(t.$t("less")),9,sn),[[fe,o]])]),_:1}))}}),rn=B(ln,[["__file","WdTextClamp.vue"]]),cn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},un=d("g",{fill:"none","fill-rule":"evenodd"},[d("path",{d:"M24 0v24H0V0zM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),d("path",{fill:"currentColor",d:"M8.701 5.75c.577-1 2.02-1 2.598 0l3.5 6.062l.902-1.562c.577-1 2.02-1 2.598 0l4.33 7.5A1.5 1.5 0 0 1 21.33 20H17v-.002a1.555 1.555 0 0 1-.072.002H3.072a1.5 1.5 0 0 1-1.3-2.25zm-.91 5.576l.709.472l.945-.63a1 1 0 0 1 1.11 0l.945.63l.709-.472L10 7.5z"})],-1),dn=[un];function _n(e,t){return c(),z("svg",cn,[...dn])}const pn={name:"mingcute-mountain2-fill",render:_n},mn=E({__name:"QIconify",props:{is:{}},setup(e){return(t,n)=>(c(),g(S,null,{default:r(()=>[(c(),g(De(t.is)))]),_:1}))}}),hn=B(mn,[["__file","QIconify.vue"]]),fn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},vn=d("path",{fill:"currentColor",d:"M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39l8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33Z"},null,-1),gn=[vn];function yn(e,t){return c(),z("svg",fn,[...gn])}const bn={name:"eva-checkmark-fill",render:yn},wn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xn=d("path",{fill:"currentColor",d:"M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0a3 3 0 1 1 3 3a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9"},null,-1),kn=d("circle",{cx:"12",cy:"19",r:"1",fill:"currentColor"},null,-1),zn=[xn,kn];function $n(e,t){return c(),z("svg",wn,[...zn])}const be={name:"eva-question-mark-fill",render:$n},Cn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},qn=d("path",{fill:"currentColor",d:"m13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29l-4.3 4.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l4.29-4.3l4.29 4.3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42Z"},null,-1),Sn=[qn];function Hn(e,t){return c(),z("svg",Cn,[...Sn])}const Mn={name:"eva-close-fill",render:Hn},In={class:"text-accent-900",style:{"font-weight":"500",width:"28px"}},Tn=E({__name:"WdHutTypeChip",props:{type:{},capacity:{},color:{default:"white"},color2:{},open:{default:void 0}},setup(e){const t=e,n=q(()=>{switch(t.open){case"yes":return bn;case"no":return Mn;case"maybe":return be}return be}),a=q(()=>t.color2?t.color2:"white"),o=q(()=>{switch(t.open){case"yes":return"green-6";case"no":return"red-4";case"maybe":return"green-6"}return"grey-6"});return(u,i)=>{const $=hn;return u.type&&u.type.name?(c(),g(re,{key:0,size:"md",class:M("bg-"+a.value+" q-mr-none"),style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:r(()=>[l(ie,{class:M("bg-"+u.color),"text-color":"white"},{default:r(()=>[l(S,{size:"24px",name:"img:"+b(P)(u.$q.platform.is.mobile?u.type.symbol:u.type.symbol_simple,{fit:!0,size:"48x48"})},null,8,["name"])]),_:1},8,["class"]),d("span",In,C(u.capacity===void 0||u.capacity==null?"?":u.capacity),1),l($,{class:M("bg-"+o.value+" badge"),color:"white",size:"14px",is:n.value},null,8,["class","is"]),A(u.$slots,"default",{},void 0,!0)]),_:3},8,["class"])):k("",!0)}}}),En=B(Tn,[["__scopeId","data-v-d52cf775"],["__file","WdHutTypeChip.vue"]]),Wn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ln=d("path",{fill:"currentColor",d:"M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1"},null,-1),Bn=d("path",{fill:"currentColor",d:"M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2"},null,-1),Qn=[Ln,Bn];function Rn(e,t){return c(),z("svg",Wn,[...Qn])}const An={name:"eva-external-link-fill",render:Rn},Nn=["href"],Vn={key:1},On=E({__name:"WdHutHeader",props:{hut:{},ontop:{type:Boolean}},setup(e){return(t,n)=>{const a=An;return c(),g(st,{class:M(["no-background",{"shadow-3":t.ontop}]),style:{transition:"box-shadow 0.2s ease","background-color":"unset"}},{default:r(()=>[A(t.$slots,"default"),l(pt,null,{default:r(()=>[t.hut?(c(),g(Ce,{key:0,class:""},{default:r(()=>[l(at,{style:{"text-wrap":"wrap",transform:"translateY(4px)","margin-left":"3px","background-color":"unset"},class:"text-primary-900"},{default:r(()=>[d("h1",{class:M(["text-h5 q-ma-none q-mt-xs",[t.$q.screen.xs||t.$q.platform.is.mobile?"text-h6":"text-h5"]])},[t.hut.url?(c(),z("a",{key:0,href:t.hut.url,target:"_blank",onClick:n[0]||(n[0]=o=>b(Se)("hut link click"))},[Q(C(t.hut.name)+" ",1),l(S,{size:"11pt",style:{transform:"translateY(-6px)"}},{default:r(()=>[l(a)]),_:1})],8,Nn)):(c(),z("span",Vn,C(t.hut.name),1))],2)]),_:1})]),_:1})):k("",!0)]),_:1})]),_:3},8,["class"])}}}),Fn=B(On,[["__file","WdHutHeader.vue"]]),jn=E({__name:"WdToolbarExtraButton",props:{icon:{},iconColor:{default:"primary-800"},disabled:{type:Boolean,default:!1}},setup(e){return(t,n)=>j((c(),g(ne,{clickable:!t.disabled,style:G(t.disabled?"opacity : 0.5;":"")},{default:r(()=>[l(R,{avatar:"",style:{"min-width":"34px","padding-right":"0"}},{default:r(()=>[l(S,{color:t.iconColor,name:t.icon},null,8,["color","name"])]),_:1}),l(R,null,{default:r(()=>[A(t.$slots,"default")]),_:3})]),_:3},8,["clickable","style"])),[[ke]])}}),Dn=B(jn,[["__file","WdToolbarExtraButton.vue"]]),Pn=E({__name:"WdHutToolbar",props:{hut:{}},setup(e){let t;Pe(()=>import("./vue-maplibre-gl.es-BQ2HfBR4.js"),__vite__mapDeps([0,1,2,3])).then(s=>{t=s.useMap()});const n=He(),a=e,o={new:["warning-200","ungeprüft"],done:["positive-800","ok"],review:["warning-500","validieren"],work:["secondary-800","überarbeiten"],reject:["negative-300","ungültig"]};function u(s,p,T="work"){return a!==void 0&&(a.hut?.type_open?.slug=="unknown"||a.hut?.capacity_open==null||a.hut?.open_monthly?.month_01==null||a.hut?.elevation==null)&&(s="work"),s!==void 0&&s!=null&&s in o?o[s][p]:o[T][p]}function i(s){return u(s,0)}function $(s){return u(s,1)}const w=le(),v=L(!1),_=L(!1);function h(){_.value=!_.value}function m(){if(t?.map!==void 0&&a.hut!==void 0){const s=a.hut.location;if(s!=null){const p=t?.map.getZoom();t?.map.flyTo({center:[s.lon,s.lat],zoom:p>12?p:12,padding:{right:w.screen.xs?0:400,bottom:w.screen.xs?300:0}})}}}function x(s,p,T,W,H=.004){return s+H>=p&&s-H<=p&&T+H>=W&&T-H<=W}const f=L(!1),I=L(!0);return F(f,()=>{if(I.value=!0,t?.map!==void 0&&a.hut!==void 0){const s=a.hut.location;if(s!=null){const p=t?.map.getCenter(),T=t?.map.getZoom();I.value=x(s.lat,p.lat,s.lon,p.lng,.005/Math.sqrt(T))}}}),(s,p)=>{const T=rt,W=Dn;return c(),g(Ce,null,{default:r(()=>[A(s.$slots,"default"),l(tt),s.hut?(c(),g(it,{key:0,outline:"",class:"q-mr-xs",color:i(s.hut.review_status)},{default:r(()=>[Q(C($(s.hut.review_status)),1)]),_:1},8,["color"])):k("",!0),l(T,{size:"md",color:v.value?"accent":"primary-900",icon:v.value?"wd-eye":"wd-eye-outline",style:{opacity:"0.5",cursor:"not-allowed"}},null,8,["color","icon"]),l(T,{size:"md",class:"text-primary-900",icon:"wd-more-vertical"},{default:r(()=>[l(lt,{class:"bg-primary-100 q-menu--quasar",modelValue:f.value,"onUpdate:modelValue":p[0]||(p[0]=H=>f.value=H)},{default:r(()=>[l(qe,{style:{"min-width":"100px"}},{default:r(()=>[l(W,{onClick:h,icon:_.value?"wd-favorite":"wd-favorite-outline","icon-color":_.value?"accent":"primary-800",disabled:!0},{default:r(()=>[Q(C(s.$t("favorite")),1)]),_:1},8,["icon","icon-color"]),b(t)?.map&&s.hut?.location?j((c(),g(W,{key:0,icon:"wd-location-question",onClick:m,disabled:I.value},{default:r(()=>[Q(C(s.$t("show_map")),1)]),_:1},8,["disabled"])),[[ge]]):k("",!0),b(n).hasRole("editor")?j((c(),g(W,{key:1,icon:"wd-edit-outline",href:s.hut?.edit_link,target:"_blank"},{default:r(()=>[Q(C(s.$t("edit")),1)]),_:1},8,["href"])),[[ge]]):k("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3})}}}),Un=B(Pn,[["__file","WdHutToolbar.vue"]]),Zn=e=>(Ze("data-v-fdc68feb"),e=e(),Ke(),e),Kn=["src"],Yn=Zn(()=>d("br",null,null,-1)),Gn=E({__name:"WdSourceButtons",props:{hut:{},round:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},background:{type:Boolean,default:!1},padding:{default:"xs"},color:{},target:{default:"_blank"}},setup(e){const t=He(),n=e;function a(o){Se("hut-source-"+n.hut?.slug,{slug:o})}return(o,u)=>o.hut?(c(),z("div",{key:0,class:M(["",{content:o.background}])},[(c(!0),z(ee,null,te(n.hut?.sources,i=>(c(),z("span",{key:i.name,class:"col"},[i.public||b(t).isAdmin()?(c(),g(ze,{key:0,href:i.link,onClick:$=>a(i.slug),onMouseup:Ue($=>a(i.slug),["middle"]),target:n.target,flat:n.flat,padding:n.padding,round:n.round,color:n.color},{default:r(()=>[d("img",{style:G({height:(o.$q.platform.is.mobile,"24px")}),src:b(P)(i.logo,{fit:!0,size:"48x48",quality:90})},null,12,Kn),l(mt,{"hide-delay":150,delay:150},{default:r(()=>[d("span",null,C(i.fullname),1),Yn,d("b",null,C(i.source_id),1)]),_:2},1024)]),_:2},1032,["href","onClick","onMouseup","target","flat","padding","round","color"])):k("",!0)]))),128))],2)):k("",!0)}}),Jn=B(Gn,[["__scopeId","data-v-fdc68feb"],["__file","WdSourceButtons.vue"]]),we={threshold:0,root:null,rootMargin:"0px"};function xe(e,t,n){let a,o,u;typeof n=="function"?(a=n,o=we,u=t.cfg===void 0):(a=n.handler,o=Object.assign({},we,n.cfg),u=t.cfg===void 0||Ge(t.cfg,o)===!1),t.handler!==a&&(t.handler=a),u===!0&&(t.cfg=o,t.observer!==void 0&&t.observer.unobserve(e),t.observer=new IntersectionObserver(([i])=>{if(typeof t.handler=="function"){if(i.rootBounds===null&&document.body.contains(e)===!0){t.observer.unobserve(e),t.observer.observe(e);return}(t.handler(i,t.observer)===!1||t.once===!0&&i.isIntersecting===!0)&&Te(e)}},o),t.observer.observe(e))}function Te(e){const t=e.__qvisible;t!==void 0&&(t.observer!==void 0&&t.observer.unobserve(e),delete e.__qvisible)}const Xn=Ye({name:"intersection",mounted(e,{modifiers:t,value:n}){const a={once:t.once===!0};xe(e,a,n),e.__qvisible=a},updated(e,t){const n=e.__qvisible;n!==void 0&&xe(e,n,t.value)},beforeUnmount:Te});function eo(e){const t=document.createElement("textarea");t.value=e,t.contentEditable="true",t.style.position="fixed";const n=()=>{};Je(n),document.body.appendChild(t),t.focus(),t.select();const a=document.execCommand("copy");return t.remove(),Xe(n),a}function to(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((t,n)=>{const a=eo(e);a?t(!0):n(a)})}const no={class:"row items-start q-gutter-sm"},oo={key:0,class:"col-md-12 col-sm-7 col-7"},ao={class:"absolute-bottom-right row attribution"},so=["innerHTML"],io={class:"text-primary-500",style:{"font-weight":"500",width:"28px"}},lo={class:"text-body2 q-my-lg"},ro=["innerHTML"],co={class:"text-subtitle1 text-accent"},uo=E({__name:"WdHutView",props:{slug:{}},setup(e){const{selectedMonth:t}=et(vt()),n=le(),a=e,o=L(void 0),u=q(()=>{const h=t.value;if(o.value?.open_monthly===void 0||o.value?.open_monthly==null)return"unknown";const m=o.value?.open_monthly[`month_${h}`];return m===void 0?"unknown":m}),i=q(()=>{switch(u.value){case"yes":return"no";case"no":return"yes"}return u.value}),$=L(!1);ve(()=>{o.value=void 0,$.value=!1,a.slug&&ft.GET("/v1/huts/{slug}",{params:{path:{slug:a.slug}}}).then(({data:h})=>{if(h){o.value=h;let m=o.value.name+" - ",x="";o.value.type_open?.name&&o.value.type_open.slug!="unknown"&&(m+=o.value.type_open.name?.charAt(0).toUpperCase()+o.value.type_open.name?.slice(1),o.value.capacity_open&&o.value.capacity_open>0&&(x=` mit ${o.value.capacity_open}`)),o.value.type_closed&&o.value.type_closed.slug!="unknown"&&(m+="/"+o.value.type_closed.name,o.value.capacity_closed&&o.value.capacity_closed>0&&o.value.capacity_closed!=o.value.capacity_open&&(x+=`, resp. ${o.value.capacity_closed},`)),o.value.elevation&&(m+=` auf ${o.value.elevation}m`),x&&(x+=" Plätzen.");const f={title:o.value.name?o.value.name:"Wodore",meta:{description:{name:"description",content:m+x}}};ut(f)}})});const w=L(void 0),v=q(()=>n.screen.gt.sm);ve(()=>{o.value?.photos?w.value=P(o.value?.photos,{size:"600x400",smart:!0,fit:!0}):w.value=void 0});const _=h=>($.value=!h.isIntersecting,!0);return(h,m)=>{const x=Jn,f=Un,I=Fn,s=En,p=pn,T=rn,W=Dt,H=qt,U=xt;return c(),g(ct,{view:"lhh LpR lff",container:"",class:M(["no-background fit",b(n).dark.isActive?"bg-grey-9":"bg-grey-3"]),style:{height:"100%"}},{default:r(()=>[l(I,{hut:o.value,ontop:$.value},{default:r(()=>[v.value?(c(),g(f,{key:0,hut:o.value},{default:r(()=>[l(x,{hut:o.value,class:"q-ml-xl"},null,8,["hut"])]),_:1},8,["hut"])):k("",!0)]),_:1},8,["hut","ontop"]),l(dt,{class:"fit",style:{height:"100%"}},{default:r(()=>[l($e,{visible:"","thumb-style":{width:"6px",backgroundColor:"#998019",opacity:"0.5",borderRadius:"8px 0 0 8px"},style:{height:"100%"},class:"fit"},{default:r(()=>[o.value?(c(),g(ht,{key:0,style:{height:"100%"},class:"q-px-md fit"},{default:r(()=>[d("h2",{style:G((b(n).screen.gt.sm?"margin-top: -3px; ":"")+"text-wrap: wrap;"),class:"text-subtitle1 text-accent-900 q-ma-none q-mb-sm"},[j(d("span",null,null,512),[[Xn,_]]),Q(" "+C(o.value.owner?.name),1)],4),d("div",no,[w.value?(c(),z("div",oo,[d("div",{class:M({"q-ma-sm":b(n).screen.gt.sm,"q-ma-lg":b(n).screen.gt.md})},[l(nt,{src:w.value,class:M(["hut-image",{"shadow-8":b(n).screen.gt.sm}])},{default:r(()=>[d("div",ao,[l(S,{class:"q-mr-sm",name:"eva-camera-outline"}),d("div",{class:"img-link",innerHTML:o.value.photos_attribution},null,8,so)])]),_:1},8,["src","class"])],2)])):k("",!0),d("div",{class:M(["col-md-12",{"col-sm-4":w.value,"col-4":w.value,"col-12":!w.value}])},[d("div",{class:M(["row items-start justify-start q-gutter-sm",{"justify-center":b(n).screen.gt.sm&&w.value,"q-gutter-lg":b(n).screen.gt.sm}])},[l(s,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_open,capacity:o.value.capacity_open,open:u.value,color:"green-4",color2:"green-2"},null,8,["type","capacity","open"]),l(s,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_closed,capacity:o.value.capacity_closed,open:i.value,color:"brown-3",color2:"brown-2"},null,8,["type","capacity","open"]),o.value.elevation?(c(),g(re,{key:0,size:"md",class:"bg-grey-4 q-mr-none shadow-0 col-md-6 col-sm-12 col-12",style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:r(()=>[l(ie,{class:"bg-grey-5","text-color":"primary-500"},{default:r(()=>[l(S,{size:"20px"},{default:r(()=>[l(p)]),_:1})]),_:1}),d("span",io,C(o.value.elevation)+" m",1)]),_:1})):k("",!0)],2)],2)]),d("body",lo,[d("div",{class:"attribution attr_link text-right",style:{padding:"0"},innerHTML:o.value.description_attribution},null,8,ro),l(T,{"max-lines":5,text:o.value.description,style:{"padding-bottom":"0"}},null,8,["text"])]),l(W,{open_monthly:o.value.open_monthly,type_open:o.value.type_open,type_closed:o.value.type_closed},null,8,["open_monthly","type_open","type_closed"]),d("div",co,C(h.$t("location")),1),l(qe,{dense:""},{default:r(()=>[o.value.location?(c(),g(ne,{key:0},{default:r(()=>[l(R,{side:""},{default:r(()=>[l(S,{size:"xs"},{default:r(()=>[l(H)]),_:1})]),_:1}),l(R,null,{default:r(()=>[l(ye,null,{default:r(()=>[Q(C(o.value.location.lat.toPrecision(7))+", "+C(o.value.location.lon.toPrecision(6)),1)]),_:1})]),_:1}),l(R,{side:"",onClick:m[0]||(m[0]=de=>b(to)(o.value.location.lat.toPrecision(7).toString()+", "+o.value.location.lon.toPrecision(6).toString()))},{default:r(()=>[l(ze,{flat:"",dense:"",round:"",size:"10pt"},{default:r(()=>[l(S,{size:"10pt"},{default:r(()=>[l(U)]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0),o.value.elevation?(c(),g(ne,{key:1},{default:r(()=>[l(R,{side:""},{default:r(()=>[l(S,{size:"xs"},{default:r(()=>[l(p)]),_:1})]),_:1}),l(R,null,{default:r(()=>[l(ye,null,{default:r(()=>[Q(C(o.value.elevation)+" m",1)]),_:1})]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1}),l(_t,{class:"footer-toolbar"},{default:r(()=>[v.value?k("",!0):(c(),g(f,{key:0,hut:o.value},{default:r(()=>[l(x,{hut:o.value},null,8,["hut"])]),_:1},8,["hut"]))]),_:1})]),_:1},8,["class"])}}}),Ho=B(uo,[["__scopeId","data-v-9a95e1f6"],["__file","WdHutView.vue"]]);export{Ho as default};
