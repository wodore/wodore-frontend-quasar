import{bl as we,g as ae,r as $,ag as xe,aY as K,n as Te,aW as q,w as A,o as Se,m as M,a_ as I,a$ as N,bm as X,aT as Ee,b6 as He,c as Re,u as je,X as U,Y as Ce,d as Ae,j as k,Z as $e,f as We,$ as Pe,k as ke,a0 as qe,a5 as Me,q as J,V as ze,t as Le,aa as Oe,bg as De,bn as Ue}from"./index-CVmp6TxT.js";function F(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),we.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const se={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},ot={...se,contextMenu:Boolean};function Be({showing:e,avoidEmit:n,configureAnchorEl:t}){const{props:o,proxy:i,emit:r}=ae(),l=$(null);let a=null;function d(u){return l.value===null?!1:u===void 0||u.touches===void 0||u.touches.length<=1}const s={};t===void 0&&(Object.assign(s,{hide(u){i.hide(u)},toggle(u){i.toggle(u),u.qAnchorHandled=!0},toggleKey(u){xe(u,13)===!0&&s.toggle(u)},contextClick(u){i.hide(u),K(u),Te(()=>{i.show(u),u.qAnchorHandled=!0})},prevent:K,mobileTouch(u){if(s.mobileCleanup(u),d(u)!==!0)return;i.hide(u),l.value.classList.add("non-selectable");const f=u.target;q(s,"anchor",[[f,"touchmove","mobileCleanup","passive"],[f,"touchend","mobileCleanup","passive"],[f,"touchcancel","mobileCleanup","passive"],[l.value,"contextmenu","prevent","notPassive"]]),a=setTimeout(()=>{a=null,i.show(u),u.qAnchorHandled=!0},300)},mobileCleanup(u){l.value.classList.remove("non-selectable"),a!==null&&(clearTimeout(a),a=null),e.value===!0&&u!==void 0&&F()}}),t=function(u=o.contextMenu){if(o.noParentEvent===!0||l.value===null)return;let f;u===!0?i.$q.platform.is.mobile===!0?f=[[l.value,"touchstart","mobileTouch","passive"]]:f=[[l.value,"mousedown","hide","passive"],[l.value,"contextmenu","contextClick","notPassive"]]:f=[[l.value,"click","toggle","passive"],[l.value,"keyup","toggleKey","passive"]],q(s,"anchor",f)});function c(){I(s,"anchor")}function x(u){for(l.value=u;l.value.classList.contains("q-anchor--skip");)l.value=l.value.parentNode;t()}function S(){if(o.target===!1||o.target===""||i.$el.parentNode===null)l.value=null;else if(o.target===!0)x(i.$el.parentNode);else{let u=o.target;if(typeof o.target=="string")try{u=document.querySelector(o.target)}catch{u=void 0}u!=null?(l.value=u.$el||u,t()):(l.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return A(()=>o.contextMenu,u=>{l.value!==null&&(c(),t(u))}),A(()=>o.target,()=>{l.value!==null&&c(),S()}),A(()=>o.noParentEvent,u=>{l.value!==null&&(u===!0?c():t())}),Se(()=>{S(),n!==!0&&o.modelValue===!0&&l.value===null&&r("update:modelValue",!1)}),M(()=>{a!==null&&clearTimeout(a),c()}),{anchorEl:l,canShow:d,anchorEvents:s}}function Ie(e,n){const t=$(null);let o;function i(a,d){const s=`${d!==void 0?"add":"remove"}EventListener`,c=d!==void 0?d:o;a!==window&&a[s]("scroll",c,N.passive),window[s]("scroll",c,N.passive),o=d}function r(){t.value!==null&&(i(t.value),t.value=null)}const l=A(()=>e.noParentEvent,()=>{t.value!==null&&(r(),n())});return M(l),{localScrollTarget:t,unconfigureScrollTarget:r,changeScrollEvent:i}}const{notPassiveCapture:z}=N,j=[];function L(e){const n=e.target;if(n===void 0||n.nodeType===8||n.classList.contains("no-pointer-events")===!0)return;let t=X.length-1;for(;t>=0;){const o=X[t].$;if(o.type.name==="QTooltip"){t--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;t--}for(let o=j.length-1;o>=0;o--){const i=j[o];if((i.anchorEl.value===null||i.anchorEl.value.contains(n)===!1)&&(n===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(n)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Ne(e){j.push(e),j.length===1&&(document.addEventListener("mousedown",L,z),document.addEventListener("touchstart",L,z))}function Z(e){const n=j.findIndex(t=>t===e);n!==-1&&(j.splice(n,1),j.length===0&&(document.removeEventListener("mousedown",L,z),document.removeEventListener("touchstart",L,z)))}let ee,te;function ne(e){const n=e.split(" ");return n.length!==2?!1:["top","center","bottom"].includes(n[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(n[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Fe(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Q={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Q[`${e}#ltr`]=e,Q[`${e}#rtl`]=e});function oe(e,n){const t=e.split(" ");return{vertical:t[0],horizontal:Q[`${t[1]}#${n===!0?"rtl":"ltr"}`]}}function Qe(e,n){let{top:t,left:o,right:i,bottom:r,width:l,height:a}=e.getBoundingClientRect();return n!==void 0&&(t-=n[1],o-=n[0],r+=n[1],i+=n[0],l+=n[0],a+=n[1]),{top:t,bottom:r,height:a,left:o,right:i,width:l,middle:o+(i-o)/2,center:t+(r-t)/2}}function Ge(e,n,t){let{top:o,left:i}=e.getBoundingClientRect();return o+=n.top,i+=n.left,t!==void 0&&(o+=t[1],i+=t[0]),{top:o,bottom:o+1,height:1,left:i,right:i+1,width:1,middle:i,center:o}}function Ve(e,n){return{top:0,center:n/2,bottom:n,left:0,middle:e/2,right:e}}function ie(e,n,t,o){return{top:e[t.vertical]-n[o.vertical],left:e[t.horizontal]-n[o.horizontal]}}function ue(e,n=0){if(e.targetEl===null||e.anchorEl===null||n>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ue(e,n+1)},10);return}const{targetEl:t,offset:o,anchorEl:i,anchorOrigin:r,selfOrigin:l,absoluteOffset:a,fit:d,cover:s,maxHeight:c,maxWidth:x}=e;if(Ee.is.ios===!0&&window.visualViewport!==void 0){const m=document.body.style,{offsetLeft:p,offsetTop:v}=window.visualViewport;p!==ee&&(m.setProperty("--q-pe-left",p+"px"),ee=p),v!==te&&(m.setProperty("--q-pe-top",v+"px"),te=v)}const{scrollLeft:S,scrollTop:u}=t,f=a===void 0?Qe(i,s===!0?[0,0]:o):Ge(i,a,o);Object.assign(t.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:x||"100vw",maxHeight:c||"100vh",visibility:"visible"});const{offsetWidth:T,offsetHeight:E}=t,{elWidth:W,elHeight:H}=d===!0||s===!0?{elWidth:Math.max(f.width,T),elHeight:s===!0?Math.max(f.height,E):E}:{elWidth:T,elHeight:E};let g={maxWidth:x,maxHeight:c};(d===!0||s===!0)&&(g.minWidth=f.width+"px",s===!0&&(g.minHeight=f.height+"px")),Object.assign(t.style,g);const w=Ve(W,H);let h=ie(f,w,r,l);if(a===void 0||o===void 0)B(h,f,w,r,l);else{const{top:m,left:p}=h;B(h,f,w,r,l);let v=!1;if(h.top!==m){v=!0;const y=2*o[1];f.center=f.top-=y,f.bottom-=y+2}if(h.left!==p){v=!0;const y=2*o[0];f.middle=f.left-=y,f.right-=y+2}v===!0&&(h=ie(f,w,r,l),B(h,f,w,r,l))}g={top:h.top+"px",left:h.left+"px"},h.maxHeight!==void 0&&(g.maxHeight=h.maxHeight+"px",f.height>h.maxHeight&&(g.minHeight=g.maxHeight)),h.maxWidth!==void 0&&(g.maxWidth=h.maxWidth+"px",f.width>h.maxWidth&&(g.minWidth=g.maxWidth)),Object.assign(t.style,g),t.scrollTop!==u&&(t.scrollTop=u),t.scrollLeft!==S&&(t.scrollLeft=S)}function B(e,n,t,o,i){const r=t.bottom,l=t.right,a=He(),d=window.innerHeight-a,s=document.body.clientWidth;if(e.top<0||e.top+r>d)if(i.vertical==="center")e.top=n[o.vertical]>d/2?Math.max(0,d-r):0,e.maxHeight=Math.min(r,d);else if(n[o.vertical]>d/2){const c=Math.min(d,o.vertical==="center"?n.center:o.vertical===i.vertical?n.bottom:n.top);e.maxHeight=Math.min(r,c),e.top=Math.max(0,c-r)}else e.top=Math.max(0,o.vertical==="center"?n.center:o.vertical===i.vertical?n.top:n.bottom),e.maxHeight=Math.min(r,d-e.top);if(e.left<0||e.left+l>s)if(e.maxWidth=Math.min(l,s),i.horizontal==="middle")e.left=n[o.horizontal]>s/2?Math.max(0,s-l):0;else if(n[o.horizontal]>s/2){const c=Math.min(s,o.horizontal==="middle"?n.middle:o.horizontal===i.horizontal?n.right:n.left);e.maxWidth=Math.min(l,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?n.middle:o.horizontal===i.horizontal?n.left:n.right),e.maxWidth=Math.min(l,s-e.left)}const it=Re({name:"QTooltip",inheritAttrs:!1,props:{...se,...je,...U,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...U.transitionShow,default:"jump-down"},transitionHide:{...U.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ne},self:{type:String,default:"top middle",validator:ne},offset:{type:Array,default:()=>[14,14],validator:Fe},scrollTarget:Ce,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Ae],setup(e,{slots:n,emit:t,attrs:o}){let i,r;const l=ae(),{proxy:{$q:a}}=l,d=$(null),s=$(!1),c=k(()=>oe(e.anchor,a.lang.rtl)),x=k(()=>oe(e.self,a.lang.rtl)),S=k(()=>e.persistent!==!0),{registerTick:u,removeTick:f}=$e(),{registerTimeout:T}=We(),{transitionProps:E,transitionStyle:W}=Pe(e),{localScrollTarget:H,changeScrollEvent:g,unconfigureScrollTarget:w}=Ie(e,_),{anchorEl:h,canShow:m,anchorEvents:p}=Be({showing:s,configureAnchorEl:ye}),{show:v,hide:y}=ke({showing:s,canShow:m,handleShow:he,handleHide:me,hideOnRouteChange:S,processOnMount:!0});Object.assign(p,{delayShow:ge,delayHide:ve});const{showPortal:C,hidePortal:G,renderPortal:fe}=qe(l,d,be,"tooltip");if(a.platform.is.mobile===!0){const b={anchorEl:h,innerRef:d,onClickOutside(R){return y(R),R.target.classList.contains("q-dialog__backdrop")&&Oe(R),!0}},D=k(()=>e.modelValue===null&&e.persistent!==!0&&s.value===!0);A(D,R=>{(R===!0?Ne:Z)(b)}),M(()=>{Z(b)})}function he(b){C(),u(()=>{r=new MutationObserver(()=>P()),r.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),P(),_()}),i===void 0&&(i=A(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,P)),T(()=>{C(!0),t("show",b)},e.transitionDuration)}function me(b){f(),G(),V(),T(()=>{G(!0),t("hide",b)},e.transitionDuration)}function V(){r!==void 0&&(r.disconnect(),r=void 0),i!==void 0&&(i(),i=void 0),w(),I(p,"tooltipTemp")}function P(){ue({targetEl:d.value,offset:e.offset,anchorEl:h.value,anchorOrigin:c.value,selfOrigin:x.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ge(b){if(a.platform.is.mobile===!0){F(),document.body.classList.add("non-selectable");const D=h.value,R=["touchmove","touchcancel","touchend","click"].map(Y=>[D,Y,"delayHide","passiveCapture"]);q(p,"tooltipTemp",R)}T(()=>{v(b)},e.delay)}function ve(b){a.platform.is.mobile===!0&&(I(p,"tooltipTemp"),F(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),T(()=>{y(b)},e.hideDelay)}function ye(){if(e.noParentEvent===!0||h.value===null)return;const b=a.platform.is.mobile===!0?[[h.value,"touchstart","delayShow","passive"]]:[[h.value,"mouseenter","delayShow","passive"],[h.value,"mouseleave","delayHide","passive"]];q(p,"anchor",b)}function _(){if(h.value!==null||e.scrollTarget!==void 0){H.value=Me(h.value,e.scrollTarget);const b=e.noParentEvent===!0?P:y;g(H.value,b)}}function pe(){return s.value===!0?J("div",{...o,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,W.value],role:"tooltip"},Le(n.default)):null}function be(){return J(ze,E.value,pe)}return M(V),Object.assign(l.proxy,{updatePosition:P}),fe}}),_e={"Content-Type":"application/json"},Ye=/\{[^{}]+\}/g;class Ke extends Request{constructor(n,t){super(n,t);for(const o in t)o in this||(this[o]=t[o])}}function Xe(e){let{baseUrl:n="",fetch:t=globalThis.fetch,querySerializer:o,bodySerializer:i,headers:r,...l}={...e};n.endsWith("/")&&(n=n.substring(0,n.length-1)),r=re(_e,r);const a=[];async function d(s,c){const{fetch:x=t,headers:S,params:u={},parseAs:f="json",querySerializer:T,bodySerializer:E=i??Ze,...W}=c||{};let H=typeof o=="function"?o:le(o);T&&(H=typeof T=="function"?T:le({...typeof o=="object"?o:{},...T}));const g={redirect:"follow",...l,...W,headers:re(r,S,u.header)};g.body&&(g.body=E(g.body)),g.body instanceof FormData&&g.headers.delete("Content-Type");let w=new Ke(et(s,{baseUrl:n,params:u,querySerializer:H}),g);const h={baseUrl:n,fetch:x,parseAs:f,querySerializer:H,bodySerializer:E};for(const v of a)if(v&&typeof v=="object"&&typeof v.onRequest=="function"){w.schemaPath=s,w.params=u;const y=await v.onRequest(w,h);if(y){if(!(y instanceof Request))throw new Error("Middleware must return new Request() when modifying the request");w=y}}let m=await x(w);for(let v=a.length-1;v>=0;v--){const y=a[v];if(y&&typeof y=="object"&&typeof y.onResponse=="function"){const C=await y.onResponse(m,h);if(C){if(!(C instanceof Response))throw new Error("Middleware must return new Response() when modifying the response");m=C}}}if(m.status===204||m.headers.get("Content-Length")==="0")return m.ok?{data:{},response:m}:{error:{},response:m};if(m.ok)return f==="stream"?{data:m.body,response:m}:{data:await m[f](),response:m};let p=await m.text();try{p=JSON.parse(p)}catch{}return{error:p,response:m}}return{async GET(s,c){return d(s,{...c,method:"GET"})},async PUT(s,c){return d(s,{...c,method:"PUT"})},async POST(s,c){return d(s,{...c,method:"POST"})},async DELETE(s,c){return d(s,{...c,method:"DELETE"})},async OPTIONS(s,c){return d(s,{...c,method:"OPTIONS"})},async HEAD(s,c){return d(s,{...c,method:"HEAD"})},async PATCH(s,c){return d(s,{...c,method:"PATCH"})},async TRACE(s,c){return d(s,{...c,method:"TRACE"})},use(...s){for(const c of s)if(c){if(typeof c!="object"||!("onRequest"in c||"onResponse"in c))throw new Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");a.push(c)}},eject(...s){for(const c of s){const x=a.indexOf(c);x!==-1&&a.splice(x,1)}}}}function O(e,n,t){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${e}=${t?.allowReserved===!0?n:encodeURIComponent(n)}`}function ce(e,n,t){if(!n||typeof n!="object")return"";const o=[],i={simple:",",label:".",matrix:";"}[t.style]||"&";if(t.style!=="deepObject"&&t.explode===!1){for(const a in n)o.push(a,t.allowReserved===!0?n[a]:encodeURIComponent(n[a]));const l=o.join(",");switch(t.style){case"form":return`${e}=${l}`;case"label":return`.${l}`;case"matrix":return`;${e}=${l}`;default:return l}}for(const l in n){const a=t.style==="deepObject"?`${e}[${l}]`:l;o.push(O(a,n[l],t))}const r=o.join(i);return t.style==="label"||t.style==="matrix"?`${i}${r}`:r}function de(e,n,t){if(!Array.isArray(n))return"";if(t.explode===!1){const r={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[t.style]||",",l=(t.allowReserved===!0?n:n.map(a=>encodeURIComponent(a))).join(r);switch(t.style){case"simple":return l;case"label":return`.${l}`;case"matrix":return`;${e}=${l}`;default:return`${e}=${l}`}}const o={simple:",",label:".",matrix:";"}[t.style]||"&",i=[];for(const r of n)t.style==="simple"||t.style==="label"?i.push(t.allowReserved===!0?r:encodeURIComponent(r)):i.push(O(e,r,t));return t.style==="label"||t.style==="matrix"?`${o}${i.join(o)}`:i.join(o)}function le(e){return function(t){const o=[];if(t&&typeof t=="object")for(const i in t){const r=t[i];if(r!=null){if(Array.isArray(r)){o.push(de(i,r,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof r=="object"){o.push(ce(i,r,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}o.push(O(i,r,e))}}return o.join("&")}}function Je(e,n){let t=e;for(const o of e.match(Ye)??[]){let i=o.substring(1,o.length-1),r=!1,l="simple";if(i.endsWith("*")&&(r=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(l="label",i=i.substring(1)):i.startsWith(";")&&(l="matrix",i=i.substring(1)),!n||n[i]===void 0||n[i]===null)continue;const a=n[i];if(Array.isArray(a)){t=t.replace(o,de(i,a,{style:l,explode:r}));continue}if(typeof a=="object"){t=t.replace(o,ce(i,a,{style:l,explode:r}));continue}if(l==="matrix"){t=t.replace(o,`;${O(i,a)}`);continue}t=t.replace(o,l==="label"?`.${a}`:a)}return t}function Ze(e){return JSON.stringify(e)}function et(e,n){let t=`${n.baseUrl}${e}`;n.params?.path&&(t=Je(t,n.params.path));let o=n.querySerializer(n.params.query??{});return o.startsWith("?")&&(o=o.substring(1)),o&&(t+=`?${o}`),t}function re(...e){const n=new Headers;for(const t of e){if(!t||typeof t!="object")continue;const o=t instanceof Headers?t.entries():Object.entries(t);for(const[i,r]of o)if(r===null)n.delete(i);else if(Array.isArray(r))for(const l of r)n.append(i,l);else r!==void 0&&n.set(i,r)}return n}const tt=Xe({baseUrl:"https://api.wodore.com"}),lt=De("huts",()=>{const e={type:"FeatureCollection",features:[]},n=$(e);async function t({date:l="now",days:a=8}){tt.GET("/v1/huts/bookings.geojson",{params:{query:{date:l,days:a}}}).then(({data:d})=>{d&&(n.value=d)}).catch(()=>{Ue.create({type:"negative",position:"bottom",caption:"Reservations Service nicht erreichbar",message:"Fehler",progress:!0,timeout:1800})})}function o(){n.value=e}const i=$(void 0),r=k(()=>i.value!==void 0?i.value.split(".")[1]:(new Date().getMonth()+1).toString().padStart(2,"0"));return{bookingsGeojson:n,fetchHutBookingsGeojson:t,removeBookings:o,selectedDate:i,selectedMonth:r}});export{it as Q,Fe as a,Ie as b,Be as c,Ne as d,lt as e,tt as f,F as g,oe as p,Z as r,ue as s,ot as u,ne as v};
