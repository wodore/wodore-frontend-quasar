import{o as c,e as x,a as d,h as Te,j as Ee,aA as We,l as Be,m as Le,aB as Qe,t as C,F as Re,E as F,Q as S,aC as Ae,a2 as xe,ac as Ne,d as E,c as g,w as l,f as r,Y as se,a0 as M,Z as z,aD as A,P as b,_ as L,s as B,O as k,R as X,$ as ee,aE as Ve,y as O,B as me,aF as Fe,A as Oe,n as Y,D as j,aG as he,N as je,g as Q,aH as De,M as ke,a3 as Pe,a4 as Ue,a5 as Ze,aI as Ke,aJ as Ye,aK as Ge,an as Je,W as fe}from"./index-C3WPJ32D.js";import{u as Xe}from"./vue-i18n.runtime-Bra9S_iK.js";import{Q as ze}from"./QScrollArea-qMyuo68E.js";import{u as ie}from"./use-quasar-Vy-2gAJ_.js";import{i as $e,j as et,h as tt,d as R,c as te,f as nt,a as ot,b as Ce,C as ve,_ as at,g as st,e as ge,k as it,Q as rt}from"./QLayout-v0pnnC7J.js";import{t as qe}from"./analytics-hj9MTZ8Z.js";import{Q as lt,g as ct,a as ut}from"./imageService-BsDRI-WU.js";import{u as dt}from"./vue-maplibre-gl.es-BVtDCNW6.js";import{u as Se}from"./auth-store-ZmIbT9DM.js";import{Q as _t}from"./QTooltip-NX8W9Y-G.js";import{Q as pt}from"./QPage-RNq2jd05.js";import{c as mt}from"./index-CLGrf77g.js";import{b as ht}from"./huts-store-CwzBoiBy.js";import"./use-hydration-C1--OkA5.js";import"./selection-sc-PCvJC.js";import"./_commonjsHelpers-BosuxZz1.js";import"./___vite-browser-external_commonjs-proxy-DRaEfepn.js";const ft={viewBox:"0 0 448 512",width:"1.2em",height:"1.2em"},vt=d("path",{fill:"currentColor",d:"M208 0h124.1C344.8 0 357 5.1 366 14.1L433.9 82c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48M48 128h80v64H64v256h192v-32h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48"},null,-1),gt=[vt];function yt(e,t){return c(),x("svg",ft,[...gt])}const bt={name:"fa6-solid-copy",render:yt},wt={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},xt=d("path",{fill:"currentColor",d:"M256 0c17.7 0 32 14.3 32 32v34.7c80.4 13.4 143.9 76.9 157.3 157.3H480c17.7 0 32 14.3 32 32s-14.3 32-32 32h-34.7c-13.4 80.4-76.9 143.9-157.3 157.3V480c0 17.7-14.3 32-32 32s-32-14.3-32-32v-34.7C143.6 431.9 80.1 368.4 66.7 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h34.7C80.1 143.6 143.6 80.1 224 66.7V32c0-17.7 14.3-32 32-32M128 256a128 128 0 1 0 256 0a128 128 0 1 0-256 0m128-80a80 80 0 1 1 0 160a80 80 0 1 1 0-160"},null,-1),kt=[xt];function zt(e,t){return c(),x("svg",wt,[...kt])}const $t={name:"fa6-solid-location-crosshairs",render:zt},Ct={xs:8,sm:10,md:14,lg:20,xl:24},re=Te({name:"QChip",props:{...Ee,...We,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=Be(),o=Le(e,a),u=Qe(e,Ct),i=C(()=>e.selected===!0||e.icon!==void 0),w=C(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),m=C(()=>e.iconRemove||a.iconSet.chip.remove),f=C(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),_=C(()=>{const s=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(s?` text-${s} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(f.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),h=C(()=>{const s=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},p={...s,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:s,remove:p}});function $(s){s.keyCode===13&&q(s)}function q(s){e.disable||(n("update:selected",!e.selected),n("click",s))}function v(s){(s.keyCode===void 0||s.keyCode===13)&&(Ne(s),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function I(){const s=[];f.value===!0&&s.push(F("div",{class:"q-focus-helper"})),i.value===!0&&s.push(F(S,{class:"q-chip__icon q-chip__icon--left",name:w.value}));const p=e.label!==void 0?[F("div",{class:"ellipsis"},[e.label])]:void 0;return s.push(F("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ae(t.default,p))),e.iconRight&&s.push(F(S,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&s.push(F(S,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...h.value.remove,onClick:v,onKeyup:v})),s}return()=>{if(e.modelValue===!1)return;const s={class:_.value,style:u.value};return f.value===!0&&Object.assign(s,h.value.chip,{onClick:q,onKeyup:$}),Re("div",s,I(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[xe,e.ripple]])}}}),qt={class:"text-primary-900"},St=E({__name:"WdHutTypeNameChip",props:{type:{},name:{},color:{default:"white"},color2:{}},setup(e){const t=e,n=C(()=>t.color2?t.color2:"white");return(a,o)=>a.type&&a.type.name?(c(),g(re,{key:0,size:"md",class:M("bg-"+n.value+" q-mr-none"),style:{"min-width":"40px","max-width":"200px","max-height":"30px"}},{default:l(()=>[r(se,{class:M("bg-"+a.color),"text-color":"white"},{default:l(()=>[r(S,{size:"24px",name:"img:"+(a.$q.platform.is.mobile?a.type.symbol:a.type.symbol_simple)},null,8,["name"])]),_:1},8,["class"]),d("span",qt,z(a.name),1),A(a.$slots,"default")]),_:3},8,["class"])):b("",!0)}}),Ht=L(St,[["__file","WdHutTypeNameChip.vue"]]),ne=["01","02","03","04","05","06","07","08","09","10","11","12"];function Mt(){const{t:e}=Xe(),t=B({"01":e("jan"),"02":e("feb"),"03":e("mar"),"04":e("apr"),"05":e("may"),"06":e("jun"),"07":e("jul"),"08":e("aug"),"09":e("sep"),10:e("oct"),11:e("nov"),12:e("dec")});function n(a){return t.value[a]}return{monthList:ne,monthNames:t,getMonthName:n}}const It={yes:{main0:"open"},no:{main0:"closed"},maybe:{main0:"open",main1:"closed"},unknown:{main0:"unknown"}},Tt={yes:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"open",main1:"closed"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},no:{maybe:{yes:{main0:"closed",main1:"open"},no:{main0:"closed",minor:"open"},maybe:{main0:"closed",minor:"open"},unknown:{main0:"closed",minor:"open"}}},maybe:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},unknown:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}}},Et={class:"q-ma-xs row items-center justify-center no-wrap"},Wt=E({__name:"WdMonthly",props:{month:{},icons:{}},setup(e){const{getMonthName:t}=Mt(),n=e,a=C(()=>t(n.month));return(o,u)=>(c(),x("div",{class:M(["card column items-center overflow-hidden q-mb-xs","month_"+o.month+"--gradient-light"])},[d("div",{class:M(["text-caption header text-center row justify-center","month_"+o.month+"--gradient"])},z(a.value),3),d("div",Et,[r(S,{size:"24px",name:o.icons.main0},null,8,["name"]),o.icons.main1?(c(),g(S,{key:0,size:"24px",name:o.icons.main1},null,8,["name"])):b("",!0),o.icons.minor?(c(),g(S,{key:1,size:"20px",name:o.icons.minor,style:{transform:"translate(-2px, 7px)"}},null,8,["name"])):b("",!0)])],2))}}),Bt=L(Wt,[["__scopeId","data-v-f695df66"],["__file","WdMonthly.vue"]]),Lt={key:0},Qt={class:"text-subtitle1 text-accent q-mb-sm"},Rt={key:0,class:"row monthly overflow-hidden"},At={style:{height:"50px",width:"700px"}},Nt={class:"row monthly overflow-hidden"},Vt={class:"justify-center row q-my-sm"},Ft=E({__name:"WdHutOpenMonthly",props:{open_monthly:{},type_open:{},type_closed:{}},setup(e){const t=ie(),n=e,a=C(()=>t.platform.is.mobile);function o(_){let h;if(n.open_monthly)h=n.open_monthly["month_"+_];else return"unknown";return h===void 0?"unknown":h}function u(_){const h=parseInt(_),$=(h>=0?h-1:11).toString().padStart(2,"0"),q=(h>=11?0:h+1).toString().padStart(2,"0"),v=o(_),I=o($),s=o(q);let p;return v=="maybe"?p=Tt[I][v][s]:p=It[v],{main0:i(p.main0)===void 0?f():i(p.main0),main1:i(p.main1),minor:i(p.minor)}}function i(_){return _=="open"?m():_=="closed"?w():_=="unknown"?f():void 0}function w(){return a.value?n.type_closed?"img:"+n.type_closed.symbol:f():n.type_closed?"img:"+n.type_closed.symbol_simple:f()}function m(){return a.value?"img:"+n.type_open?.symbol:"img:"+n.type_open?.symbol_simple}function f(){return a.value?"img:https://api.wodore.com/media/huts/types/symbols/detailed/unknown.png":"img:https://api.wodore.com/media/huts/types/symbols/simple/unknown.png"}return(_,h)=>{const $=Bt,q=Ht;return n.open_monthly?(c(),x("div",Lt,[d("div",Qt,z(_.$t("hut_type")),1),k(t).platform.is.mobile?b("",!0):(c(),x("div",Rt,[(c(!0),x(X,null,ee(k(ne),v=>(c(),x("div",{key:v,class:"col-md-2 col-sm-1 col-2"},[r($,{icons:u(v),month:v},null,8,["icons","month"])]))),128))])),k(t).platform.is.mobile?(c(),g(ze,{key:1,style:{height:"55px"},class:"monthly overflow-hidden","horizontal-thumb-style":{height:"3px"}},{default:l(()=>[d("div",At,[d("div",Nt,[(c(!0),x(X,null,ee(k(ne),v=>(c(),x("div",{key:v,class:"col-1"},[r($,{icons:u(v),month:v},null,8,["icons","month"])]))),128))])])]),_:1})):b("",!0),d("div",Vt,[_.type_open?(c(),g(q,{key:0,class:"col-shrink",type:_.type_open,name:_.type_open.name,color:"green-4",color2:"green-2"},null,8,["type","name"])):b("",!0),_.type_closed?(c(),g(q,{key:1,class:"col-shrink",type:_.type_closed,name:_.type_closed.name,color:"brown-3",color2:"brown-2"},null,8,["type","name"])):b("",!0)])])):b("",!0)}}}),Ot=L(Ft,[["__scopeId","data-v-055153b8"],["__file","WdHutOpenMonthly.vue"]]);var G=null;function jt(e){return G||(G=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),G(e)}var J=null;function Dt(e){J||(J=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),J(e)}function Pt(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function U(e,t){t===void 0&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(a){n[a]=t[a]}),n}function He(e,t,n){var a=window.getComputedStyle(e,null)||{display:"none"};return a[t]}function oe(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(He(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var Ut='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',ae=0,Z=null;function Zt(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=Gt.bind(e));var n=e.__resize_listeners__;if(!n){if(e.__resize_listeners__=[],window.ResizeObserver){var a=e.offsetWidth,o=e.offsetHeight,u=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===a&&e.offsetHeight===o)||K(e)}),i=oe(e),w=i.detached,m=i.rendered;e.__resize_observer_triggered__=w===!1&&m===!1,e.__resize_observer__=u,u.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){K(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(ae||(Z=Pt(Ut)),Jt(e),e.__resize_rendered__=oe(e).rendered,window.MutationObserver){var f=new MutationObserver(e.__resize_mutation_handler__);f.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=f}}e.__resize_listeners__.push(t),ae++}function Kt(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",le),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--ae&&Z&&Z.parentNode.removeChild(Z)}}function Yt(e){var t=e.__resize_last__,n=t.width,a=t.height,o=e.offsetWidth,u=e.offsetHeight;return o!==n||u!==a?{width:o,height:u}:null}function Gt(){var e=oe(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(ce(this),this.addEventListener("scroll",le,!0)),this.__resize_rendered__=t,K(this))}function le(){var e=this;ce(this),this.__resize_raf__&&Dt(this.__resize_raf__),this.__resize_raf__=jt(function(){var t=Yt(e);t&&(e.__resize_last__=t,K(e))})}function K(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function Jt(e){var t=He(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var n=U("div",{className:"resize-triggers"}),a=U("div",{className:"resize-expand-trigger"}),o=U("div"),u=U("div",{className:"resize-contract-trigger"});a.appendChild(o),n.appendChild(a),n.appendChild(u),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:a,expandChild:o,contract:u},ce(e),e.addEventListener("scroll",le,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function ce(e){var t=e.__resize_triggers__,n=t.expand,a=t.expandChild,o=t.contract,u=o.scrollWidth,i=o.scrollHeight,w=n.offsetWidth,m=n.offsetHeight,f=n.scrollWidth,_=n.scrollHeight;o.scrollLeft=u,o.scrollTop=i,a.style.width=w+1+"px",a.style.height=m+1+"px",n.scrollLeft=f,n.scrollTop=_}const Xt=["aria-label"];var Me=E({__name:"text-clamp",props:{text:{type:String,required:!0},maxHeight:{type:[String,Number],required:!1},maxLines:{type:Number,required:!1},expanded:{type:Boolean,required:!1,default:!1},location:{type:String,required:!1,default:"end"},ellipsis:{type:String,required:!1,default:"…"},autoResize:{type:Boolean,required:!1,default:!1}},emits:["clamp-change","update:expanded"],setup(e,{emit:t}){const n=e,a=B(null),o=B(null),u=B(null),i=Ve({offset:0,localExpanded:!!n.expanded,unregisterResizeCallback:null}),w=C(()=>{if(!i.localExpanded&&n.maxHeight)return typeof n?.maxHeight=="number"?`${n?.maxHeight}px`:n?.maxHeight}),m=()=>{u.value&&(u.value.textContent=P.value)},f=()=>{i.localExpanded||(m(),($()||H.value)&&v())},_=()=>{n.text&&(i.offset=n.text.length,h(),n.autoResize&&a.value&&(Zt(a.value,f),i.unregisterResizeCallback=()=>{a.value&&Kt(a.value,f)}),f())},h=()=>{i.unregisterResizeCallback?.()},$=()=>!(!n.maxLines&&!n.maxHeight)&&!!a.value&&(!!(n.maxLines&&q()>n.maxLines)||!!(n.maxHeight&&a.value.scrollHeight>a.value.offsetHeight)),q=()=>o.value?Object.keys(Array.prototype.slice.call(o.value.getClientRects()).reduce((y,{top:N,bottom:D})=>{const V=`${N}/${D}`;return y[V]||(y[V]=!0),y},{})).length:0,v=(...y)=>{const[N=0,D=i.offset]=y;if(D-N<=3)return void s();const V=Math.floor((D+N)/2);I(V),$()?v(N,V):v(V,D)},I=y=>{i.offset=y,m()},s=()=>{p(),T()},p=()=>{for(;(!$()||q()<2)&&i.offset<n.text.length;)W(1)},T=()=>{for(;$()&&q()>1&&i.offset>0;)W(-1)},W=y=>{I(i.offset+y)},H=C(()=>!!n.text&&i.offset!==n.text.length);O(()=>H.value,y=>{setTimeout(()=>{t("clamp-change",y)},0)},{immediate:!0});const P=C(()=>H.value?ue.value:n.text),ue=C(()=>{if(n.location==="start")return n.ellipsis+(n.text.slice(-i.offset)||"").trim();if(n.location==="middle"){const y=Math.floor(i.offset/2);return(n.text.slice(0,y)||"").trim()+n.ellipsis+(n.text.slice(-y)||"").trim()}return(n.text.slice(0,i.offset)||"").trim()+n.ellipsis}),de=()=>{i.localExpanded=!0},_e=()=>{i.localExpanded=!1},pe=()=>{i.localExpanded=!i.localExpanded};return O(()=>n.expanded,y=>{i.localExpanded=y}),O(()=>i.localExpanded,y=>{y?I(n.text.length):f(),n.expanded!==y&&t("update:expanded",y)}),O(()=>[n.maxLines,n.maxHeight,n.ellipsis,n.location,H.value].join(),()=>{me(()=>{f()})}),O(()=>[n.text,n.autoResize].join(),()=>{me(()=>{_()})}),Fe(()=>{h()}),Oe(()=>{_()}),(y,N)=>(c(),x("div",{ref_key:"textClampRef",ref:a,class:"text-clamp",style:Y({overflow:"hidden",maxHeight:k(w)})},[d("span",{ref_key:"contentRef",ref:o},[A(y.$slots,"before",{expand:de,collapse:_e,toggle:pe,clamped:k(H),expanded:i.localExpanded}),d("span",{ref_key:"textRef",ref:u,"aria-label":e.text},null,8,Xt),A(y.$slots,"after",{expand:de,collapse:_e,toggle:pe,clamped:k(H),expanded:i.localExpanded})],512)],4))}});Me.__file="package/text-clamp.vue";const en=e=>(e.install=function(t){t.component(e.__name,e)},e),tn=en(Me),nn=["onClick"],on=["onClick"],an=E({__name:"WdTextClamp",setup(e){return(t,n)=>(c(),g(k(tn),null,{after:l(({toggle:a,expanded:o,clamped:u})=>[j(d("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},z(t.$t("more")),9,nn),[[he,u]]),j(d("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},z(t.$t("less")),9,on),[[he,o]])]),_:1}))}}),sn=L(an,[["__file","WdTextClamp.vue"]]),rn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ln=d("g",{fill:"none","fill-rule":"evenodd"},[d("path",{d:"M24 0v24H0V0zM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),d("path",{fill:"currentColor",d:"M8.701 5.75c.577-1 2.02-1 2.598 0l3.5 6.062l.902-1.562c.577-1 2.02-1 2.598 0l4.33 7.5A1.5 1.5 0 0 1 21.33 20H17v-.002a1.555 1.555 0 0 1-.072.002H3.072a1.5 1.5 0 0 1-1.3-2.25zm-.91 5.576l.709.472l.945-.63a1 1 0 0 1 1.11 0l.945.63l.709-.472L10 7.5z"})],-1),cn=[ln];function un(e,t){return c(),x("svg",rn,[...cn])}const dn={name:"mingcute-mountain2-fill",render:un},_n=E({__name:"QIconify",props:{is:{}},setup(e){return(t,n)=>(c(),g(S,null,{default:l(()=>[(c(),g(je(t.is)))]),_:1}))}}),pn=L(_n,[["__file","QIconify.vue"]]),mn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},hn=d("path",{fill:"currentColor",d:"M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39l8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33Z"},null,-1),fn=[hn];function vn(e,t){return c(),x("svg",mn,[...fn])}const gn={name:"eva-checkmark-fill",render:vn},yn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},bn=d("path",{fill:"currentColor",d:"M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0a3 3 0 1 1 3 3a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9"},null,-1),wn=d("circle",{cx:"12",cy:"19",r:"1",fill:"currentColor"},null,-1),xn=[bn,wn];function kn(e,t){return c(),x("svg",yn,[...xn])}const ye={name:"eva-question-mark-fill",render:kn},zn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},$n=d("path",{fill:"currentColor",d:"m13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29l-4.3 4.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l4.29-4.3l4.29 4.3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42Z"},null,-1),Cn=[$n];function qn(e,t){return c(),x("svg",zn,[...Cn])}const Sn={name:"eva-close-fill",render:qn},Hn={class:"text-accent-900",style:{"font-weight":"500",width:"28px"}},Mn=E({__name:"WdHutTypeChip",props:{type:{},capacity:{},color:{default:"white"},color2:{},open:{default:void 0}},setup(e){const t=e,n=C(()=>{switch(t.open){case"yes":return gn;case"no":return Sn;case"maybe":return ye}return ye}),a=C(()=>t.color2?t.color2:"white"),o=C(()=>{switch(t.open){case"yes":return"green-6";case"no":return"red-4";case"maybe":return"green-6"}return"grey-6"});return(u,i)=>{const w=pn;return u.type&&u.type.name?(c(),g(re,{key:0,size:"md",class:M("bg-"+a.value+" q-mr-none"),style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:l(()=>[r(se,{class:M("bg-"+u.color),"text-color":"white"},{default:l(()=>[r(S,{size:"24px",name:"img:"+(u.$q.platform.is.mobile?u.type.symbol:u.type.symbol_simple)},null,8,["name"])]),_:1},8,["class"]),d("span",Hn,z(u.capacity===void 0||u.capacity==null?"?":u.capacity),1),r(w,{class:M("bg-"+o.value+" badge"),color:"white",size:"14px",is:n.value},null,8,["class","is"]),A(u.$slots,"default",{},void 0,!0)]),_:3},8,["class"])):b("",!0)}}}),In=L(Mn,[["__scopeId","data-v-764c35fd"],["__file","WdHutTypeChip.vue"]]),Tn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},En=d("path",{fill:"currentColor",d:"M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1"},null,-1),Wn=d("path",{fill:"currentColor",d:"M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2"},null,-1),Bn=[En,Wn];function Ln(e,t){return c(),x("svg",Tn,[...Bn])}const Qn={name:"eva-external-link-fill",render:Ln},Rn=["href"],An={key:1},Nn=E({__name:"WdHutHeader",props:{hut:{},ontop:{type:Boolean}},setup(e){return(t,n)=>{const a=Qn;return c(),g(tt,{class:M(["no-background",{"shadow-3":t.ontop}]),style:{transition:"box-shadow 0.2s ease","background-color":"unset"}},{default:l(()=>[A(t.$slots,"default"),t.hut?(c(),g($e,{key:0,class:""},{default:l(()=>[r(et,{style:{"text-wrap":"wrap",transform:"translateY(4px)","margin-left":"3px","background-color":"unset"},class:"text-primary-900"},{default:l(()=>[d("h1",{class:M(["text-h5 q-ma-none q-mt-xs",[t.$q.screen.xs||t.$q.platform.is.mobile?"text-h6":"text-h5"]])},[t.hut.url?(c(),x("a",{key:0,href:t.hut.url,target:"_blank",onClick:n[0]||(n[0]=o=>k(qe)("hut link click"))},[Q(z(t.hut.name)+" ",1),r(S,{size:"11pt",style:{transform:"translateY(-6px)"}},{default:l(()=>[r(a)]),_:1})],8,Rn)):(c(),x("span",An,z(t.hut.name),1))],2)]),_:1})]),_:1})):b("",!0)]),_:3},8,["class"])}}}),Vn=L(Nn,[["__file","WdHutHeader.vue"]]),Fn=E({__name:"WdToolbarExtraButton",props:{icon:{},iconColor:{default:"primary-800"},disabled:{type:Boolean,default:!1}},setup(e){return(t,n)=>j((c(),g(te,{clickable:!t.disabled,style:Y(t.disabled?"opacity : 0.5;":"")},{default:l(()=>[r(R,{avatar:"",style:{"min-width":"34px","padding-right":"0"}},{default:l(()=>[r(S,{color:t.iconColor,name:t.icon},null,8,["color","name"])]),_:1}),r(R,null,{default:l(()=>[A(t.$slots,"default")]),_:3})]),_:3},8,["clickable","style"])),[[xe]])}}),On=L(Fn,[["__file","WdToolbarExtraButton.vue"]]),jn=E({__name:"WdHutToolbar",props:{hut:{}},setup(e){const t=Se(),n=e,a={new:["warning-200","ungeprüft"],done:["positive-800","ok"],review:["warning-500","validieren"],work:["secondary-800","überarbeiten"],reject:["negative-300","ungültig"]};function o(s,p,T="work"){return n!==void 0&&(n.hut?.type_open?.slug=="unknown"||n.hut?.capacity_open==null||n.hut?.open_monthly?.month_01==null||n.hut?.elevation==null)&&(s="work"),s!==void 0&&s!=null&&s in a?a[s][p]:a[T][p]}function u(s){return o(s,0)}function i(s){return o(s,1)}const w=ie(),m=dt(),f=B(!1),_=B(!1);function h(){_.value=!_.value}function $(){if(m.map!==void 0&&n.hut!==void 0){const s=n.hut.location;if(s!=null){const p=m.map.getZoom();m.map.flyTo({center:[s.lon,s.lat],zoom:p>12?p:12,padding:{right:w.screen.xs?0:400,bottom:w.screen.xs?300:0}})}}}function q(s,p,T,W,H=.004){return s+H>=p&&s-H<=p&&T+H>=W&&T-H<=W}const v=B(!1),I=B(!0);return O(v,()=>{if(I.value=!0,m.map!==void 0&&n.hut!==void 0){const s=n.hut.location;if(s!=null){const p=m.map.getCenter(),T=m.map.getZoom();I.value=q(s.lat,p.lat,s.lon,p.lng,.005/Math.sqrt(T))}}}),(s,p)=>{const T=at,W=On;return c(),g($e,null,{default:l(()=>[A(s.$slots,"default"),r(lt),s.hut?(c(),g(nt,{key:0,outline:"",class:"q-mr-xs",color:u(s.hut.review_status)},{default:l(()=>[Q(z(i(s.hut.review_status)),1)]),_:1},8,["color"])):b("",!0),r(T,{size:"md",color:f.value?"accent":"primary-900",icon:f.value?"wd-eye":"wd-eye-outline",style:{opacity:"0.5",cursor:"not-allowed"}},null,8,["color","icon"]),r(T,{size:"md",class:"text-primary-900",icon:"wd-more-vertical"},{default:l(()=>[r(ot,{class:"bg-primary-100",modelValue:v.value,"onUpdate:modelValue":p[0]||(p[0]=H=>v.value=H)},{default:l(()=>[r(Ce,{style:{"min-width":"100px"}},{default:l(()=>[r(W,{onClick:h,icon:_.value?"wd-favorite":"wd-favorite-outline","icon-color":_.value?"accent":"primary-800",disabled:!0},{default:l(()=>[Q(z(s.$t("favorite")),1)]),_:1},8,["icon","icon-color"]),k(m).map&&s.hut?.location?j((c(),g(W,{key:0,icon:"wd-location-question",onClick:$,disabled:I.value},{default:l(()=>[Q(z(s.$t("show_map")),1)]),_:1},8,["disabled"])),[[ve]]):b("",!0),k(t).hasRole("editor")?j((c(),g(W,{key:1,icon:"wd-edit-outline",href:s.hut?.edit_link,target:"_blank"},{default:l(()=>[Q(z(s.$t("edit")),1)]),_:1},8,["href"])),[[ve]]):b("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3})}}}),Dn=L(jn,[["__file","WdHutToolbar.vue"]]),Pn=e=>(Pe("data-v-491a5fdf"),e=e(),Ue(),e),Un=["src"],Zn=Pn(()=>d("br",null,null,-1)),Kn=E({__name:"WdSourceButtons",props:{hut:{},round:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},background:{type:Boolean,default:!1},padding:{default:"xs"},color:{},target:{default:"_blank"}},setup(e){const t=Se(),n=e;function a(o){qe("hut-source-"+n.hut?.slug,{slug:o})}return(o,u)=>o.hut?(c(),x("div",{key:0,class:M(["justify-start row",{content:o.background}])},[(c(!0),x(X,null,ee(n.hut?.sources,i=>(c(),x("div",{key:i.name,class:"col"},[i.public||k(t).isAdmin()?(c(),g(ke,{key:0,href:i.link,onClick:w=>a(i.slug),onMouseup:De(w=>a(i.slug),["middle"]),target:n.target,flat:n.flat,padding:n.padding,round:n.round,color:n.color,style:{"min-width":"44px"}},{default:l(()=>[d("img",{style:Y({height:(o.$q.platform.is.mobile,"24px")}),src:i.logo},null,12,Un),r(_t,{"hide-delay":150,delay:150},{default:l(()=>[d("span",null,z(i.fullname),1),Zn,d("b",null,z(i.source_id),1)]),_:2},1024)]),_:2},1032,["href","onClick","onMouseup","target","flat","padding","round","color"])):b("",!0)]))),128))],2)):b("",!0)}}),Yn=L(Kn,[["__scopeId","data-v-491a5fdf"],["__file","WdSourceButtons.vue"]]),be={threshold:0,root:null,rootMargin:"0px"};function we(e,t,n){let a,o,u;typeof n=="function"?(a=n,o=be,u=t.cfg===void 0):(a=n.handler,o=Object.assign({},be,n.cfg),u=t.cfg===void 0||Ke(t.cfg,o)===!1),t.handler!==a&&(t.handler=a),u===!0&&(t.cfg=o,t.observer!==void 0&&t.observer.unobserve(e),t.observer=new IntersectionObserver(([i])=>{if(typeof t.handler=="function"){if(i.rootBounds===null&&document.body.contains(e)===!0){t.observer.unobserve(e),t.observer.observe(e);return}(t.handler(i,t.observer)===!1||t.once===!0&&i.isIntersecting===!0)&&Ie(e)}},o),t.observer.observe(e))}function Ie(e){const t=e.__qvisible;t!==void 0&&(t.observer!==void 0&&t.observer.unobserve(e),delete e.__qvisible)}const Gn=Ze({name:"intersection",mounted(e,{modifiers:t,value:n}){const a={once:t.once===!0};we(e,a,n),e.__qvisible=a},updated(e,t){const n=e.__qvisible;n!==void 0&&we(e,n,t.value)},beforeUnmount:Ie});function Jn(e){const t=document.createElement("textarea");t.value=e,t.contentEditable="true",t.style.position="fixed";const n=()=>{};Ye(n),document.body.appendChild(t),t.focus(),t.select();const a=document.execCommand("copy");return t.remove(),Ge(n),a}function Xn(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((t,n)=>{const a=Jn(e);a?t(!0):n(a)})}const eo={class:"row items-start q-gutter-sm"},to={key:0,class:"col-md-12 col-sm-7 col-7"},no={class:"absolute-bottom-right row attribution"},oo=["innerHTML"],ao={class:"text-primary-500",style:{"font-weight":"500",width:"28px"}},so={class:"text-body2 q-my-lg"},io=["innerHTML"],ro={class:"text-subtitle1 text-accent"},lo=E({__name:"WdHutView",props:{slug:{}},setup(e){const{selectedMonth:t}=Je(ht()),n=ie(),a=e,o=B(void 0),u=C(()=>{const h=t.value;if(o.value?.open_monthly===void 0||o.value?.open_monthly==null)return"unknown";const $=o.value?.open_monthly[`month_${h}`];return $===void 0?"unknown":$}),i=C(()=>{switch(u.value){case"yes":return"no";case"no":return"yes"}return u.value}),w=B(!1);fe(()=>{o.value=void 0,w.value=!1,a.slug&&mt.GET("/v1/huts/{slug}",{params:{path:{slug:a.slug}}}).then(({data:h})=>{h&&(o.value=h)})});const m=B(void 0),f=C(()=>n.screen.gt.sm);fe(()=>{o.value?.photos?m.value=ct(o.value?.photos,{size:"600x400",smart:!0,fit:!0}):m.value=void 0});const _=h=>(w.value=!h.isIntersecting,!0);return(h,$)=>{const q=Yn,v=Dn,I=Vn,s=In,p=dn,T=sn,W=Ot,H=$t,P=bt;return c(),g(st,{view:"lhh LpR lff",container:"",class:M(["no-background fit",k(n).dark.isActive?"bg-grey-9":"bg-grey-3"]),style:{height:"100%"}},{default:l(()=>[r(I,{hut:o.value,ontop:w.value},{default:l(()=>[f.value?(c(),g(v,{key:0,hut:o.value},{default:l(()=>[r(q,{hut:o.value,class:"q-ml-xl"},null,8,["hut"])]),_:1},8,["hut"])):b("",!0)]),_:1},8,["hut","ontop"]),r(it,{class:"fit",style:{height:"100%"}},{default:l(()=>[r(ze,{visible:"","thumb-style":{width:"6px",backgroundColor:"#998019",opacity:"0.5",borderRadius:"8px 0 0 8px"},style:{height:"100%"},class:"fit"},{default:l(()=>[o.value?(c(),g(pt,{key:0,style:{height:"100%"},class:"q-px-md fit"},{default:l(()=>[d("h2",{style:Y((k(n).screen.gt.sm?"margin-top: -3px; ":"")+"text-wrap: wrap;"),class:"text-subtitle1 text-accent-900 q-ma-none q-mb-sm"},[j(d("span",null,null,512),[[Gn,_]]),Q(" "+z(o.value.owner?.name),1)],4),d("div",eo,[m.value?(c(),x("div",to,[d("div",{class:M({"q-ma-sm":k(n).screen.gt.sm,"q-ma-lg":k(n).screen.gt.md})},[r(ut,{src:m.value,class:M(["hut-image",{"shadow-8":k(n).screen.gt.sm}])},{default:l(()=>[d("div",no,[r(S,{class:"q-mr-sm",name:"eva-camera-outline"}),d("div",{class:"img-link",innerHTML:o.value.photos_attribution},null,8,oo)])]),_:1},8,["src","class"])],2)])):b("",!0),d("div",{class:M(["col-md-12",{"col-sm-4":m.value,"col-4":m.value,"col-12":!m.value}])},[d("div",{class:M(["row items-start justify-start q-gutter-sm",{"justify-center":k(n).screen.gt.sm&&m.value,"q-gutter-lg":k(n).screen.gt.sm}])},[r(s,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_open,capacity:o.value.capacity_open,open:u.value,color:"green-4",color2:"green-2"},null,8,["type","capacity","open"]),r(s,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_closed,capacity:o.value.capacity_closed,open:i.value,color:"brown-3",color2:"brown-2"},null,8,["type","capacity","open"]),o.value.elevation?(c(),g(re,{key:0,size:"md",class:"bg-grey-4 q-mr-none shadow-0 col-md-6 col-sm-12 col-12",style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:l(()=>[r(se,{class:"bg-grey-5","text-color":"primary-500"},{default:l(()=>[r(S,{size:"20px"},{default:l(()=>[r(p)]),_:1})]),_:1}),d("span",ao,z(o.value.elevation)+" m",1)]),_:1})):b("",!0)],2)],2)]),d("body",so,[d("div",{class:"attribution attr_link text-right",style:{padding:"0"},innerHTML:o.value.description_attribution},null,8,io),r(T,{"max-lines":5,text:o.value.description,style:{"padding-bottom":"0"}},null,8,["text"])]),r(W,{open_monthly:o.value.open_monthly,type_open:o.value.type_open,type_closed:o.value.type_closed},null,8,["open_monthly","type_open","type_closed"]),d("div",ro,z(h.$t("location")),1),r(Ce,{dense:""},{default:l(()=>[o.value.location?(c(),g(te,{key:0},{default:l(()=>[r(R,{side:""},{default:l(()=>[r(S,{size:"xs"},{default:l(()=>[r(H)]),_:1})]),_:1}),r(R,null,{default:l(()=>[r(ge,null,{default:l(()=>[Q(z(o.value.location.lat.toPrecision(7))+", "+z(o.value.location.lon.toPrecision(6)),1)]),_:1})]),_:1}),r(R,{side:"",onClick:$[0]||($[0]=ue=>k(Xn)(o.value.location.lat.toPrecision(7).toString()+", "+o.value.location.lon.toPrecision(6).toString()))},{default:l(()=>[r(ke,{flat:"",dense:"",round:"",size:"10pt"},{default:l(()=>[r(S,{size:"10pt"},{default:l(()=>[r(P)]),_:1})]),_:1})]),_:1})]),_:1})):b("",!0),o.value.elevation?(c(),g(te,{key:1},{default:l(()=>[r(R,{side:""},{default:l(()=>[r(S,{size:"xs"},{default:l(()=>[r(p)]),_:1})]),_:1}),r(R,null,{default:l(()=>[r(ge,null,{default:l(()=>[Q(z(o.value.elevation)+" m",1)]),_:1})]),_:1})]),_:1})):b("",!0)]),_:1})]),_:1})):b("",!0)]),_:1})]),_:1}),r(rt,{class:"footer-toolbar"},{default:l(()=>[f.value?b("",!0):(c(),g(v,{key:0,hut:o.value},{default:l(()=>[r(q,{hut:o.value},null,8,["hut"])]),_:1},8,["hut"]))]),_:1})]),_:1},8,["class"])}}}),qo=L(lo,[["__scopeId","data-v-3ec6adef"],["__file","WdHutView.vue"]]);export{qo as default};
