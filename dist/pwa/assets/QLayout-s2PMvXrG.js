import{au as Ve,al as Ae,av as R,aw as ae,ax as Fe,ay as W,az as Z,aA as j,aB as ee,aC as oe,aD as O,a8 as Ee,c as _,g as k,o as N,m as M,n as ie,q as z,aE as V,i as re,h as $,r as S,aF as Se,j as p,w as C,af as qe,v as U,_ as De,C as je,E as Ne,F as Xe,ab as Ye,Q as Ke,aG as Ie,aH as he,aI as D,u as Ue,X as Ge,d as Je,aJ as Ze,f as et,Y as tt,k as nt,aK as ot,aL as He,Z as it,t as G,aM as lt,aN as Le,aO as at,aP as rt,aQ as ut,aR as F,aq as st}from"./index-BgdWgtZV.js";import{u as ct}from"./use-hydration-B0p5MgRY.js";const ue={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},dt=Object.keys(ue);ue.all=!0;function me(t){const n={};for(const i of dt)t[i]===!0&&(n[i]=!0);return Object.keys(n).length===0?ue:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const ft=["INPUT","TEXTAREA"];function ge(t,n){return n.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof n.handler=="function"&&ft.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(n.uid)===-1)}function X(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),Ve.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function te(t,n,i){const o=oe(t);let e,l=o.left-n.event.x,a=o.top-n.event.y,d=Math.abs(l),s=Math.abs(a);const r=n.direction;r.horizontal===!0&&r.vertical!==!0?e=l<0?"left":"right":r.horizontal!==!0&&r.vertical===!0?e=a<0?"up":"down":r.up===!0&&a<0?(e="up",d>s&&(r.left===!0&&l<0?e="left":r.right===!0&&l>0&&(e="right"))):r.down===!0&&a>0?(e="down",d>s&&(r.left===!0&&l<0?e="left":r.right===!0&&l>0&&(e="right"))):r.left===!0&&l<0?(e="left",d<s&&(r.up===!0&&a<0?e="up":r.down===!0&&a>0&&(e="down"))):r.right===!0&&l>0&&(e="right",d<s&&(r.up===!0&&a<0?e="up":r.down===!0&&a>0&&(e="down")));let h=!1;if(e===void 0&&i===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};e=n.event.lastDir,h=!0,e==="left"||e==="right"?(o.left-=l,d=0,l=0):(o.top-=a,s=0,a=0)}return{synthetic:h,payload:{evt:t,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:o,direction:e,isFirst:n.event.isFirst,isFinal:i===!0,duration:Date.now()-n.event.time,distance:{x:d,y:s},offset:{x:l,y:a},delta:{x:o.left-n.event.lastX,y:o.top-n.event.lastY}}}}let vt=0;const Ht=Ae({name:"touch-pan",beforeMount(t,{value:n,modifiers:i}){if(i.mouse!==!0&&R.has.touch!==!0)return;function o(l,a){i.mouse===!0&&a===!0?Ee(l):(i.stop===!0&&ee(l),i.prevent===!0&&j(l))}const e={uid:"qvtp_"+vt++,handler:n,modifiers:i,direction:me(i),noop:ae,mouseStart(l){ge(l,e)&&Fe(l)&&(W(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(l,!0))},touchStart(l){if(ge(l,e)){const a=l.target;W(e,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","passiveCapture"],[a,"touchend","end","passiveCapture"]]),e.start(l)}},start(l,a){if(R.is.firefox===!0&&Z(t,!0),e.lastEvt=l,a===!0||i.stop===!0){if(e.direction.all!==!0&&(a!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const r=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&j(r),l.cancelBubble===!0&&ee(r),Object.assign(r,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[e.uid]:l.qClonedBy.concat(e.uid)}),e.initialEvent={target:l.target,event:r}}ee(l)}const{left:d,top:s}=oe(l);e.event={x:d,y:s,time:Date.now(),mouse:a===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:d,lastY:s}},move(l){if(e.event===void 0)return;const a=oe(l),d=a.left-e.event.x,s=a.top-e.event.y;if(d===0&&s===0)return;e.lastEvt=l;const r=e.event.mouse===!0,h=()=>{o(l,r);let u;i.preserveCursor!==!0&&i.preservecursor!==!0&&(u=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),r===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),X(),e.styleCleanup=f=>{if(e.styleCleanup=void 0,u!==void 0&&(document.documentElement.style.cursor=u),document.body.classList.remove("non-selectable"),r===!0){const x=()=>{document.body.classList.remove("no-pointer-events--children")};f!==void 0?setTimeout(()=>{x(),f()},50):x()}else f!==void 0&&f()}};if(e.event.detected===!0){e.event.isFirst!==!0&&o(l,e.event.mouse);const{payload:u,synthetic:f}=te(l,e,!1);u!==void 0&&(e.handler(u)===!1?e.end(l):(e.styleCleanup===void 0&&e.event.isFirst===!0&&h(),e.event.lastX=u.position.left,e.event.lastY=u.position.top,e.event.lastDir=f===!0?void 0:u.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||r===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){h(),e.event.detected=!0,e.move(l);return}const g=Math.abs(d),w=Math.abs(s);g!==w&&(e.direction.horizontal===!0&&g>w||e.direction.vertical===!0&&g<w||e.direction.up===!0&&g<w&&s<0||e.direction.down===!0&&g<w&&s>0||e.direction.left===!0&&g>w&&d<0||e.direction.right===!0&&g>w&&d>0?(e.event.detected=!0,e.move(l)):e.end(l,!0))},end(l,a){if(e.event!==void 0){if(O(e,"temp"),R.is.firefox===!0&&Z(t,!1),a===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(te(l===void 0?e.lastEvt:l,e).payload);const{payload:d}=te(l===void 0?e.lastEvt:l,e,!0),s=()=>{e.handler(d)};e.styleCleanup!==void 0?e.styleCleanup(s):s()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,i.mouse===!0){const l=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";W(e,"main",[[t,"mousedown","mouseStart",`passive${l}`]])}R.has.touch===!0&&W(e,"main",[[t,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const i=t.__qtouchpan;i!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&i.end(),i.handler=n.value),i.direction=me(n.modifiers))},beforeUnmount(t){const n=t.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),O(n,"main"),O(n,"temp"),R.is.firefox===!0&&Z(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchpan)}});function Lt(t,n,i){return i<=n?n:Math.min(i,Math.max(n,t))}const Pe=typeof ResizeObserver<"u",pe=Pe===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Y=_({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:n}){let i=null,o,e={width:-1,height:-1};function l(s){s===!0||t.debounce===0||t.debounce==="0"?a():i===null&&(i=setTimeout(a,t.debounce))}function a(){if(i!==null&&(clearTimeout(i),i=null),o){const{offsetWidth:s,offsetHeight:r}=o;(s!==e.width||r!==e.height)&&(e={width:s,height:r},n("resize",e))}}const{proxy:d}=k();if(d.trigger=l,Pe===!0){let s;const r=h=>{o=d.$el.parentNode,o?(s=new ResizeObserver(l),s.observe(o),a()):h!==!0&&ie(()=>{r(!0)})};return N(()=>{r()}),M(()=>{i!==null&&clearTimeout(i),s!==void 0&&(s.disconnect!==void 0?s.disconnect():o&&s.unobserve(o))}),ae}else{let s=function(){i!==null&&(clearTimeout(i),i=null),g!==void 0&&(g.removeEventListener!==void 0&&g.removeEventListener("resize",l,V.passive),g=void 0)},r=function(){s(),o&&o.contentDocument&&(g=o.contentDocument.defaultView,g.addEventListener("resize",l,V.passive),a())};const{isHydrated:h}=ct();let g;return N(()=>{ie(()=>{o=d.$el,o&&r()})}),M(s),()=>{if(h.value===!0)return z("object",{class:"q--avoid-card-border",style:pe.style,tabindex:-1,type:"text/html",data:pe.url,"aria-hidden":"true",onLoad:r})}}}}),Pt=_({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:i}){const{proxy:{$q:o}}=k(),e=re(U,$);if(e===$)return console.error("QFooter needs to be child of QLayout"),$;const l=S(parseInt(t.heightHint,10)),a=S(!0),d=S(Se.value===!0||e.isContainer.value===!0?0:window.innerHeight),s=p(()=>t.reveal===!0||e.view.value.indexOf("F")!==-1||o.platform.is.ios&&e.isContainer.value===!0),r=p(()=>e.isContainer.value===!0?e.containerHeight.value:d.value),h=p(()=>{if(t.modelValue!==!0)return 0;if(s.value===!0)return a.value===!0?l.value:0;const c=e.scroll.value.position+r.value+l.value-e.height.value;return c>0?c:0}),g=p(()=>t.modelValue!==!0||s.value===!0&&a.value!==!0),w=p(()=>t.modelValue===!0&&g.value===!0&&t.reveal===!0),u=p(()=>"q-footer q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(g.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(s.value!==!0?" hidden":""):"")),f=p(()=>{const c=e.rows.value.bottom,b={};return c[0]==="l"&&e.left.space===!0&&(b[o.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),c[2]==="r"&&e.right.space===!0&&(b[o.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),b});function x(c,b){e.update("footer",c,b)}function E(c,b){c.value!==b&&(c.value=b)}function P({height:c}){E(l,c),x("size",c)}function v(){if(t.reveal!==!0)return;const{direction:c,position:b,inflectionPoint:T}=e.scroll.value;E(a,c==="up"||b-T<100||e.height.value-r.value-b-l.value<300)}function y(c){w.value===!0&&E(a,!0),i("focusin",c)}C(()=>t.modelValue,c=>{x("space",c),E(a,!0),e.animate()}),C(h,c=>{x("offset",c)}),C(()=>t.reveal,c=>{c===!1&&E(a,t.modelValue)}),C(a,c=>{e.animate(),i("reveal",c)}),C([l,e.scroll,e.height],v),C(()=>o.screen.height,c=>{e.isContainer.value!==!0&&E(d,c)});const m={};return e.instances.footer=m,t.modelValue===!0&&x("size",l.value),x("space",t.modelValue),x("offset",h.value),M(()=>{e.instances.footer===m&&(e.instances.footer=void 0,x("size",0),x("offset",0),x("space",!1))}),()=>{const c=qe(n.default,[z(Y,{debounce:0,onResize:P})]);return t.elevated===!0&&c.push(z("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),z("footer",{class:u.value,style:f.value,onFocusin:y},c)}}}),ht={};function mt(t,n){return je(),Ne(Ke,{flat:"",dense:"",round:"",size:"lg",color:"primary-100",icon:"eva-alert-triangle"},{default:Xe(()=>[Ye(t.$slots,"default")]),_:3})}const $t=De(ht,[["render",mt],["__file","WdToolbarButton.vue"]]),gt={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function pt({showing:t,avoidEmit:n,configureAnchorEl:i}){const{props:o,proxy:e,emit:l}=k(),a=S(null);let d=null;function s(u){return a.value===null?!1:u===void 0||u.touches===void 0||u.touches.length<=1}const r={};i===void 0&&(Object.assign(r,{hide(u){e.hide(u)},toggle(u){e.toggle(u),u.qAnchorHandled=!0},toggleKey(u){Ie(u,13)===!0&&r.toggle(u)},contextClick(u){e.hide(u),j(u),ie(()=>{e.show(u),u.qAnchorHandled=!0})},prevent:j,mobileTouch(u){if(r.mobileCleanup(u),s(u)!==!0)return;e.hide(u),a.value.classList.add("non-selectable");const f=u.target;W(r,"anchor",[[f,"touchmove","mobileCleanup","passive"],[f,"touchend","mobileCleanup","passive"],[f,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),d=setTimeout(()=>{d=null,e.show(u),u.qAnchorHandled=!0},300)},mobileCleanup(u){a.value.classList.remove("non-selectable"),d!==null&&(clearTimeout(d),d=null),t.value===!0&&u!==void 0&&X()}}),i=function(u=o.contextMenu){if(o.noParentEvent===!0||a.value===null)return;let f;u===!0?e.$q.platform.is.mobile===!0?f=[[a.value,"touchstart","mobileTouch","passive"]]:f=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:f=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],W(r,"anchor",f)});function h(){O(r,"anchor")}function g(u){for(a.value=u;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;i()}function w(){if(o.target===!1||o.target===""||e.$el.parentNode===null)a.value=null;else if(o.target===!0)g(e.$el.parentNode);else{let u=o.target;if(typeof o.target=="string")try{u=document.querySelector(o.target)}catch{u=void 0}u!=null?(a.value=u.$el||u,i()):(a.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return C(()=>o.contextMenu,u=>{a.value!==null&&(h(),i(u))}),C(()=>o.target,()=>{a.value!==null&&h(),w()}),C(()=>o.noParentEvent,u=>{a.value!==null&&(u===!0?h():i())}),N(()=>{w(),n!==!0&&o.modelValue===!0&&a.value===null&&l("update:modelValue",!1)}),M(()=>{d!==null&&clearTimeout(d),h()}),{anchorEl:a,canShow:s,anchorEvents:r}}function yt(t,n){const i=S(null);let o;function e(d,s){const r=`${s!==void 0?"add":"remove"}EventListener`,h=s!==void 0?s:o;d!==window&&d[r]("scroll",h,V.passive),window[r]("scroll",h,V.passive),o=s}function l(){i.value!==null&&(e(i.value),i.value=null)}const a=C(()=>t.noParentEvent,()=>{i.value!==null&&(l(),n())});return M(a),{localScrollTarget:i,unconfigureScrollTarget:l,changeScrollEvent:e}}const{notPassiveCapture:K}=V,Q=[];function I(t){const n=t.target;if(n===void 0||n.nodeType===8||n.classList.contains("no-pointer-events")===!0)return;let i=he.length-1;for(;i>=0;){const o=he[i].$;if(o.type.name==="QTooltip"){i--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;i--}for(let o=Q.length-1;o>=0;o--){const e=Q[o];if((e.anchorEl.value===null||e.anchorEl.value.contains(n)===!1)&&(n===document.body||e.innerRef.value!==null&&e.innerRef.value.contains(n)===!1))t.qClickOutside=!0,e.onClickOutside(t);else return}}function bt(t){Q.push(t),Q.length===1&&(document.addEventListener("mousedown",I,K),document.addEventListener("touchstart",I,K))}function ye(t){const n=Q.findIndex(i=>i===t);n!==-1&&(Q.splice(n,1),Q.length===0&&(document.removeEventListener("mousedown",I,K),document.removeEventListener("touchstart",I,K)))}let be,we;function xe(t){const n=t.split(" ");return n.length!==2?!1:["top","center","bottom"].includes(n[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(n[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function wt(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const le={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{le[`${t}#ltr`]=t,le[`${t}#rtl`]=t});function Te(t,n){const i=t.split(" ");return{vertical:i[0],horizontal:le[`${i[1]}#${n===!0?"rtl":"ltr"}`]}}function xt(t,n){let{top:i,left:o,right:e,bottom:l,width:a,height:d}=t.getBoundingClientRect();return n!==void 0&&(i-=n[1],o-=n[0],l+=n[1],e+=n[0],a+=n[0],d+=n[1]),{top:i,bottom:l,height:d,left:o,right:e,width:a,middle:o+(e-o)/2,center:i+(l-i)/2}}function Tt(t,n,i){let{top:o,left:e}=t.getBoundingClientRect();return o+=n.top,e+=n.left,i!==void 0&&(o+=i[1],e+=i[0]),{top:o,bottom:o+1,height:1,left:e,right:e+1,width:1,middle:e,center:o}}function Ct(t,n){return{top:0,center:n/2,bottom:n,left:0,middle:t/2,right:t}}function Ce(t,n,i,o){return{top:t[i.vertical]-n[o.vertical],left:t[i.horizontal]-n[o.horizontal]}}function $e(t,n=0){if(t.targetEl===null||t.anchorEl===null||n>5)return;if(t.targetEl.offsetHeight===0||t.targetEl.offsetWidth===0){setTimeout(()=>{$e(t,n+1)},10);return}const{targetEl:i,offset:o,anchorEl:e,anchorOrigin:l,selfOrigin:a,absoluteOffset:d,fit:s,cover:r,maxHeight:h,maxWidth:g}=t;if(R.is.ios===!0&&window.visualViewport!==void 0){const b=document.body.style,{offsetLeft:T,offsetTop:H}=window.visualViewport;T!==be&&(b.setProperty("--q-pe-left",T+"px"),be=T),H!==we&&(b.setProperty("--q-pe-top",H+"px"),we=H)}const{scrollLeft:w,scrollTop:u}=i,f=d===void 0?xt(e,r===!0?[0,0]:o):Tt(e,d,o);Object.assign(i.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:g||"100vw",maxHeight:h||"100vh",visibility:"visible"});const{offsetWidth:x,offsetHeight:E}=i,{elWidth:P,elHeight:v}=s===!0||r===!0?{elWidth:Math.max(f.width,x),elHeight:r===!0?Math.max(f.height,E):E}:{elWidth:x,elHeight:E};let y={maxWidth:g,maxHeight:h};(s===!0||r===!0)&&(y.minWidth=f.width+"px",r===!0&&(y.minHeight=f.height+"px")),Object.assign(i.style,y);const m=Ct(P,v);let c=Ce(f,m,l,a);if(d===void 0||o===void 0)ne(c,f,m,l,a);else{const{top:b,left:T}=c;ne(c,f,m,l,a);let H=!1;if(c.top!==b){H=!0;const L=2*o[1];f.center=f.top-=L,f.bottom-=L+2}if(c.left!==T){H=!0;const L=2*o[0];f.middle=f.left-=L,f.right-=L+2}H===!0&&(c=Ce(f,m,l,a),ne(c,f,m,l,a))}y={top:c.top+"px",left:c.left+"px"},c.maxHeight!==void 0&&(y.maxHeight=c.maxHeight+"px",f.height>c.maxHeight&&(y.minHeight=y.maxHeight)),c.maxWidth!==void 0&&(y.maxWidth=c.maxWidth+"px",f.width>c.maxWidth&&(y.minWidth=y.maxWidth)),Object.assign(i.style,y),i.scrollTop!==u&&(i.scrollTop=u),i.scrollLeft!==w&&(i.scrollLeft=w)}function ne(t,n,i,o,e){const l=i.bottom,a=i.right,d=D(),s=window.innerHeight-d,r=document.body.clientWidth;if(t.top<0||t.top+l>s)if(e.vertical==="center")t.top=n[o.vertical]>s/2?Math.max(0,s-l):0,t.maxHeight=Math.min(l,s);else if(n[o.vertical]>s/2){const h=Math.min(s,o.vertical==="center"?n.center:o.vertical===e.vertical?n.bottom:n.top);t.maxHeight=Math.min(l,h),t.top=Math.max(0,h-l)}else t.top=Math.max(0,o.vertical==="center"?n.center:o.vertical===e.vertical?n.top:n.bottom),t.maxHeight=Math.min(l,s-t.top);if(t.left<0||t.left+a>r)if(t.maxWidth=Math.min(a,r),e.horizontal==="middle")t.left=n[o.horizontal]>r/2?Math.max(0,r-a):0;else if(n[o.horizontal]>r/2){const h=Math.min(r,o.horizontal==="middle"?n.middle:o.horizontal===e.horizontal?n.right:n.left);t.maxWidth=Math.min(a,h),t.left=Math.max(0,h-t.maxWidth)}else t.left=Math.max(0,o.horizontal==="middle"?n.middle:o.horizontal===e.horizontal?n.left:n.right),t.maxWidth=Math.min(a,r-t.left)}const Mt=_({name:"QTooltip",inheritAttrs:!1,props:{...gt,...Ue,...Ge,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:xe},self:{type:String,default:"top middle",validator:xe},offset:{type:Array,default:()=>[14,14],validator:wt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Je],setup(t,{slots:n,emit:i,attrs:o}){let e,l;const a=k(),{proxy:{$q:d}}=a,s=S(null),r=S(!1),h=p(()=>Te(t.anchor,d.lang.rtl)),g=p(()=>Te(t.self,d.lang.rtl)),w=p(()=>t.persistent!==!0),{registerTick:u,removeTick:f}=Ze(),{registerTimeout:x}=et(),{transitionProps:E,transitionStyle:P}=tt(t),{localScrollTarget:v,changeScrollEvent:y,unconfigureScrollTarget:m}=yt(t,fe),{anchorEl:c,canShow:b,anchorEvents:T}=pt({showing:r,configureAnchorEl:Qe}),{show:H,hide:L}=nt({showing:r,canShow:b,handleShow:_e,handleHide:We,hideOnRouteChange:w,processOnMount:!0});Object.assign(T,{delayShow:ke,delayHide:Be});const{showPortal:se,hidePortal:ce,renderPortal:Me}=ot(a,s,Oe,"tooltip");if(d.platform.is.mobile===!0){const q={anchorEl:c,innerRef:s,onClickOutside(B){return L(B),B.target.classList.contains("q-dialog__backdrop")&&Ee(B),!0}},J=p(()=>t.modelValue===null&&t.persistent!==!0&&r.value===!0);C(J,B=>{(B===!0?bt:ye)(q)}),M(()=>{ye(q)})}function _e(q){se(),u(()=>{l=new MutationObserver(()=>A()),l.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),A(),fe()}),e===void 0&&(e=C(()=>d.screen.width+"|"+d.screen.height+"|"+t.self+"|"+t.anchor+"|"+d.lang.rtl,A)),x(()=>{se(!0),i("show",q)},t.transitionDuration)}function We(q){f(),ce(),de(),x(()=>{ce(!0),i("hide",q)},t.transitionDuration)}function de(){l!==void 0&&(l.disconnect(),l=void 0),e!==void 0&&(e(),e=void 0),m(),O(T,"tooltipTemp")}function A(){$e({targetEl:s.value,offset:t.offset,anchorEl:c.value,anchorOrigin:h.value,selfOrigin:g.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function ke(q){if(d.platform.is.mobile===!0){X(),document.body.classList.add("non-selectable");const J=c.value,B=["touchmove","touchcancel","touchend","click"].map(ve=>[J,ve,"delayHide","passiveCapture"]);W(T,"tooltipTemp",B)}x(()=>{H(q)},t.delay)}function Be(q){d.platform.is.mobile===!0&&(O(T,"tooltipTemp"),X(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),x(()=>{L(q)},t.hideDelay)}function Qe(){if(t.noParentEvent===!0||c.value===null)return;const q=d.platform.is.mobile===!0?[[c.value,"touchstart","delayShow","passive"]]:[[c.value,"mouseenter","delayShow","passive"],[c.value,"mouseleave","delayHide","passive"]];W(T,"anchor",q)}function fe(){if(c.value!==null||t.scrollTarget!==void 0){v.value=He(c.value,t.scrollTarget);const q=t.noParentEvent===!0?A:L;y(v.value,q)}}function Re(){return r.value===!0?z("div",{...o,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,P.value],role:"tooltip"},G(n.default)):null}function Oe(){return z(it,E.value,Re)}return M(de),Object.assign(a.proxy,{updatePosition:A}),Me}}),_t=_({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:n}){const i=p(()=>"q-toolbar__title ellipsis"+(t.shrink===!0?" col-shrink":""));return()=>z("div",{class:i.value},G(n.default))}}),Wt=_({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:n}){const i=p(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>z("div",{class:i.value,role:"toolbar"},G(n.default))}}),kt=_({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:i}){const{proxy:{$q:o}}=k(),e=re(U,$);if(e===$)return console.error("QHeader needs to be child of QLayout"),$;const l=S(parseInt(t.heightHint,10)),a=S(!0),d=p(()=>t.reveal===!0||e.view.value.indexOf("H")!==-1||o.platform.is.ios&&e.isContainer.value===!0),s=p(()=>{if(t.modelValue!==!0)return 0;if(d.value===!0)return a.value===!0?l.value:0;const v=l.value-e.scroll.value.position;return v>0?v:0}),r=p(()=>t.modelValue!==!0||d.value===!0&&a.value!==!0),h=p(()=>t.modelValue===!0&&r.value===!0&&t.reveal===!0),g=p(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(r.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),w=p(()=>{const v=e.rows.value.top,y={};return v[0]==="l"&&e.left.space===!0&&(y[o.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),v[2]==="r"&&e.right.space===!0&&(y[o.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),y});function u(v,y){e.update("header",v,y)}function f(v,y){v.value!==y&&(v.value=y)}function x({height:v}){f(l,v),u("size",v)}function E(v){h.value===!0&&f(a,!0),i("focusin",v)}C(()=>t.modelValue,v=>{u("space",v),f(a,!0),e.animate()}),C(s,v=>{u("offset",v)}),C(()=>t.reveal,v=>{v===!1&&f(a,t.modelValue)}),C(a,v=>{e.animate(),i("reveal",v)}),C(e.scroll,v=>{t.reveal===!0&&f(a,v.direction==="up"||v.position<=t.revealOffset||v.position-v.inflectionPoint<100)});const P={};return e.instances.header=P,t.modelValue===!0&&u("size",l.value),u("space",t.modelValue),u("offset",s.value),M(()=>{e.instances.header===P&&(e.instances.header=void 0,u("size",0),u("offset",0),u("space",!1))}),()=>{const v=lt(n.default,[]);return t.elevated===!0&&v.push(z("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v.push(z(Y,{debounce:0,onResize:x})),z("header",{class:g.value,style:w.value,onFocusin:E},v)}}}),Bt=_({name:"QPageContainer",setup(t,{slots:n}){const{proxy:{$q:i}}=k(),o=re(U,$);if(o===$)return console.error("QPageContainer needs to be child of QLayout"),$;Le(at,!0);const e=p(()=>{const l={};return o.header.space===!0&&(l.paddingTop=`${o.header.size}px`),o.right.space===!0&&(l[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(l.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(l[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),l});return()=>z("div",{class:"q-page-container",style:e.value},G(n.default))}}),{passive:ze}=V,zt=["both","horizontal","vertical"],Et=_({name:"QScrollObserver",props:{axis:{type:String,validator:t=>zt.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(t,{emit:n}){const i={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,e,l;C(()=>t.scrollTarget,()=>{s(),d()});function a(){o!==null&&o();const g=Math.max(0,rt(e)),w=ut(e),u={top:g-i.position.top,left:w-i.position.left};if(t.axis==="vertical"&&u.top===0||t.axis==="horizontal"&&u.left===0)return;const f=Math.abs(u.top)>=Math.abs(u.left)?u.top<0?"up":"down":u.left<0?"left":"right";i.position={top:g,left:w},i.directionChanged=i.direction!==f,i.delta=u,i.directionChanged===!0&&(i.direction=f,i.inflectionPoint=i.position),n("scroll",{...i})}function d(){e=He(l,t.scrollTarget),e.addEventListener("scroll",r,ze),r(!0)}function s(){e!==void 0&&(e.removeEventListener("scroll",r,ze),e=void 0)}function r(g){if(g===!0||t.debounce===0||t.debounce==="0")a();else if(o===null){const[w,u]=t.debounce?[setTimeout(a,t.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];o=()=>{u(w),o=null}}}const{proxy:h}=k();return C(()=>h.$q.lang.rtl,a),N(()=>{l=h.$el.parentNode,d()}),M(()=>{o!==null&&o(),s()}),Object.assign(h,{trigger:r,getPosition:()=>i}),ae}}),Qt=_({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:n,emit:i}){const{proxy:{$q:o}}=k(),e=S(null),l=S(o.screen.height),a=S(t.container===!0?0:o.screen.width),d=S({position:0,direction:"down",inflectionPoint:0}),s=S(0),r=S(Se.value===!0?0:D()),h=p(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),g=p(()=>t.container===!1?{minHeight:o.screen.height+"px"}:null),w=p(()=>r.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${r.value}px`}:null),u=p(()=>r.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${r.value}px`,width:`calc(100% + ${r.value}px)`}:null);function f(m){if(t.container===!0||document.qScrollPrevented!==!0){const c={position:m.position.top,direction:m.direction,directionChanged:m.directionChanged,inflectionPoint:m.inflectionPoint.top,delta:m.delta.top};d.value=c,t.onScroll!==void 0&&i("scroll",c)}}function x(m){const{height:c,width:b}=m;let T=!1;l.value!==c&&(T=!0,l.value=c,t.onScrollHeight!==void 0&&i("scrollHeight",c),P()),a.value!==b&&(T=!0,a.value=b),T===!0&&t.onResize!==void 0&&i("resize",m)}function E({height:m}){s.value!==m&&(s.value=m,P())}function P(){if(t.container===!0){const m=l.value>s.value?D():0;r.value!==m&&(r.value=m)}}let v=null;const y={instances:{},view:p(()=>t.view),isContainer:p(()=>t.container),rootRef:e,height:l,containerHeight:s,scrollbarWidth:r,totalWidth:p(()=>a.value+r.value),rows:p(()=>{const m=t.view.toLowerCase().split(" ");return{top:m[0].split(""),middle:m[1].split(""),bottom:m[2].split("")}}),header:F({size:0,offset:0,space:!1}),right:F({size:300,offset:0,space:!1}),footer:F({size:0,offset:0,space:!1}),left:F({size:300,offset:0,space:!1}),scroll:d,animate(){v!==null?clearTimeout(v):document.body.classList.add("q-body--layout-animate"),v=setTimeout(()=>{v=null,document.body.classList.remove("q-body--layout-animate")},155)},update(m,c,b){y[m][c]=b}};if(Le(U,y),D()>0){let m=function(){T=null,H.classList.remove("hide-scrollbar")},c=function(){if(T===null){if(H.scrollHeight>o.screen.height)return;H.classList.add("hide-scrollbar")}else clearTimeout(T);T=setTimeout(m,300)},b=function(L){T!==null&&L==="remove"&&(clearTimeout(T),m()),window[`${L}EventListener`]("resize",c)},T=null;const H=document.body;C(()=>t.container!==!0?"add":"remove",b),t.container!==!0&&b("add"),st(()=>{b("remove")})}return()=>{const m=qe(n.default,[z(Et,{onScroll:f}),z(Y,{onResize:x})]),c=z("div",{class:h.value,style:g.value,ref:t.container===!0?void 0:e,tabindex:-1},m);return t.container===!0?z("div",{class:"q-layout-container overflow-hidden",ref:e},[z(Y,{onResize:E}),z("div",{class:"absolute-full",style:w.value},[z("div",{class:"scroll",style:u.value},[c])])]):c}}});export{Pt as Q,Ht as T,$t as _,Mt as a,Lt as b,Qt as c,Wt as d,_t as e,kt as f,Bt as g,Y as h,Et as i};
