import{o as r,c as w,f as u,g as we,i as Me,aj as Ie,k as Te,l as Le,ak as Be,q as y,C as We,B as W,Q as S,al as Ee,ai as xe,am as Qe,d as I,J as x,K as i,a as s,an as se,a6 as M,ao as k,ap as R,N as $,_ as L,r as T,M as C,P as X,aq as ee,ar as Re,w as V,y as me,as as Ae,x as Ne,O as Z,A as F,at as he,a8 as Ve,e as Q,L as ke,au as Oe,av as Fe,D as je,aw as De,ax as Pe,ay as Ue,az as Ze,a2 as Ke,a7 as fe}from"./index-oBr2AOUr.js";import{u as Ye}from"./vue-i18n.runtime-HokvM5mf.js";import{Q as ze,a as Ge,g as Je,b as Xe}from"./imageService-BivU1iga.js";import{u as ie,c as et}from"./index-D4Kk9HWi.js";import{c as $e,d as tt,e as nt,a as ot,C as at,_ as st,b as it,f as lt,Q as rt}from"./QLayout-BZCPPje_.js";import{b as E,a as te,Q as Ce}from"./QList-BFtNd-Q9.js";import{u as ct}from"./vue-maplibre-gl.es-wfaJEZ9Z.js";import{Q as ut,b as dt}from"./huts-store-B4f6tGah.js";import{Q as _t}from"./QPage-DjxiADi0.js";import"./QScrollObserver-BpMgiYN5.js";import"./use-hydration-BE3FEJVH.js";import"./_commonjsHelpers-C4iS2aBk.js";const pt={viewBox:"0 0 448 512",width:"1.2em",height:"1.2em"},mt=u("path",{fill:"currentColor",d:"M208 0h124.1C344.8 0 357 5.1 366 14.1L433.9 82c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48M48 128h80v64H64v256h192v-32h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48"},null,-1),ht=[mt];function ft(e,t){return r(),w("svg",pt,[...ht])}const vt={name:"fa6-solid-copy",render:ft},gt={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},yt=u("path",{fill:"currentColor",d:"M256 0c17.7 0 32 14.3 32 32v34.7c80.4 13.4 143.9 76.9 157.3 157.3H480c17.7 0 32 14.3 32 32s-14.3 32-32 32h-34.7c-13.4 80.4-76.9 143.9-157.3 157.3V480c0 17.7-14.3 32-32 32s-32-14.3-32-32v-34.7C143.6 431.9 80.1 368.4 66.7 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h34.7C80.1 143.6 143.6 80.1 224 66.7V32c0-17.7 14.3-32 32-32M128 256a128 128 0 1 0 256 0a128 128 0 1 0-256 0m128-80a80 80 0 1 1 0 160a80 80 0 1 1 0-160"},null,-1),bt=[yt];function wt(e,t){return r(),w("svg",gt,[...bt])}const xt={name:"fa6-solid-location-crosshairs",render:wt},kt={xs:8,sm:10,md:14,lg:20,xl:24},le=we({name:"QChip",props:{...Me,...Ie,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=Te(),o=Le(e,a),c=Be(e,kt),l=y(()=>e.selected===!0||e.icon!==void 0),z=y(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),b=y(()=>e.iconRemove||a.iconSet.chip.remove),v=y(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),p=y(()=>{const d=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(d?` text-${d} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(v.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),h=y(()=>{const d=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},H={...d,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:d,remove:H}});function _(d){d.keyCode===13&&f(d)}function f(d){e.disable||(n("update:selected",!e.selected),n("click",d))}function m(d){(d.keyCode===void 0||d.keyCode===13)&&(Qe(d),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function q(){const d=[];v.value===!0&&d.push(W("div",{class:"q-focus-helper"})),l.value===!0&&d.push(W(S,{class:"q-chip__icon q-chip__icon--left",name:z.value}));const H=e.label!==void 0?[W("div",{class:"ellipsis"},[e.label])]:void 0;return d.push(W("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ee(t.default,H))),e.iconRight&&d.push(W(S,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&d.push(W(S,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:b.value,...h.value.remove,onClick:m,onKeyup:m})),d}return()=>{if(e.modelValue===!1)return;const d={class:p.value,style:c.value};return v.value===!0&&Object.assign(d,h.value.chip,{onClick:f,onKeyup:_}),We("div",d,q(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[xe,e.ripple]])}}}),zt={class:"text-primary-900"},$t=I({__name:"WdHutTypeNameChip",props:{type:{},name:{},color:{default:"white"},color2:{}},setup(e){const t=e,n=y(()=>t.color2?t.color2:"white");return(a,o)=>a.type&&a.type.name?(r(),x(le,{key:0,size:"md",class:M("bg-"+n.value+" q-mr-none"),style:{"min-width":"40px","max-width":"200px","max-height":"30px"}},{default:i(()=>[s(se,{class:M("bg-"+a.color),"text-color":"white"},{default:i(()=>[s(S,{size:"24px",name:"img:"+(a.$q.platform.is.mobile?a.type.symbol:a.type.symbol_simple)},null,8,["name"])]),_:1},8,["class"]),u("span",zt,k(a.name),1),R(a.$slots,"default")]),_:3},8,["class"])):$("",!0)}}),Ct=L($t,[["__file","WdHutTypeNameChip.vue"]]),ne=["01","02","03","04","05","06","07","08","09","10","11","12"];function qt(){const{t:e}=Ye(),t=T({"01":e("jan"),"02":e("feb"),"03":e("mar"),"04":e("apr"),"05":e("may"),"06":e("jun"),"07":e("jul"),"08":e("aug"),"09":e("sep"),10:e("oct"),11:e("nov"),12:e("dec")});function n(a){return t.value[a]}return{monthList:ne,monthNames:t,getMonthName:n}}const Ht={yes:{main0:"open"},no:{main0:"closed"},maybe:{main0:"open",main1:"closed"},unknown:{main0:"unknown"}},St={yes:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"open",main1:"closed"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},no:{maybe:{yes:{main0:"closed",main1:"open"},no:{main0:"closed",minor:"open"},maybe:{main0:"closed",minor:"open"},unknown:{main0:"closed",minor:"open"}}},maybe:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},unknown:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}}},Mt={class:"q-ma-xs row items-center justify-center no-wrap"},It=I({__name:"WdMonthly",props:{month:{},icons:{}},setup(e){const{getMonthName:t}=qt(),n=e,a=y(()=>t(n.month));return(o,c)=>(r(),w("div",{class:M(["card column items-center overflow-hidden q-mb-xs","month_"+o.month+"--gradient-light"])},[u("div",{class:M(["text-caption header text-center row justify-center","month_"+o.month+"--gradient"])},k(a.value),3),u("div",Mt,[s(S,{size:"24px",name:o.icons.main0},null,8,["name"]),o.icons.main1?(r(),x(S,{key:0,size:"24px",name:o.icons.main1},null,8,["name"])):$("",!0),o.icons.minor?(r(),x(S,{key:1,size:"20px",name:o.icons.minor,style:{transform:"translate(-2px, 7px)"}},null,8,["name"])):$("",!0)])],2))}}),Tt=L(It,[["__scopeId","data-v-f695df66"],["__file","WdMonthly.vue"]]),Lt={key:0},Bt={class:"text-subtitle1 text-accent q-mb-sm"},Wt={key:0,class:"row monthly overflow-hidden"},Et={style:{height:"50px",width:"700px"}},Qt={class:"row monthly overflow-hidden"},Rt={class:"justify-center row q-my-sm"},At=I({__name:"WdHutOpenMonthly",props:{open_monthly:{},type_open:{},type_closed:{}},setup(e){const t=ie(),n=e,a=y(()=>t.platform.is.mobile);function o(p){let h;if(n.open_monthly)h=n.open_monthly["month_"+p];else return"unknown";return h===void 0?"unknown":h}function c(p){const h=parseInt(p),_=(h>=0?h-1:11).toString().padStart(2,"0"),f=(h>=11?0:h+1).toString().padStart(2,"0"),m=o(p),q=o(_),d=o(f);let H;return m=="maybe"?H=St[q][m][d]:H=Ht[m],{main0:l(H.main0)===void 0?v():l(H.main0),main1:l(H.main1),minor:l(H.minor)}}function l(p){return p=="open"?b():p=="closed"?z():p=="unknown"?v():void 0}function z(){return a.value?n.type_closed?"img:"+n.type_closed.symbol:v():n.type_closed?"img:"+n.type_closed.symbol_simple:v()}function b(){return a.value?"img:"+n.type_open?.symbol:"img:"+n.type_open?.symbol_simple}function v(){return a.value?"img:https://api.wodore.com/media/huts/types/symbols/detailed/unknown.png":"img:https://api.wodore.com/media/huts/types/symbols/simple/unknown.png"}return(p,h)=>{const _=Tt,f=Ct;return n.open_monthly?(r(),w("div",Lt,[u("div",Bt,k(p.$t("hut_type")),1),C(t).platform.is.mobile?$("",!0):(r(),w("div",Wt,[(r(!0),w(X,null,ee(C(ne),m=>(r(),w("div",{key:m,class:"col-md-2 col-sm-1 col-2"},[s(_,{icons:c(m),month:m},null,8,["icons","month"])]))),128))])),C(t).platform.is.mobile?(r(),x(ze,{key:1,style:{height:"55px"},class:"monthly overflow-hidden","horizontal-thumb-style":{height:"3px"}},{default:i(()=>[u("div",Et,[u("div",Qt,[(r(!0),w(X,null,ee(C(ne),m=>(r(),w("div",{key:m,class:"col-1"},[s(_,{icons:c(m),month:m},null,8,["icons","month"])]))),128))])])]),_:1})):$("",!0),u("div",Rt,[p.type_open?(r(),x(f,{key:0,class:"col-shrink",type:p.type_open,name:p.type_open.name,color:"green-4",color2:"green-2"},null,8,["type","name"])):$("",!0),p.type_closed?(r(),x(f,{key:1,class:"col-shrink",type:p.type_closed,name:p.type_closed.name,color:"brown-3",color2:"brown-2"},null,8,["type","name"])):$("",!0)])])):$("",!0)}}}),Nt=L(At,[["__scopeId","data-v-055153b8"],["__file","WdHutOpenMonthly.vue"]]);var G=null;function Vt(e){return G||(G=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),G(e)}var J=null;function Ot(e){J||(J=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),J(e)}function Ft(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function D(e,t){t===void 0&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(a){n[a]=t[a]}),n}function qe(e,t,n){var a=window.getComputedStyle(e,null)||{display:"none"};return a[t]}function oe(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(qe(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var jt='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',ae=0,P=null;function Dt(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=Zt.bind(e));var n=e.__resize_listeners__;if(!n){if(e.__resize_listeners__=[],window.ResizeObserver){var a=e.offsetWidth,o=e.offsetHeight,c=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===a&&e.offsetHeight===o)||U(e)}),l=oe(e),z=l.detached,b=l.rendered;e.__resize_observer_triggered__=z===!1&&b===!1,e.__resize_observer__=c,c.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){U(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(ae||(P=Ft(jt)),Kt(e),e.__resize_rendered__=oe(e).rendered,window.MutationObserver){var v=new MutationObserver(e.__resize_mutation_handler__);v.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=v}}e.__resize_listeners__.push(t),ae++}function Pt(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",re),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--ae&&P&&P.parentNode.removeChild(P)}}function Ut(e){var t=e.__resize_last__,n=t.width,a=t.height,o=e.offsetWidth,c=e.offsetHeight;return o!==n||c!==a?{width:o,height:c}:null}function Zt(){var e=oe(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(ce(this),this.addEventListener("scroll",re,!0)),this.__resize_rendered__=t,U(this))}function re(){var e=this;ce(this),this.__resize_raf__&&Ot(this.__resize_raf__),this.__resize_raf__=Vt(function(){var t=Ut(e);t&&(e.__resize_last__=t,U(e))})}function U(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function Kt(e){var t=qe(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var n=D("div",{className:"resize-triggers"}),a=D("div",{className:"resize-expand-trigger"}),o=D("div"),c=D("div",{className:"resize-contract-trigger"});a.appendChild(o),n.appendChild(a),n.appendChild(c),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:a,expandChild:o,contract:c},ce(e),e.addEventListener("scroll",re,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function ce(e){var t=e.__resize_triggers__,n=t.expand,a=t.expandChild,o=t.contract,c=o.scrollWidth,l=o.scrollHeight,z=n.offsetWidth,b=n.offsetHeight,v=n.scrollWidth,p=n.scrollHeight;o.scrollLeft=c,o.scrollTop=l,a.style.width=z+1+"px",a.style.height=b+1+"px",n.scrollLeft=v,n.scrollTop=p}const Yt=["aria-label"];var He=I({__name:"text-clamp",props:{text:{type:String,required:!0},maxHeight:{type:[String,Number],required:!1},maxLines:{type:Number,required:!1},expanded:{type:Boolean,required:!1,default:!1},location:{type:String,required:!1,default:"end"},ellipsis:{type:String,required:!1,default:"â€¦"},autoResize:{type:Boolean,required:!1,default:!1}},emits:["clamp-change","update:expanded"],setup(e,{emit:t}){const n=e,a=T(null),o=T(null),c=T(null),l=Re({offset:0,localExpanded:!!n.expanded,unregisterResizeCallback:null}),z=y(()=>{if(!l.localExpanded&&n.maxHeight)return typeof n?.maxHeight=="number"?`${n?.maxHeight}px`:n?.maxHeight}),b=()=>{c.value&&(c.value.textContent=Y.value)},v=()=>{l.localExpanded||(b(),(_()||B.value)&&m())},p=()=>{n.text&&(l.offset=n.text.length,h(),n.autoResize&&a.value&&(Dt(a.value,v),l.unregisterResizeCallback=()=>{a.value&&Pt(a.value,v)}),v())},h=()=>{l.unregisterResizeCallback?.()},_=()=>!(!n.maxLines&&!n.maxHeight)&&!!a.value&&(!!(n.maxLines&&f()>n.maxLines)||!!(n.maxHeight&&a.value.scrollHeight>a.value.offsetHeight)),f=()=>o.value?Object.keys(Array.prototype.slice.call(o.value.getClientRects()).reduce((g,{top:A,bottom:O})=>{const N=`${A}/${O}`;return g[N]||(g[N]=!0),g},{})).length:0,m=(...g)=>{const[A=0,O=l.offset]=g;if(O-A<=3)return void d();const N=Math.floor((O+A)/2);q(N),_()?m(A,N):m(N,O)},q=g=>{l.offset=g,b()},d=()=>{H(),K()},H=()=>{for(;(!_()||f()<2)&&l.offset<n.text.length;)j(1)},K=()=>{for(;_()&&f()>1&&l.offset>0;)j(-1)},j=g=>{q(l.offset+g)},B=y(()=>!!n.text&&l.offset!==n.text.length);V(()=>B.value,g=>{setTimeout(()=>{t("clamp-change",g)},0)},{immediate:!0});const Y=y(()=>B.value?ue.value:n.text),ue=y(()=>{if(n.location==="start")return n.ellipsis+(n.text.slice(-l.offset)||"").trim();if(n.location==="middle"){const g=Math.floor(l.offset/2);return(n.text.slice(0,g)||"").trim()+n.ellipsis+(n.text.slice(-g)||"").trim()}return(n.text.slice(0,l.offset)||"").trim()+n.ellipsis}),de=()=>{l.localExpanded=!0},_e=()=>{l.localExpanded=!1},pe=()=>{l.localExpanded=!l.localExpanded};return V(()=>n.expanded,g=>{l.localExpanded=g}),V(()=>l.localExpanded,g=>{g?q(n.text.length):v(),n.expanded!==g&&t("update:expanded",g)}),V(()=>[n.maxLines,n.maxHeight,n.ellipsis,n.location,B.value].join(),()=>{me(()=>{v()})}),V(()=>[n.text,n.autoResize].join(),()=>{me(()=>{p()})}),Ae(()=>{h()}),Ne(()=>{p()}),(g,A)=>(r(),w("div",{ref_key:"textClampRef",ref:a,class:"text-clamp",style:Z({overflow:"hidden",maxHeight:C(z)})},[u("span",{ref_key:"contentRef",ref:o},[R(g.$slots,"before",{expand:de,collapse:_e,toggle:pe,clamped:C(B),expanded:l.localExpanded}),u("span",{ref_key:"textRef",ref:c,"aria-label":e.text},null,8,Yt),R(g.$slots,"after",{expand:de,collapse:_e,toggle:pe,clamped:C(B),expanded:l.localExpanded})],512)],4))}});He.__file="package/text-clamp.vue";const Gt=e=>(e.install=function(t){t.component(e.__name,e)},e),Jt=Gt(He),Xt=["onClick"],en=["onClick"],tn=I({__name:"WdTextClamp",setup(e){return(t,n)=>(r(),x(C(Jt),null,{after:i(({toggle:a,expanded:o,clamped:c})=>[F(u("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},k(t.$t("more")),9,Xt),[[he,c]]),F(u("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},k(t.$t("less")),9,en),[[he,o]])]),_:1}))}}),nn=L(tn,[["__file","WdTextClamp.vue"]]),on={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},an=u("g",{fill:"none","fill-rule":"evenodd"},[u("path",{d:"M24 0v24H0V0zM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),u("path",{fill:"currentColor",d:"M8.701 5.75c.577-1 2.02-1 2.598 0l3.5 6.062l.902-1.562c.577-1 2.02-1 2.598 0l4.33 7.5A1.5 1.5 0 0 1 21.33 20H17v-.002a1.555 1.555 0 0 1-.072.002H3.072a1.5 1.5 0 0 1-1.3-2.25zm-.91 5.576l.709.472l.945-.63a1 1 0 0 1 1.11 0l.945.63l.709-.472L10 7.5z"})],-1),sn=[an];function ln(e,t){return r(),w("svg",on,[...sn])}const rn={name:"mingcute-mountain2-fill",render:ln},cn=I({__name:"QIconify",props:{is:{}},setup(e){return(t,n)=>(r(),x(S,null,{default:i(()=>[(r(),x(Ve(t.is)))]),_:1}))}}),un=L(cn,[["__file","QIconify.vue"]]),dn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_n=u("path",{fill:"currentColor",d:"M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39l8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33Z"},null,-1),pn=[_n];function mn(e,t){return r(),w("svg",dn,[...pn])}const hn={name:"eva-checkmark-fill",render:mn},fn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},vn=u("path",{fill:"currentColor",d:"M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0a3 3 0 1 1 3 3a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9"},null,-1),gn=u("circle",{cx:"12",cy:"19",r:"1",fill:"currentColor"},null,-1),yn=[vn,gn];function bn(e,t){return r(),w("svg",fn,[...yn])}const ve={name:"eva-question-mark-fill",render:bn},wn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xn=u("path",{fill:"currentColor",d:"m13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29l-4.3 4.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l4.29-4.3l4.29 4.3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42Z"},null,-1),kn=[xn];function zn(e,t){return r(),w("svg",wn,[...kn])}const $n={name:"eva-close-fill",render:zn},Cn={class:"text-accent-900",style:{"font-weight":"500",width:"28px"}},qn=I({__name:"WdHutTypeChip",props:{type:{},capacity:{},color:{default:"white"},color2:{},open:{default:void 0}},setup(e){const t=e,n=y(()=>{switch(t.open){case"yes":return hn;case"no":return $n;case"maybe":return ve}return ve}),a=y(()=>t.color2?t.color2:"white"),o=y(()=>{switch(t.open){case"yes":return"green-6";case"no":return"red-4";case"maybe":return"green-6"}return"grey-6"});return(c,l)=>{const z=un;return c.type&&c.type.name?(r(),x(le,{key:0,size:"md",class:M("bg-"+a.value+" q-mr-none"),style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:i(()=>[s(se,{class:M("bg-"+c.color),"text-color":"white"},{default:i(()=>[s(S,{size:"24px",name:"img:"+(c.$q.platform.is.mobile?c.type.symbol:c.type.symbol_simple)},null,8,["name"])]),_:1},8,["class"]),u("span",Cn,k(c.capacity),1),s(z,{class:M("bg-"+o.value+" badge"),color:"white",size:"14px",is:n.value},null,8,["class","is"]),R(c.$slots,"default",{},void 0,!0)]),_:3},8,["class"])):$("",!0)}}}),Hn=L(qn,[["__scopeId","data-v-89cad179"],["__file","WdHutTypeChip.vue"]]),Sn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Mn=u("path",{fill:"currentColor",d:"M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1"},null,-1),In=u("path",{fill:"currentColor",d:"M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2"},null,-1),Tn=[Mn,In];function Ln(e,t){return r(),w("svg",Sn,[...Tn])}const Bn={name:"eva-external-link-fill",render:Ln},Wn=["href"],En={key:1},Qn=I({__name:"WdHutHeader",props:{hut:{},ontop:{type:Boolean}},setup(e){return(t,n)=>{const a=Bn;return r(),x(nt,{class:M(["no-background",{"shadow-3":t.ontop}]),style:{transition:"box-shadow 0.2s ease","background-color":"unset"}},{default:i(()=>[R(t.$slots,"default"),t.hut?(r(),x($e,{key:0,class:""},{default:i(()=>[s(tt,{style:{"text-wrap":"wrap",transform:"translateY(4px)","margin-left":"3px","background-color":"unset"},class:"text-primary-900"},{default:i(()=>[u("h1",{class:M(["text-h5 q-ma-none q-mt-xs",[t.$q.screen.xs||t.$q.platform.is.mobile?"text-h6":"text-h5"]])},[t.hut.url?(r(),w("a",{key:0,href:t.hut.url,targe:"_blank"},[Q(k(t.hut.name)+" ",1),s(S,{size:"11pt",style:{transform:"translateY(-6px)"}},{default:i(()=>[s(a)]),_:1})],8,Wn)):(r(),w("span",En,k(t.hut.name),1))],2)]),_:1})]),_:1})):$("",!0)]),_:3},8,["class"])}}}),Rn=L(Qn,[["__file","WdHutHeader.vue"]]),An=I({__name:"WdToolbarExtraButton",props:{icon:{},iconColor:{default:"primary-800"},disabled:{type:Boolean,default:!1}},setup(e){return(t,n)=>F((r(),x(te,{clickable:!t.disabled,style:Z(t.disabled?"opacity : 0.5;":"")},{default:i(()=>[s(E,{avatar:"",style:{"min-width":"34px","padding-right":"0"}},{default:i(()=>[s(S,{color:t.iconColor,name:t.icon},null,8,["color","name"])]),_:1}),s(E,null,{default:i(()=>[R(t.$slots,"default")]),_:3})]),_:3},8,["clickable","style"])),[[xe]])}}),Nn=L(An,[["__file","WdToolbarExtraButton.vue"]]),Vn=I({__name:"WdHutToolbar",props:{hut:{}},setup(e){const t=ie(),n=ct(),a=e,o=T(!1);function c(){o.value=!o.value}const l=T(!1);function z(){l.value=!l.value}function b(){if(n.map!==void 0&&a.hut!==void 0){const _=a.hut.location;if(_!=null){const f=n.map.getZoom();n.map.flyTo({center:[_.lon,_.lat],zoom:f>12?f:12,padding:{right:t.screen.xs?0:400,bottom:t.screen.xs?300:0}})}}}function v(_,f,m,q,d=.004){return _+d>=f&&_-d<=f&&m+d>=q&&m-d<=q}const p=T(!1),h=T(!0);return V(p,()=>{if(h.value=!0,n.map!==void 0&&a.hut!==void 0){const _=a.hut.location;if(_!=null){const f=n.map.getCenter(),m=n.map.getZoom();h.value=v(_.lat,f.lat,_.lon,f.lng,.005/Math.sqrt(m))}}}),(_,f)=>{const m=st,q=Nn;return r(),x($e,null,{default:i(()=>[R(_.$slots,"default"),s(Ge),s(m,{size:"md",color:o.value?"accent":"primary-900",icon:o.value?"wd-eye":"wd-eye-outline",onClick:c},null,8,["color","icon"]),s(m,{size:"md",class:"text-primary-900",icon:"wd-more-vertical"},{default:i(()=>[s(ot,{class:"bg-primary-100",modelValue:p.value,"onUpdate:modelValue":f[0]||(f[0]=d=>p.value=d)},{default:i(()=>[s(Ce,{style:{"min-width":"100px"}},{default:i(()=>[s(q,{onClick:z,icon:l.value?"wd-favorite":"wd-favorite-outline","icon-color":l.value?"accent":"primary-800"},{default:i(()=>[Q(k(_.$t("favorite")),1)]),_:1},8,["icon","icon-color"]),C(n).map&&_.hut?.location?F((r(),x(q,{key:0,icon:"wd-location-question",onClick:b,disabled:h.value},{default:i(()=>[Q(k(_.$t("show_map")),1)]),_:1},8,["disabled"])),[[at]]):$("",!0),s(q,{icon:"wd-edit-outline",href:_.hut?.edit_link,target:"_blank"},{default:i(()=>[Q(k(_.$t("edit")),1)]),_:1},8,["href"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3})}}}),On=L(Vn,[["__file","WdHutToolbar.vue"]]),Fn=e=>(Oe("data-v-a1738a30"),e=e(),Fe(),e),jn=["src"],Dn=Fn(()=>u("br",null,null,-1)),Pn={class:"text-bold text-subtitle1"},Un=I({__name:"WdSourceButtons",props:{hut:{},round:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},background:{type:Boolean,default:!1},padding:{default:"xs"},color:{},target:{default:"_blank"}},setup(e){const t=e;return(n,a)=>n.hut?(r(),w("div",{key:0,class:M(["justify-start row",{content:n.background}])},[(r(!0),w(X,null,ee(t.hut?.sources,o=>(r(),w("div",{key:o.name,class:"col"},[s(ke,{href:o.link,target:t.target,flat:t.flat,padding:t.padding,round:t.round,color:t.color},{default:i(()=>[u("img",{style:Z({height:(n.$q.platform.is.mobile,"24px")}),src:o.logo},null,12,jn),s(ut,{"hide-delay":150,delay:150},{default:i(()=>[u("span",null,k(o.fullname),1),Dn,u("span",Pn,k(o.slug),1)]),_:2},1024)]),_:2},1032,["href","target","flat","padding","round","color"])]))),128))],2)):$("",!0)}}),Zn=L(Un,[["__scopeId","data-v-a1738a30"],["__file","WdSourceButtons.vue"]]),ge=we({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=y(()=>parseInt(e.lines,10)),a=y(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=y(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>W("div",{style:o.value,class:a.value},je(t.default))}}),ye={threshold:0,root:null,rootMargin:"0px"};function be(e,t,n){let a,o,c;typeof n=="function"?(a=n,o=ye,c=t.cfg===void 0):(a=n.handler,o=Object.assign({},ye,n.cfg),c=t.cfg===void 0||Pe(t.cfg,o)===!1),t.handler!==a&&(t.handler=a),c===!0&&(t.cfg=o,t.observer!==void 0&&t.observer.unobserve(e),t.observer=new IntersectionObserver(([l])=>{if(typeof t.handler=="function"){if(l.rootBounds===null&&document.body.contains(e)===!0){t.observer.unobserve(e),t.observer.observe(e);return}(t.handler(l,t.observer)===!1||t.once===!0&&l.isIntersecting===!0)&&Se(e)}},o),t.observer.observe(e))}function Se(e){const t=e.__qvisible;t!==void 0&&(t.observer!==void 0&&t.observer.unobserve(e),delete e.__qvisible)}const Kn=De({name:"intersection",mounted(e,{modifiers:t,value:n}){const a={once:t.once===!0};be(e,a,n),e.__qvisible=a},updated(e,t){const n=e.__qvisible;n!==void 0&&be(e,n,t.value)},beforeUnmount:Se});function Yn(e){const t=document.createElement("textarea");t.value=e,t.contentEditable="true",t.style.position="fixed";const n=()=>{};Ue(n),document.body.appendChild(t),t.focus(),t.select();const a=document.execCommand("copy");return t.remove(),Ze(n),a}function Gn(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((t,n)=>{const a=Yn(e);a?t(!0):n(a)})}const Jn={class:"row items-start q-gutter-sm"},Xn={key:0,class:"col-md-12 col-sm-7 col-7"},eo={class:"absolute-bottom-right row attribution"},to=["innerHTML"],no={class:"text-primary-500",style:{"font-weight":"500",width:"28px"}},oo={class:"text-body2 q-my-lg"},ao=["innerHTML"],so={class:"text-subtitle1 text-accent"},io=I({__name:"WdHutView",props:{slug:{}},setup(e){const{selectedMonth:t}=Ke(dt()),n=ie(),a=e,o=T(void 0),c=y(()=>{const h=t.value;if(o.value?.open_monthly===void 0||o.value?.open_monthly==null)return"unknown";const _=o.value?.open_monthly[`month_${h}`];return _===void 0?"unknown":_}),l=y(()=>{switch(c.value){case"yes":return"no";case"no":return"yes"}return c.value}),z=T(!1);fe(()=>{o.value=void 0,z.value=!1,a.slug&&et.GET("/v1/huts/{slug}",{params:{path:{slug:a.slug}}}).then(({data:h})=>{h&&(o.value=h)})});const b=T(void 0),v=y(()=>n.screen.gt.sm);fe(()=>{o.value?.photos?b.value=Je(o.value?.photos,{size:"600x400",smart:!0,fit:!0}):b.value=void 0});const p=h=>(z.value=!h.isIntersecting,!0);return(h,_)=>{const f=Zn,m=On,q=Rn,d=Hn,H=rn,K=nn,j=Nt,B=xt,Y=vt;return r(),x(it,{view:"lhh LpR lff",container:"",class:M(["no-background fit",C(n).dark.isActive?"bg-grey-9":"bg-grey-3"]),style:{height:"100%"}},{default:i(()=>[s(q,{hut:o.value,ontop:z.value},{default:i(()=>[v.value?(r(),x(m,{key:0,hut:o.value},{default:i(()=>[s(f,{hut:o.value,class:"q-ml-xl"},null,8,["hut"])]),_:1},8,["hut"])):$("",!0)]),_:1},8,["hut","ontop"]),s(lt,{class:"fit",style:{height:"100%"}},{default:i(()=>[s(ze,{visible:"","thumb-style":{width:"6px",backgroundColor:"#998019",opacity:"0.5",borderRadius:"8px 0 0 8px"},style:{height:"100%"},class:"fit"},{default:i(()=>[o.value?(r(),x(_t,{key:0,style:{height:"100%"},class:"q-px-md fit"},{default:i(()=>[u("h2",{style:Z((C(n).screen.gt.sm?"margin-top: -3px; ":"")+"text-wrap: wrap;"),class:"text-subtitle1 text-accent-900 q-ma-none q-mb-sm"},[F(u("span",null,null,512),[[Kn,p]]),Q(" "+k(o.value.owner?.name),1)],4),u("div",Jn,[b.value?(r(),w("div",Xn,[u("div",{class:M({"q-ma-sm":C(n).screen.gt.sm,"q-ma-lg":C(n).screen.gt.md})},[s(Xe,{src:b.value,class:M(["hut-image",{"shadow-8":C(n).screen.gt.sm}])},{default:i(()=>[u("div",eo,[s(S,{class:"q-mr-sm",name:"eva-camera-outline"}),u("div",{class:"img-link",innerHTML:o.value.photos_attribution},null,8,to)])]),_:1},8,["src","class"])],2)])):$("",!0),u("div",{class:M(["col-md-12",{"col-sm-4":b.value,"col-4":b.value,"col-12":!b.value}])},[u("div",{class:M(["row items-start justify-start q-gutter-sm",{"justify-center":C(n).screen.gt.sm&&b.value,"q-gutter-lg":C(n).screen.gt.sm}])},[s(d,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_open,capacity:o.value.capacity_open,open:c.value,color:"green-4",color2:"green-2"},null,8,["type","capacity","open"]),s(d,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_closed,capacity:o.value.capacity_closed,open:l.value,color:"brown-3",color2:"brown-2"},null,8,["type","capacity","open"]),s(le,{size:"md",class:"bg-grey-4 q-mr-none shadow-0 col-md-6 col-sm-12 col-12",style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:i(()=>[s(se,{class:"bg-grey-5","text-color":"primary-500"},{default:i(()=>[s(S,{size:"20px"},{default:i(()=>[s(H)]),_:1})]),_:1}),u("span",no,k(o.value.elevation)+" m",1)]),_:1})],2)],2)]),u("body",oo,[u("div",{class:"attribution attr_link text-right",style:{padding:"0"},innerHTML:o.value.description_attribution},null,8,ao),s(K,{"max-lines":5,text:o.value.description,style:{"padding-bottom":"0"}},null,8,["text"])]),s(j,{open_monthly:o.value.open_monthly,type_open:o.value.type_open,type_closed:o.value.type_closed},null,8,["open_monthly","type_open","type_closed"]),u("div",so,k(h.$t("location")),1),s(Ce,{dense:""},{default:i(()=>[o.value.location?(r(),x(te,{key:0},{default:i(()=>[s(E,{side:""},{default:i(()=>[s(S,{size:"xs"},{default:i(()=>[s(B)]),_:1})]),_:1}),s(E,null,{default:i(()=>[s(ge,null,{default:i(()=>[Q(k(o.value.location.lat.toPrecision(7))+", "+k(o.value.location.lon.toPrecision(6)),1)]),_:1})]),_:1}),s(E,{side:"",onClick:_[0]||(_[0]=ue=>C(Gn)(o.value.location.lat.toPrecision(7).toString()+", "+o.value.location.lon.toPrecision(6).toString()))},{default:i(()=>[s(ke,{flat:"",dense:"",round:"",size:"10pt"},{default:i(()=>[s(S,{size:"10pt"},{default:i(()=>[s(Y)]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0),o.value.elevation?(r(),x(te,{key:1},{default:i(()=>[s(E,{side:""},{default:i(()=>[s(S,{size:"xs"},{default:i(()=>[s(H)]),_:1})]),_:1}),s(E,null,{default:i(()=>[s(ge,null,{default:i(()=>[Q(k(o.value.elevation)+" m",1)]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1}),s(rt,{class:"footer-toolbar"},{default:i(()=>[v.value?$("",!0):(r(),x(m,{key:0,hut:o.value},{default:i(()=>[s(f,{hut:o.value},null,8,["hut"])]),_:1},8,["hut"]))]),_:1})]),_:1},8,["class"])}}}),bo=L(io,[["__scopeId","data-v-fefecb42"],["__file","WdHutView.vue"]]);export{bo as default};
