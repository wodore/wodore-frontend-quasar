import{o as u,c as x,g as d,h as P,j as le,ai as Te,l as ie,m as re,aj as We,s as g,D as Qe,C as T,Q as B,ak as Re,al as $e,am as Ce,d as E,K as k,L as i,e as s,an as ce,a7 as M,ao as z,ap as A,O as C,_ as W,r as L,N as H,R as ee,aq as te,ar as Ae,w as V,z as ye,as as Ne,y as Oe,P as Y,B as D,at as be,a9 as Ve,f as R,E as ue,au as je,av as Fe,aw as De,ax as Pe,M as Se,ay as Ke,az as Ue,aA as Ze,aB as Ye,aC as Ge,aD as Je,a3 as Xe,a8 as we}from"./index-BVd5DxoO.js";import{u as et}from"./vue-i18n.runtime-PEOJ1FD3.js";import{Q as He,a as tt,g as nt,b as ot}from"./imageService-BZLWtkSL.js";import{u as de,c as at}from"./index-jc8zmMVP.js";import{c as Be,d as st,e as lt,a as it,C as rt,_ as ct,b as ut,f as dt,Q as _t}from"./QLayout-DWrZRFAB.js";import{u as mt}from"./vue-maplibre-gl.es-Do_g5e5R.js";import{Q as ht}from"./QTooltip-C8yIYqxA.js";import{Q as pt}from"./QPage-F9OgwsZM.js";import{b as ft}from"./huts-store-B_Mee2q6.js";import"./QScrollObserver-CLSWY9nH.js";import"./use-hydration-DCYPZSiD.js";import"./_commonjsHelpers-C4iS2aBk.js";const vt={viewBox:"0 0 448 512",width:"1.2em",height:"1.2em"},gt=d("path",{fill:"currentColor",d:"M208 0h124.1C344.8 0 357 5.1 366 14.1L433.9 82c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48M48 128h80v64H64v256h192v-32h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48"},null,-1),yt=[gt];function bt(e,t){return u(),x("svg",vt,[...yt])}const wt={name:"fa6-solid-copy",render:bt},xt={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},kt=d("path",{fill:"currentColor",d:"M256 0c17.7 0 32 14.3 32 32v34.7c80.4 13.4 143.9 76.9 157.3 157.3H480c17.7 0 32 14.3 32 32s-14.3 32-32 32h-34.7c-13.4 80.4-76.9 143.9-157.3 157.3V480c0 17.7-14.3 32-32 32s-32-14.3-32-32v-34.7C143.6 431.9 80.1 368.4 66.7 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h34.7C80.1 143.6 143.6 80.1 224 66.7V32c0-17.7 14.3-32 32-32M128 256a128 128 0 1 0 256 0a128 128 0 1 0-256 0m128-80a80 80 0 1 1 0 160a80 80 0 1 1 0-160"},null,-1),qt=[kt];function zt(e,t){return u(),x("svg",xt,[...qt])}const $t={name:"fa6-solid-location-crosshairs",render:zt},Ct={xs:8,sm:10,md:14,lg:20,xl:24},_e=P({name:"QChip",props:{...le,...Te,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=ie(),o=re(e,a),r=We(e,Ct),c=g(()=>e.selected===!0||e.icon!==void 0),q=g(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),y=g(()=>e.iconRemove||a.iconSet.chip.remove),f=g(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),_=g(()=>{const m=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(m?` text-${m} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(f.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),l=g(()=>{const m=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},S={...m,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:m,remove:S}});function h(m){m.keyCode===13&&v(m)}function v(m){e.disable||(n("update:selected",!e.selected),n("click",m))}function p(m){(m.keyCode===void 0||m.keyCode===13)&&(Ce(m),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function $(){const m=[];f.value===!0&&m.push(T("div",{class:"q-focus-helper"})),c.value===!0&&m.push(T(B,{class:"q-chip__icon q-chip__icon--left",name:q.value}));const S=e.label!==void 0?[T("div",{class:"ellipsis"},[e.label])]:void 0;return m.push(T("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Re(t.default,S))),e.iconRight&&m.push(T(B,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&m.push(T(B,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:y.value,...l.value.remove,onClick:p,onKeyup:p})),m}return()=>{if(e.modelValue===!1)return;const m={class:_.value,style:r.value};return f.value===!0&&Object.assign(m,l.value.chip,{onClick:v,onKeyup:h}),Qe("div",m,$(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[$e,e.ripple]])}}}),St={class:"text-primary-900"},Ht=E({__name:"WdHutTypeNameChip",props:{type:{},name:{},color:{default:"white"},color2:{}},setup(e){const t=e,n=g(()=>t.color2?t.color2:"white");return(a,o)=>a.type&&a.type.name?(u(),k(_e,{key:0,size:"md",class:M("bg-"+n.value+" q-mr-none"),style:{"min-width":"40px","max-width":"200px","max-height":"30px"}},{default:i(()=>[s(ce,{class:M("bg-"+a.color),"text-color":"white"},{default:i(()=>[s(B,{size:"24px",name:"img:"+(a.$q.platform.is.mobile?a.type.symbol:a.type.symbol_simple)},null,8,["name"])]),_:1},8,["class"]),d("span",St,z(a.name),1),A(a.$slots,"default")]),_:3},8,["class"])):C("",!0)}}),Bt=W(Ht,[["__file","WdHutTypeNameChip.vue"]]),ne=["01","02","03","04","05","06","07","08","09","10","11","12"];function Mt(){const{t:e}=et(),t=L({"01":e("jan"),"02":e("feb"),"03":e("mar"),"04":e("apr"),"05":e("may"),"06":e("jun"),"07":e("jul"),"08":e("aug"),"09":e("sep"),10:e("oct"),11:e("nov"),12:e("dec")});function n(a){return t.value[a]}return{monthList:ne,monthNames:t,getMonthName:n}}const Lt={yes:{main0:"open"},no:{main0:"closed"},maybe:{main0:"open",main1:"closed"},unknown:{main0:"unknown"}},Et={yes:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"open",main1:"closed"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},no:{maybe:{yes:{main0:"closed",main1:"open"},no:{main0:"closed",minor:"open"},maybe:{main0:"closed",minor:"open"},unknown:{main0:"closed",minor:"open"}}},maybe:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}},unknown:{maybe:{yes:{main0:"open",minor:"closed"},no:{main0:"closed",minor:"open"},maybe:{main0:"open",minor:"closed"},unknown:{main0:"open",minor:"closed"}}}},It={class:"q-ma-xs row items-center justify-center no-wrap"},Tt=E({__name:"WdMonthly",props:{month:{},icons:{}},setup(e){const{getMonthName:t}=Mt(),n=e,a=g(()=>t(n.month));return(o,r)=>(u(),x("div",{class:M(["card column items-center overflow-hidden q-mb-xs","month_"+o.month+"--gradient-light"])},[d("div",{class:M(["text-caption header text-center row justify-center","month_"+o.month+"--gradient"])},z(a.value),3),d("div",It,[s(B,{size:"24px",name:o.icons.main0},null,8,["name"]),o.icons.main1?(u(),k(B,{key:0,size:"24px",name:o.icons.main1},null,8,["name"])):C("",!0),o.icons.minor?(u(),k(B,{key:1,size:"20px",name:o.icons.minor,style:{transform:"translate(-2px, 7px)"}},null,8,["name"])):C("",!0)])],2))}}),Wt=W(Tt,[["__scopeId","data-v-f695df66"],["__file","WdMonthly.vue"]]),Qt={key:0},Rt={class:"text-subtitle1 text-accent q-mb-sm"},At={key:0,class:"row monthly overflow-hidden"},Nt={style:{height:"50px",width:"700px"}},Ot={class:"row monthly overflow-hidden"},Vt={class:"justify-center row q-my-sm"},jt=E({__name:"WdHutOpenMonthly",props:{open_monthly:{},type_open:{},type_closed:{}},setup(e){const t=de(),n=e,a=g(()=>t.platform.is.mobile);function o(_){let l;if(n.open_monthly)l=n.open_monthly["month_"+_];else return"unknown";return l===void 0?"unknown":l}function r(_){const l=parseInt(_),h=(l>=0?l-1:11).toString().padStart(2,"0"),v=(l>=11?0:l+1).toString().padStart(2,"0"),p=o(_),$=o(h),m=o(v);let S;return p=="maybe"?S=Et[$][p][m]:S=Lt[p],{main0:c(S.main0)===void 0?f():c(S.main0),main1:c(S.main1),minor:c(S.minor)}}function c(_){return _=="open"?y():_=="closed"?q():_=="unknown"?f():void 0}function q(){return a.value?n.type_closed?"img:"+n.type_closed.symbol:f():n.type_closed?"img:"+n.type_closed.symbol_simple:f()}function y(){return a.value?"img:"+n.type_open?.symbol:"img:"+n.type_open?.symbol_simple}function f(){return a.value?"img:https://api.wodore.com/media/huts/types/symbols/detailed/unknown.png":"img:https://api.wodore.com/media/huts/types/symbols/simple/unknown.png"}return(_,l)=>{const h=Wt,v=Bt;return n.open_monthly?(u(),x("div",Qt,[d("div",Rt,z(_.$t("hut_type")),1),H(t).platform.is.mobile?C("",!0):(u(),x("div",At,[(u(!0),x(ee,null,te(H(ne),p=>(u(),x("div",{key:p,class:"col-md-2 col-sm-1 col-2"},[s(h,{icons:r(p),month:p},null,8,["icons","month"])]))),128))])),H(t).platform.is.mobile?(u(),k(He,{key:1,style:{height:"55px"},class:"monthly overflow-hidden","horizontal-thumb-style":{height:"3px"}},{default:i(()=>[d("div",Nt,[d("div",Ot,[(u(!0),x(ee,null,te(H(ne),p=>(u(),x("div",{key:p,class:"col-1"},[s(h,{icons:r(p),month:p},null,8,["icons","month"])]))),128))])])]),_:1})):C("",!0),d("div",Vt,[_.type_open?(u(),k(v,{key:0,class:"col-shrink",type:_.type_open,name:_.type_open.name,color:"green-4",color2:"green-2"},null,8,["type","name"])):C("",!0),_.type_closed?(u(),k(v,{key:1,class:"col-shrink",type:_.type_closed,name:_.type_closed.name,color:"brown-3",color2:"brown-2"},null,8,["type","name"])):C("",!0)])])):C("",!0)}}}),Ft=W(jt,[["__scopeId","data-v-055153b8"],["__file","WdHutOpenMonthly.vue"]]);var J=null;function Dt(e){return J||(J=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),J(e)}var X=null;function Pt(e){X||(X=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),X(e)}function Kt(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function K(e,t){t===void 0&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(a){n[a]=t[a]}),n}function Me(e,t,n){var a=window.getComputedStyle(e,null)||{display:"none"};return a[t]}function oe(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(Me(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var Ut='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',ae=0,U=null;function Zt(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=Jt.bind(e));var n=e.__resize_listeners__;if(!n){if(e.__resize_listeners__=[],window.ResizeObserver){var a=e.offsetWidth,o=e.offsetHeight,r=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===a&&e.offsetHeight===o)||Z(e)}),c=oe(e),q=c.detached,y=c.rendered;e.__resize_observer_triggered__=q===!1&&y===!1,e.__resize_observer__=r,r.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){Z(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(ae||(U=Kt(Ut)),Xt(e),e.__resize_rendered__=oe(e).rendered,window.MutationObserver){var f=new MutationObserver(e.__resize_mutation_handler__);f.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=f}}e.__resize_listeners__.push(t),ae++}function Yt(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",me),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--ae&&U&&U.parentNode.removeChild(U)}}function Gt(e){var t=e.__resize_last__,n=t.width,a=t.height,o=e.offsetWidth,r=e.offsetHeight;return o!==n||r!==a?{width:o,height:r}:null}function Jt(){var e=oe(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(he(this),this.addEventListener("scroll",me,!0)),this.__resize_rendered__=t,Z(this))}function me(){var e=this;he(this),this.__resize_raf__&&Pt(this.__resize_raf__),this.__resize_raf__=Dt(function(){var t=Gt(e);t&&(e.__resize_last__=t,Z(e))})}function Z(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function Xt(e){var t=Me(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var n=K("div",{className:"resize-triggers"}),a=K("div",{className:"resize-expand-trigger"}),o=K("div"),r=K("div",{className:"resize-contract-trigger"});a.appendChild(o),n.appendChild(a),n.appendChild(r),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:a,expandChild:o,contract:r},he(e),e.addEventListener("scroll",me,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function he(e){var t=e.__resize_triggers__,n=t.expand,a=t.expandChild,o=t.contract,r=o.scrollWidth,c=o.scrollHeight,q=n.offsetWidth,y=n.offsetHeight,f=n.scrollWidth,_=n.scrollHeight;o.scrollLeft=r,o.scrollTop=c,a.style.width=q+1+"px",a.style.height=y+1+"px",n.scrollLeft=f,n.scrollTop=_}const en=["aria-label"];var Le=E({__name:"text-clamp",props:{text:{type:String,required:!0},maxHeight:{type:[String,Number],required:!1},maxLines:{type:Number,required:!1},expanded:{type:Boolean,required:!1,default:!1},location:{type:String,required:!1,default:"end"},ellipsis:{type:String,required:!1,default:"â€¦"},autoResize:{type:Boolean,required:!1,default:!1}},emits:["clamp-change","update:expanded"],setup(e,{emit:t}){const n=e,a=L(null),o=L(null),r=L(null),c=Ae({offset:0,localExpanded:!!n.expanded,unregisterResizeCallback:null}),q=g(()=>{if(!c.localExpanded&&n.maxHeight)return typeof n?.maxHeight=="number"?`${n?.maxHeight}px`:n?.maxHeight}),y=()=>{r.value&&(r.value.textContent=G.value)},f=()=>{c.localExpanded||(y(),(h()||I.value)&&p())},_=()=>{n.text&&(c.offset=n.text.length,l(),n.autoResize&&a.value&&(Zt(a.value,f),c.unregisterResizeCallback=()=>{a.value&&Yt(a.value,f)}),f())},l=()=>{c.unregisterResizeCallback?.()},h=()=>!(!n.maxLines&&!n.maxHeight)&&!!a.value&&(!!(n.maxLines&&v()>n.maxLines)||!!(n.maxHeight&&a.value.scrollHeight>a.value.offsetHeight)),v=()=>o.value?Object.keys(Array.prototype.slice.call(o.value.getClientRects()).reduce((b,{top:N,bottom:F})=>{const O=`${N}/${F}`;return b[O]||(b[O]=!0),b},{})).length:0,p=(...b)=>{const[N=0,F=c.offset]=b;if(F-N<=3)return void m();const O=Math.floor((F+N)/2);$(O),h()?p(N,O):p(O,F)},$=b=>{c.offset=b,y()},m=()=>{S(),j()},S=()=>{for(;(!h()||v()<2)&&c.offset<n.text.length;)w(1)},j=()=>{for(;h()&&v()>1&&c.offset>0;)w(-1)},w=b=>{$(c.offset+b)},I=g(()=>!!n.text&&c.offset!==n.text.length);V(()=>I.value,b=>{setTimeout(()=>{t("clamp-change",b)},0)},{immediate:!0});const G=g(()=>I.value?pe.value:n.text),pe=g(()=>{if(n.location==="start")return n.ellipsis+(n.text.slice(-c.offset)||"").trim();if(n.location==="middle"){const b=Math.floor(c.offset/2);return(n.text.slice(0,b)||"").trim()+n.ellipsis+(n.text.slice(-b)||"").trim()}return(n.text.slice(0,c.offset)||"").trim()+n.ellipsis}),fe=()=>{c.localExpanded=!0},ve=()=>{c.localExpanded=!1},ge=()=>{c.localExpanded=!c.localExpanded};return V(()=>n.expanded,b=>{c.localExpanded=b}),V(()=>c.localExpanded,b=>{b?$(n.text.length):f(),n.expanded!==b&&t("update:expanded",b)}),V(()=>[n.maxLines,n.maxHeight,n.ellipsis,n.location,I.value].join(),()=>{ye(()=>{f()})}),V(()=>[n.text,n.autoResize].join(),()=>{ye(()=>{_()})}),Ne(()=>{l()}),Oe(()=>{_()}),(b,N)=>(u(),x("div",{ref_key:"textClampRef",ref:a,class:"text-clamp",style:Y({overflow:"hidden",maxHeight:H(q)})},[d("span",{ref_key:"contentRef",ref:o},[A(b.$slots,"before",{expand:fe,collapse:ve,toggle:ge,clamped:H(I),expanded:c.localExpanded}),d("span",{ref_key:"textRef",ref:r,"aria-label":e.text},null,8,en),A(b.$slots,"after",{expand:fe,collapse:ve,toggle:ge,clamped:H(I),expanded:c.localExpanded})],512)],4))}});Le.__file="package/text-clamp.vue";const tn=e=>(e.install=function(t){t.component(e.__name,e)},e),nn=tn(Le),on=["onClick"],an=["onClick"],sn=E({__name:"WdTextClamp",setup(e){return(t,n)=>(u(),k(H(nn),null,{after:i(({toggle:a,expanded:o,clamped:r})=>[D(d("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},z(t.$t("more")),9,on),[[be,r]]),D(d("p",{style:{"text-decoration":"underline dotted"},class:"text-grey-6 cursor-pointer",onClick:a},z(t.$t("less")),9,an),[[be,o]])]),_:1}))}}),ln=W(sn,[["__file","WdTextClamp.vue"]]),rn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},cn=d("g",{fill:"none","fill-rule":"evenodd"},[d("path",{d:"M24 0v24H0V0zM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),d("path",{fill:"currentColor",d:"M8.701 5.75c.577-1 2.02-1 2.598 0l3.5 6.062l.902-1.562c.577-1 2.02-1 2.598 0l4.33 7.5A1.5 1.5 0 0 1 21.33 20H17v-.002a1.555 1.555 0 0 1-.072.002H3.072a1.5 1.5 0 0 1-1.3-2.25zm-.91 5.576l.709.472l.945-.63a1 1 0 0 1 1.11 0l.945.63l.709-.472L10 7.5z"})],-1),un=[cn];function dn(e,t){return u(),x("svg",rn,[...un])}const _n={name:"mingcute-mountain2-fill",render:dn},mn=E({__name:"QIconify",props:{is:{}},setup(e){return(t,n)=>(u(),k(B,null,{default:i(()=>[(u(),k(Ve(t.is)))]),_:1}))}}),hn=W(mn,[["__file","QIconify.vue"]]),pn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fn=d("path",{fill:"currentColor",d:"M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39l8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33Z"},null,-1),vn=[fn];function gn(e,t){return u(),x("svg",pn,[...vn])}const yn={name:"eva-checkmark-fill",render:gn},bn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},wn=d("path",{fill:"currentColor",d:"M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0a3 3 0 1 1 3 3a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9"},null,-1),xn=d("circle",{cx:"12",cy:"19",r:"1",fill:"currentColor"},null,-1),kn=[wn,xn];function qn(e,t){return u(),x("svg",bn,[...kn])}const xe={name:"eva-question-mark-fill",render:qn},zn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},$n=d("path",{fill:"currentColor",d:"m13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29l-4.3 4.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l4.29-4.3l4.29 4.3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42Z"},null,-1),Cn=[$n];function Sn(e,t){return u(),x("svg",zn,[...Cn])}const Hn={name:"eva-close-fill",render:Sn},Bn={class:"text-accent-900",style:{"font-weight":"500",width:"28px"}},Mn=E({__name:"WdHutTypeChip",props:{type:{},capacity:{},color:{default:"white"},color2:{},open:{default:void 0}},setup(e){const t=e,n=g(()=>{switch(t.open){case"yes":return yn;case"no":return Hn;case"maybe":return xe}return xe}),a=g(()=>t.color2?t.color2:"white"),o=g(()=>{switch(t.open){case"yes":return"green-6";case"no":return"red-4";case"maybe":return"green-6"}return"grey-6"});return(r,c)=>{const q=hn;return r.type&&r.type.name?(u(),k(_e,{key:0,size:"md",class:M("bg-"+a.value+" q-mr-none"),style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:i(()=>[s(ce,{class:M("bg-"+r.color),"text-color":"white"},{default:i(()=>[s(B,{size:"24px",name:"img:"+(r.$q.platform.is.mobile?r.type.symbol:r.type.symbol_simple)},null,8,["name"])]),_:1},8,["class"]),d("span",Bn,z(r.capacity),1),s(q,{class:M("bg-"+o.value+" badge"),color:"white",size:"14px",is:n.value},null,8,["class","is"]),A(r.$slots,"default",{},void 0,!0)]),_:3},8,["class"])):C("",!0)}}}),Ln=W(Mn,[["__scopeId","data-v-89cad179"],["__file","WdHutTypeChip.vue"]]),En={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},In=d("path",{fill:"currentColor",d:"M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1"},null,-1),Tn=d("path",{fill:"currentColor",d:"M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2"},null,-1),Wn=[In,Tn];function Qn(e,t){return u(),x("svg",En,[...Wn])}const Rn={name:"eva-external-link-fill",render:Qn},An=["href"],Nn={key:1},On=E({__name:"WdHutHeader",props:{hut:{},ontop:{type:Boolean}},setup(e){return(t,n)=>{const a=Rn;return u(),k(lt,{class:M(["no-background",{"shadow-3":t.ontop}]),style:{transition:"box-shadow 0.2s ease","background-color":"unset"}},{default:i(()=>[A(t.$slots,"default"),t.hut?(u(),k(Be,{key:0,class:""},{default:i(()=>[s(st,{style:{"text-wrap":"wrap",transform:"translateY(4px)","margin-left":"3px","background-color":"unset"},class:"text-primary-900"},{default:i(()=>[d("h1",{class:M(["text-h5 q-ma-none q-mt-xs",[t.$q.screen.xs||t.$q.platform.is.mobile?"text-h6":"text-h5"]])},[t.hut.url?(u(),x("a",{key:0,href:t.hut.url,targe:"_blank"},[R(z(t.hut.name)+" ",1),s(B,{size:"11pt",style:{transform:"translateY(-6px)"}},{default:i(()=>[s(a)]),_:1})],8,An)):(u(),x("span",Nn,z(t.hut.name),1))],2)]),_:1})]),_:1})):C("",!0)]),_:3},8,["class"])}}}),Vn=W(On,[["__file","WdHutHeader.vue"]]),Q=P({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=g(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>T("div",{class:n.value},ue(t.default))}}),se=P({name:"QItem",props:{...le,...je,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=ie(),o=re(e,a),{hasLink:r,linkAttrs:c,linkClass:q,linkTag:y,navigateOnClick:f}=Fe(),_=L(null),l=L(null),h=g(()=>e.clickable===!0||r.value===!0||e.tag==="label"),v=g(()=>e.disable!==!0&&h.value===!0),p=g(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(o.value===!0?" q-item--dark":"")+(r.value===!0&&e.active===null?q.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(v.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),$=g(()=>e.insetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function m(w){v.value===!0&&(l.value!==null&&(w.qKeyEvent!==!0&&document.activeElement===_.value?l.value.focus():document.activeElement===l.value&&_.value.focus()),f(w))}function S(w){if(v.value===!0&&De(w,[13,32])===!0){Ce(w),w.qKeyEvent=!0;const I=new MouseEvent("click",w);I.qKeyEvent=!0,_.value.dispatchEvent(I)}n("keyup",w)}function j(){const w=Pe(t.default,[]);return v.value===!0&&w.unshift(T("div",{class:"q-focus-helper",tabindex:-1,ref:l})),w}return()=>{const w={ref:_,class:p.value,style:$.value,role:"listitem",onClick:m,onKeyup:S};return v.value===!0?(w.tabindex=e.tabindex||"0",Object.assign(w,c.value)):h.value===!0&&(w["aria-disabled"]="true"),T(y.value,w,j())}}}),jn=E({__name:"WdToolbarExtraButton",props:{icon:{},iconColor:{default:"primary-800"},disabled:{type:Boolean,default:!1}},setup(e){return(t,n)=>D((u(),k(se,{clickable:!t.disabled,style:Y(t.disabled?"opacity : 0.5;":"")},{default:i(()=>[s(Q,{avatar:"",style:{"min-width":"34px","padding-right":"0"}},{default:i(()=>[s(B,{color:t.iconColor,name:t.icon},null,8,["color","name"])]),_:1}),s(Q,null,{default:i(()=>[A(t.$slots,"default")]),_:3})]),_:3},8,["clickable","style"])),[[$e]])}}),Fn=W(jn,[["__file","WdToolbarExtraButton.vue"]]),Ee=P({name:"QList",props:{...le,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=ie(),a=re(e,n.proxy.$q),o=g(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>T(e.tag,{class:o.value},ue(t.default))}}),Dn=E({__name:"WdHutToolbar",props:{hut:{}},setup(e){const t=de(),n=mt(),a=e,o=L(!1),r=L(!1);function c(){r.value=!r.value}function q(){if(n.map!==void 0&&a.hut!==void 0){const l=a.hut.location;if(l!=null){const h=n.map.getZoom();n.map.flyTo({center:[l.lon,l.lat],zoom:h>12?h:12,padding:{right:t.screen.xs?0:400,bottom:t.screen.xs?300:0}})}}}function y(l,h,v,p,$=.004){return l+$>=h&&l-$<=h&&v+$>=p&&v-$<=p}const f=L(!1),_=L(!0);return V(f,()=>{if(_.value=!0,n.map!==void 0&&a.hut!==void 0){const l=a.hut.location;if(l!=null){const h=n.map.getCenter(),v=n.map.getZoom();_.value=y(l.lat,h.lat,l.lon,h.lng,.005/Math.sqrt(v))}}}),(l,h)=>{const v=ct,p=Fn;return u(),k(Be,null,{default:i(()=>[A(l.$slots,"default"),s(tt),s(v,{size:"md",color:o.value?"accent":"primary-900",icon:o.value?"wd-eye":"wd-eye-outline",style:{opacity:"0.5",cursor:"not-allowed"}},null,8,["color","icon"]),s(v,{size:"md",class:"text-primary-900",icon:"wd-more-vertical"},{default:i(()=>[s(it,{class:"bg-primary-100",modelValue:f.value,"onUpdate:modelValue":h[0]||(h[0]=$=>f.value=$)},{default:i(()=>[s(Ee,{style:{"min-width":"100px"}},{default:i(()=>[s(p,{onClick:c,icon:r.value?"wd-favorite":"wd-favorite-outline","icon-color":r.value?"accent":"primary-800",disabled:!0},{default:i(()=>[R(z(l.$t("favorite")),1)]),_:1},8,["icon","icon-color"]),H(n).map&&l.hut?.location?D((u(),k(p,{key:0,icon:"wd-location-question",onClick:q,disabled:_.value},{default:i(()=>[R(z(l.$t("show_map")),1)]),_:1},8,["disabled"])),[[rt]]):C("",!0),s(p,{icon:"wd-edit-outline",href:l.hut?.edit_link,target:"_blank"},{default:i(()=>[R(z(l.$t("edit")),1)]),_:1},8,["href"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3})}}}),Pn=W(Dn,[["__file","WdHutToolbar.vue"]]),Kn=e=>(Ke("data-v-a1738a30"),e=e(),Ue(),e),Un=["src"],Zn=Kn(()=>d("br",null,null,-1)),Yn={class:"text-bold text-subtitle1"},Gn=E({__name:"WdSourceButtons",props:{hut:{},round:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},background:{type:Boolean,default:!1},padding:{default:"xs"},color:{},target:{default:"_blank"}},setup(e){const t=e;return(n,a)=>n.hut?(u(),x("div",{key:0,class:M(["justify-start row",{content:n.background}])},[(u(!0),x(ee,null,te(t.hut?.sources,o=>(u(),x("div",{key:o.name,class:"col"},[s(Se,{href:o.link,target:t.target,flat:t.flat,padding:t.padding,round:t.round,color:t.color},{default:i(()=>[d("img",{style:Y({height:(n.$q.platform.is.mobile,"24px")}),src:o.logo},null,12,Un),s(ht,{"hide-delay":150,delay:150},{default:i(()=>[d("span",null,z(o.fullname),1),Zn,d("span",Yn,z(o.slug),1)]),_:2},1024)]),_:2},1032,["href","target","flat","padding","round","color"])]))),128))],2)):C("",!0)}}),Jn=W(Gn,[["__scopeId","data-v-a1738a30"],["__file","WdSourceButtons.vue"]]),ke=P({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=g(()=>parseInt(e.lines,10)),a=g(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=g(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>T("div",{style:o.value,class:a.value},ue(t.default))}}),qe={threshold:0,root:null,rootMargin:"0px"};function ze(e,t,n){let a,o,r;typeof n=="function"?(a=n,o=qe,r=t.cfg===void 0):(a=n.handler,o=Object.assign({},qe,n.cfg),r=t.cfg===void 0||Ye(t.cfg,o)===!1),t.handler!==a&&(t.handler=a),r===!0&&(t.cfg=o,t.observer!==void 0&&t.observer.unobserve(e),t.observer=new IntersectionObserver(([c])=>{if(typeof t.handler=="function"){if(c.rootBounds===null&&document.body.contains(e)===!0){t.observer.unobserve(e),t.observer.observe(e);return}(t.handler(c,t.observer)===!1||t.once===!0&&c.isIntersecting===!0)&&Ie(e)}},o),t.observer.observe(e))}function Ie(e){const t=e.__qvisible;t!==void 0&&(t.observer!==void 0&&t.observer.unobserve(e),delete e.__qvisible)}const Xn=Ze({name:"intersection",mounted(e,{modifiers:t,value:n}){const a={once:t.once===!0};ze(e,a,n),e.__qvisible=a},updated(e,t){const n=e.__qvisible;n!==void 0&&ze(e,n,t.value)},beforeUnmount:Ie});function eo(e){const t=document.createElement("textarea");t.value=e,t.contentEditable="true",t.style.position="fixed";const n=()=>{};Ge(n),document.body.appendChild(t),t.focus(),t.select();const a=document.execCommand("copy");return t.remove(),Je(n),a}function to(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((t,n)=>{const a=eo(e);a?t(!0):n(a)})}const no={class:"row items-start q-gutter-sm"},oo={key:0,class:"col-md-12 col-sm-7 col-7"},ao={class:"absolute-bottom-right row attribution"},so=["innerHTML"],lo={class:"text-primary-500",style:{"font-weight":"500",width:"28px"}},io={class:"text-body2 q-my-lg"},ro=["innerHTML"],co={class:"text-subtitle1 text-accent"},uo=E({__name:"WdHutView",props:{slug:{}},setup(e){const{selectedMonth:t}=Xe(ft()),n=de(),a=e,o=L(void 0),r=g(()=>{const l=t.value;if(o.value?.open_monthly===void 0||o.value?.open_monthly==null)return"unknown";const h=o.value?.open_monthly[`month_${l}`];return h===void 0?"unknown":h}),c=g(()=>{switch(r.value){case"yes":return"no";case"no":return"yes"}return r.value}),q=L(!1);we(()=>{o.value=void 0,q.value=!1,a.slug&&at.GET("/v1/huts/{slug}",{params:{path:{slug:a.slug}}}).then(({data:l})=>{l&&(o.value=l)})});const y=L(void 0),f=g(()=>n.screen.gt.sm);we(()=>{o.value?.photos?y.value=nt(o.value?.photos,{size:"600x400",smart:!0,fit:!0}):y.value=void 0});const _=l=>(q.value=!l.isIntersecting,!0);return(l,h)=>{const v=Jn,p=Pn,$=Vn,m=Ln,S=_n,j=ln,w=Ft,I=$t,G=wt;return u(),k(ut,{view:"lhh LpR lff",container:"",class:M(["no-background fit",H(n).dark.isActive?"bg-grey-9":"bg-grey-3"]),style:{height:"100%"}},{default:i(()=>[s($,{hut:o.value,ontop:q.value},{default:i(()=>[f.value?(u(),k(p,{key:0,hut:o.value},{default:i(()=>[s(v,{hut:o.value,class:"q-ml-xl"},null,8,["hut"])]),_:1},8,["hut"])):C("",!0)]),_:1},8,["hut","ontop"]),s(dt,{class:"fit",style:{height:"100%"}},{default:i(()=>[s(He,{visible:"","thumb-style":{width:"6px",backgroundColor:"#998019",opacity:"0.5",borderRadius:"8px 0 0 8px"},style:{height:"100%"},class:"fit"},{default:i(()=>[o.value?(u(),k(pt,{key:0,style:{height:"100%"},class:"q-px-md fit"},{default:i(()=>[d("h2",{style:Y((H(n).screen.gt.sm?"margin-top: -3px; ":"")+"text-wrap: wrap;"),class:"text-subtitle1 text-accent-900 q-ma-none q-mb-sm"},[D(d("span",null,null,512),[[Xn,_]]),R(" "+z(o.value.owner?.name),1)],4),d("div",no,[y.value?(u(),x("div",oo,[d("div",{class:M({"q-ma-sm":H(n).screen.gt.sm,"q-ma-lg":H(n).screen.gt.md})},[s(ot,{src:y.value,class:M(["hut-image",{"shadow-8":H(n).screen.gt.sm}])},{default:i(()=>[d("div",ao,[s(B,{class:"q-mr-sm",name:"eva-camera-outline"}),d("div",{class:"img-link",innerHTML:o.value.photos_attribution},null,8,so)])]),_:1},8,["src","class"])],2)])):C("",!0),d("div",{class:M(["col-md-12",{"col-sm-4":y.value,"col-4":y.value,"col-12":!y.value}])},[d("div",{class:M(["row items-start justify-start q-gutter-sm",{"justify-center":H(n).screen.gt.sm&&y.value,"q-gutter-lg":H(n).screen.gt.sm}])},[s(m,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_open,capacity:o.value.capacity_open,open:r.value,color:"green-4",color2:"green-2"},null,8,["type","capacity","open"]),s(m,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:o.value.type_closed,capacity:o.value.capacity_closed,open:c.value,color:"brown-3",color2:"brown-2"},null,8,["type","capacity","open"]),s(_e,{size:"md",class:"bg-grey-4 q-mr-none shadow-0 col-md-6 col-sm-12 col-12",style:{"min-width":"90px","max-width":"90px","max-height":"30px"}},{default:i(()=>[s(ce,{class:"bg-grey-5","text-color":"primary-500"},{default:i(()=>[s(B,{size:"20px"},{default:i(()=>[s(S)]),_:1})]),_:1}),d("span",lo,z(o.value.elevation)+" m",1)]),_:1})],2)],2)]),d("body",io,[d("div",{class:"attribution attr_link text-right",style:{padding:"0"},innerHTML:o.value.description_attribution},null,8,ro),s(j,{"max-lines":5,text:o.value.description,style:{"padding-bottom":"0"}},null,8,["text"])]),s(w,{open_monthly:o.value.open_monthly,type_open:o.value.type_open,type_closed:o.value.type_closed},null,8,["open_monthly","type_open","type_closed"]),d("div",co,z(l.$t("location")),1),s(Ee,{dense:""},{default:i(()=>[o.value.location?(u(),k(se,{key:0},{default:i(()=>[s(Q,{side:""},{default:i(()=>[s(B,{size:"xs"},{default:i(()=>[s(I)]),_:1})]),_:1}),s(Q,null,{default:i(()=>[s(ke,null,{default:i(()=>[R(z(o.value.location.lat.toPrecision(7))+", "+z(o.value.location.lon.toPrecision(6)),1)]),_:1})]),_:1}),s(Q,{side:"",onClick:h[0]||(h[0]=pe=>H(to)(o.value.location.lat.toPrecision(7).toString()+", "+o.value.location.lon.toPrecision(6).toString()))},{default:i(()=>[s(Se,{flat:"",dense:"",round:"",size:"10pt"},{default:i(()=>[s(B,{size:"10pt"},{default:i(()=>[s(G)]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0),o.value.elevation?(u(),k(se,{key:1},{default:i(()=>[s(Q,{side:""},{default:i(()=>[s(B,{size:"xs"},{default:i(()=>[s(S)]),_:1})]),_:1}),s(Q,null,{default:i(()=>[s(ke,null,{default:i(()=>[R(z(o.value.elevation)+" m",1)]),_:1})]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1}),s(_t,{class:"footer-toolbar"},{default:i(()=>[f.value?C("",!0):(u(),k(p,{key:0,hut:o.value},{default:i(()=>[s(v,{hut:o.value},null,8,["hut"])]),_:1},8,["hut"]))]),_:1})]),_:1},8,["class"])}}}),qo=W(uo,[["__scopeId","data-v-fefecb42"],["__file","WdHutView.vue"]]);export{qo as default};
