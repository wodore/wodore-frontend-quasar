import{d as P,ae as k,an as N,c as L,r as E,ao as z,a9 as Q,al as B,f as A,ad as F,ab as V,aC as b,aD as T,ah as W,aE as M,aF as G,aG as J,a8 as K}from"./index-lOTxkmD3.js";import{Q as X,g as C}from"./imageService-BeuCsfen.js";import{u as Y}from"./use-quasar-ccOFzb7B.js";import"./_commonjsHelpers-C4iS2aBk.js";const Z={"Content-Type":"application/json"},ee=/\{[^{}]+\}/g;function te(o){let{baseUrl:t="",fetch:e=globalThis.fetch,querySerializer:s,bodySerializer:r,headers:n,...a}={...o};t.endsWith("/")&&(t=t.substring(0,t.length-1)),n=O(Z,n);const c=[];async function f(l,i){let{fetch:p=e,headers:H,params:R={},parseAs:j="json",querySerializer:w,bodySerializer:S=r??se,...U}=i||{},x=typeof s=="function"?s:q(s);w&&(x=typeof w=="function"?w:q({...typeof s=="object"?s:{},...w}));const m={redirect:"follow",...a,...U,headers:O(n,H,R.header)};m.body&&(m.body=S(m.body)),m.body instanceof FormData&&m.headers.delete("Content-Type");let y=new Request(ne(l,{baseUrl:t,params:R,querySerializer:x}),m);const $={baseUrl:t,fetch:p,parseAs:j,querySerializer:x,bodySerializer:S};for(const d of c)if(d&&typeof d=="object"&&typeof d.onRequest=="function"){y.schemaPath=l,y.params=R;const h=await d.onRequest(y,$);if(h){if(!(h instanceof Request))throw new Error("Middleware must return new Request() when modifying the request");y=h}}let u=await p(y);for(let d=c.length-1;d>=0;d--){const h=c[d];if(h&&typeof h=="object"&&typeof h.onResponse=="function"){const v=await h.onResponse(u,$);if(v){if(!(v instanceof Response))throw new Error("Middleware must return new Response() when modifying the response");u=v}}}if(u.status===204||u.headers.get("Content-Length")==="0")return u.ok?{data:{},response:u}:{error:{},response:u};if(u.ok)return j==="stream"?{data:u.body,response:u}:{data:await u[j](),response:u};let _=await u.text();try{_=JSON.parse(_)}catch{}return{error:_,response:u}}return{async GET(l,i){return f(l,{...i,method:"GET"})},async PUT(l,i){return f(l,{...i,method:"PUT"})},async POST(l,i){return f(l,{...i,method:"POST"})},async DELETE(l,i){return f(l,{...i,method:"DELETE"})},async OPTIONS(l,i){return f(l,{...i,method:"OPTIONS"})},async HEAD(l,i){return f(l,{...i,method:"HEAD"})},async PATCH(l,i){return f(l,{...i,method:"PATCH"})},async TRACE(l,i){return f(l,{...i,method:"TRACE"})},use(...l){for(const i of l)if(i){if(typeof i!="object"||!("onRequest"in i||"onResponse"in i))throw new Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");c.push(i)}},eject(...l){for(const i of l){const p=c.indexOf(i);p!==-1&&c.splice(p,1)}}}}function g(o,t,e){if(t==null)return"";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${o}=${e?.allowReserved===!0?t:encodeURIComponent(t)}`}function I(o,t,e){if(!t||typeof t!="object")return"";const s=[],r={simple:",",label:".",matrix:";"}[e.style]||"&";if(e.style!=="deepObject"&&e.explode===!1){for(const c in t)s.push(c,e.allowReserved===!0?t[c]:encodeURIComponent(t[c]));const a=s.join(",");switch(e.style){case"form":return`${o}=${a}`;case"label":return`.${a}`;case"matrix":return`;${o}=${a}`;default:return a}}for(const a in t){const c=e.style==="deepObject"?`${o}[${a}]`:a;s.push(g(c,t[a],e))}const n=s.join(r);return e.style==="label"||e.style==="matrix"?`${r}${n}`:n}function D(o,t,e){if(!Array.isArray(t))return"";if(e.explode===!1){const n={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[e.style]||",",a=(e.allowReserved===!0?t:t.map(c=>encodeURIComponent(c))).join(n);switch(e.style){case"simple":return a;case"label":return`.${a}`;case"matrix":return`;${o}=${a}`;case"spaceDelimited":case"pipeDelimited":default:return`${o}=${a}`}}const s={simple:",",label:".",matrix:";"}[e.style]||"&",r=[];for(const n of t)e.style==="simple"||e.style==="label"?r.push(e.allowReserved===!0?n:encodeURIComponent(n)):r.push(g(o,n,e));return e.style==="label"||e.style==="matrix"?`${s}${r.join(s)}`:r.join(s)}function q(o){return function(e){const s=[];if(e&&typeof e=="object")for(const r in e){const n=e[r];if(n!=null){if(Array.isArray(n)){s.push(D(r,n,{style:"form",explode:!0,...o?.array,allowReserved:o?.allowReserved||!1}));continue}if(typeof n=="object"){s.push(I(r,n,{style:"deepObject",explode:!0,...o?.object,allowReserved:o?.allowReserved||!1}));continue}s.push(g(r,n,o))}}return s.join("&")}}function re(o,t){let e=o;for(const s of o.match(ee)??[]){let r=s.substring(1,s.length-1),n=!1,a="simple";if(r.endsWith("*")&&(n=!0,r=r.substring(0,r.length-1)),r.startsWith(".")?(a="label",r=r.substring(1)):r.startsWith(";")&&(a="matrix",r=r.substring(1)),!t||t[r]===void 0||t[r]===null)continue;const c=t[r];if(Array.isArray(c)){e=e.replace(s,D(r,c,{style:a,explode:n}));continue}if(typeof c=="object"){e=e.replace(s,I(r,c,{style:a,explode:n}));continue}if(a==="matrix"){e=e.replace(s,`;${g(r,c)}`);continue}e=e.replace(s,a==="label"?`.${c}`:c)}return e}function se(o){return JSON.stringify(o)}function ne(o,t){let e=`${t.baseUrl}${o}`;t.params?.path&&(e=re(e,t.params.path));let s=t.querySerializer(t.params.query??{});return s.startsWith("?")&&(s=s.substring(1)),s&&(e+=`?${s}`),e}function O(...o){const t=new Headers;for(const e of o){if(!e||typeof e!="object")continue;const s=e instanceof Headers?e.entries():Object.entries(e);for(const[r,n]of s)if(n===null)t.delete(r);else if(Array.isArray(n))for(const a of n)t.append(r,a);else n!==void 0&&t.set(r,n)}return t}const oe=te({baseUrl:"https://api.wodore.com"}),ae=o=>(G("data-v-87788294"),o=o(),J(),o),ie={key:0},le=ae(()=>b("div",{class:"card-header absolute-bottom"},null,-1)),ce={class:"col no-wrap items-center"},ue=["href"],fe={style:{"font-size":"8pt"}},de="https://cdn.pixabay.com/photo/2020/07/20/21/49/moist-5424448_1280.jpg",he=P({__name:"HutView",props:{slug:{}},setup(o){const t=Y(),e=k(),s=N(),r=L(()=>t.screen.xs),n=o,a=E(null);z(()=>{n.slug&&oe.GET("/v1/huts/{slug}",{params:{path:{slug:n.slug}}}).then(({data:l})=>{console.log(l),l&&(a.value=l)})});const c=E("");z(()=>{a.value?.photos?c.value=C(a.value?.photos,{size:"600x400",smart:!0,fit:!0}):c.value=C(de,{size:"600x400",smart:!0,fit:!0,filters:["blur(4)"]})});function f(){e.push({name:"map",hash:s.hash,query:s.query})}return(l,i)=>a.value?(Q(),B("div",ie,[A(F,{class:"fixed-top",color:"accent-700",size:"lg",flat:"",round:"",icon:"eva-close",onClick:i[0]||(i[0]=p=>f())}),A(X,{src:c.value},{default:V(()=>[le,b("div",{class:M(["absolute-bottom text-accent-400 text-center card-header__text",{"text-h5":r.value,"text-h4":!r.value}])},T(a.value.name),3)]),_:1},8,["src"]),b("div",ce,[b("a",{href:a.value.photos,targe:"_blank"},"original photo",8,ue),b("pre",fe,T(a.value),1)])])):W("",!0)}}),we=K(he,[["__scopeId","data-v-87788294"],["__file","HutView.vue"]]);export{we as default};
