import{defineComponent as I,computed as S,ref as v,watchEffect as f,resolveComponent as h,withCtx as V,createVNode as _,toDisplayString as z,useSSRContext as H}from"vue";import{ssrRenderAttrs as k,ssrRenderComponent as x,ssrRenderClass as A,ssrInterpolate as g,ssrRenderAttr as E,ssrRenderStyle as U}from"vue/server-renderer";import{useRouter as j,useRoute as D}from"vue-router";import{useQuasar as G}from"quasar";import{g as b}from"./imageService-BwhrUYgk.js";import M from"openapi-fetch";import{_ as N}from"../server-entry.js";import"crypto-js/hmac-sha256.js";import"crypto-js/enc-base64.js";import"quasar/wrappers/index.mjs";import"pinia";import"quasar/icon-set/eva-icons.mjs";const Q=M({baseUrl:"https://api.wodore.com"}),T="https://cdn.pixabay.com/photo/2020/07/20/21/49/moist-5424448_1280.jpg",u=I({__name:"HutView",__ssrInlineRender:!0,props:{slug:{}},setup(a){const n=G(),o=j(),i=D(),s=S(()=>n.screen.xs),c=a,e=v(null);f(()=>{c.slug&&Q.GET("/v1/huts/{slug}",{params:{path:{slug:c.slug}}}).then(({data:r})=>{console.log(r),r&&(e.value=r)})});const l=v("");f(()=>{e.value?.photos?l.value=b(e.value?.photos,{size:"600x400",smart:!0,fit:!0}):l.value=b(T,{size:"600x400",smart:!0,fit:!0,filters:["blur(4)"]})});function $(){o.push({name:"map",hash:i.hash,query:i.query})}return(r,t,m,w)=>{const R=h("q-btn"),q=h("q-img");e.value?(t(`<div${k(w)} data-v-87788294>`),t(x(R,{class:"fixed-top",color:"accent-700",size:"lg",flat:"",round:"",icon:"eva-close",onClick:y=>$()},null,m)),t(x(q,{src:l.value},{default:V((y,d,W,p)=>{if(d)d(`<div class="card-header absolute-bottom" data-v-87788294${p}></div><div class="${A([{"text-h5":s.value,"text-h4":!s.value},"absolute-bottom text-accent-400 text-center card-header__text"])}" data-v-87788294${p}>${g(e.value.name)}</div>`);else return[_("div",{class:"card-header absolute-bottom"}),_("div",{class:["absolute-bottom text-accent-400 text-center card-header__text",{"text-h5":s.value,"text-h4":!s.value}]},z(e.value.name),3)]}),_:1},m)),t(`<div class="col no-wrap items-center" data-v-87788294><a${E("href",e.value.photos)} targe="_blank" data-v-87788294>original photo</a><pre style="${U({"font-size":"8pt"})}" data-v-87788294>${g(e.value)}</pre></div></div>`)):t("<!---->")}}}),C=u.setup;u.setup=(a,n)=>{const o=H();return(o.modules||(o.modules=new Set)).add("src/components/huts/HutView.vue"),C?C(a,n):void 0};const oe=N(u,[["__scopeId","data-v-87788294"],["__file","HutView.vue"]]);export{oe as default};
