import v from"crypto-js/hmac-sha256.js";import w from"crypto-js/enc-base64.js";function x(t,r){return v(t,r).toString(w).replace(/\+/g,"-").replace(/\//g,"_")}function f(t){const r=t.split("x");return[Math.abs(parseInt(r[0])),Math.abs(parseInt(r[1]))]}function j(t,r={size:"600x400"}){r.filters||(r.filters=[]);const s=r.trim?"/trim":"";let c="";if(r.cropStart&&r.cropStop)c="/"+r.cropStart+":"+r.cropStop;else if(r.cropStart){const a=f(r.size),e=f(r.cropStart);c="/"+r.cropStart+":"+(e[0]+a[0]).toString()+"x"+(e[1]+a[1]).toString()}r.focal&&r.filters?.push(`focal(${r.focal})`),r.quality&&r.filters?.push(`quality(${r.quality})`);const n=r.size?"/"+r.size:"",m=r.trim?"/fit":"",g=r.stretch?"/stretch":"",h=r.smart?"/smart":"",u=r.halign?"/"+r.halign:"",S=r.valign?"/"+r.valign:"",z=r.filters.length>0?"/filters:"+r.filters.join(":"):"",d="https://img.wodore.com",i=((a,e)=>a.split(e).filter(Boolean).join(e))(s+c+m+g+n+u+S+h+z+"/"+encodeURIComponent(t),"/");let l="unsafe";return r.unsafe||(l=x(i,"4dBvaAemV3dwrjYcZ81GUeQ7nwErbZTQ")),d+"/"+l+"/"+i}export{j as g};
