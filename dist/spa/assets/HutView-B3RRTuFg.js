import{b as N,i as le,j as je,T as re,Q as Re,d as He,e as oe,f as Ae,g as Ce,h as ke,a as J,c as Pe}from"./QFooter-DZ974CKs.js";import{k as Oe,m as Ee,r as b,g as Ie,p as Me,c as m,af as Qe,w as De,ag as Be,ah as xe,l as Ue,h as _,ai as Le,z as K,aj as X,ak as ne,al as Fe,am as Ne,d as ee,G as j,P as V,F as Ve,an as We,U as T,f as h,I as g,Q as p,S as ye,ao as O,R as Ge,ap as Je,aq as Xe,_ as te,H as W,V as Z,L as Q,X as se}from"./index-CbGMKE0_.js";import{g as ie,Q as Ye,a as Ke}from"./imageService-D_vpGXUi.js";import{Q as Ze}from"./QPage-CjZYeRDR.js";import"./use-hydration-C1sQBarN.js";import"./_commonjsHelpers-C4iS2aBk.js";const ue=["vertical","horizontal"],Y={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},ce={prevent:!0,mouse:!0,mouseAllDir:!0},de=l=>l>=250?50:Math.ceil(l/5),et=Oe({name:"QScrollArea",props:{...Ee,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(l,{slots:a,emit:t}){const s=b(!1),r=b(!1),u=b(!1),n={vertical:b(0),horizontal:b(0)},e={vertical:{ref:b(null),position:b(0),size:b(0)},horizontal:{ref:b(null),position:b(0),size:b(0)}},{proxy:v}=Ie(),d=Me(l,v.$q);let i=null,w;const q=b(null),E=m(()=>"q-scrollarea"+(d.value===!0?" q-scrollarea--dark":""));e.vertical.percentage=m(()=>{const o=e.vertical.size.value-n.vertical.value;if(o<=0)return 0;const c=N(e.vertical.position.value/o,0,1);return Math.round(c*1e4)/1e4}),e.vertical.thumbHidden=m(()=>(l.visible===null?u.value:l.visible)!==!0&&s.value===!1&&r.value===!1||e.vertical.size.value<=n.vertical.value+1),e.vertical.thumbStart=m(()=>e.vertical.percentage.value*(n.vertical.value-e.vertical.thumbSize.value)),e.vertical.thumbSize=m(()=>Math.round(N(n.vertical.value*n.vertical.value/e.vertical.size.value,de(n.vertical.value),n.vertical.value))),e.vertical.style=m(()=>({...l.thumbStyle,...l.verticalThumbStyle,top:`${e.vertical.thumbStart.value}px`,height:`${e.vertical.thumbSize.value}px`})),e.vertical.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.vertical.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),e.horizontal.percentage=m(()=>{const o=e.horizontal.size.value-n.horizontal.value;if(o<=0)return 0;const c=N(Math.abs(e.horizontal.position.value)/o,0,1);return Math.round(c*1e4)/1e4}),e.horizontal.thumbHidden=m(()=>(l.visible===null?u.value:l.visible)!==!0&&s.value===!1&&r.value===!1||e.horizontal.size.value<=n.horizontal.value+1),e.horizontal.thumbStart=m(()=>e.horizontal.percentage.value*(n.horizontal.value-e.horizontal.thumbSize.value)),e.horizontal.thumbSize=m(()=>Math.round(N(n.horizontal.value*n.horizontal.value/e.horizontal.size.value,de(n.horizontal.value),n.horizontal.value))),e.horizontal.style=m(()=>({...l.thumbStyle,...l.horizontalThumbStyle,[v.$q.lang.rtl===!0?"right":"left"]:`${e.horizontal.thumbStart.value}px`,width:`${e.horizontal.thumbSize.value}px`})),e.horizontal.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.horizontal.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const I=m(()=>e.vertical.thumbHidden.value===!0&&e.horizontal.thumbHidden.value===!0?l.contentStyle:l.contentActiveStyle),C=[[re,o=>{P(o,"vertical")},void 0,{vertical:!0,...ce}]],D=[[re,o=>{P(o,"horizontal")},void 0,{horizontal:!0,...ce}]];function B(){const o={};return ue.forEach(c=>{const f=e[c];o[c+"Position"]=f.position.value,o[c+"Percentage"]=f.percentage.value,o[c+"Size"]=f.size.value,o[c+"ContainerSize"]=n[c].value}),o}const k=Qe(()=>{const o=B();o.ref=v,t("scroll",o)},0);function $(o,c,f){if(ue.includes(o)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(o==="vertical"?ne:X)(q.value,c,f)}function R({height:o,width:c}){let f=!1;n.vertical.value!==o&&(n.vertical.value=o,f=!0),n.horizontal.value!==c&&(n.horizontal.value=c,f=!0),f===!0&&U()}function x({position:o}){let c=!1;e.vertical.position.value!==o.top&&(e.vertical.position.value=o.top,c=!0),e.horizontal.position.value!==o.left&&(e.horizontal.position.value=o.left,c=!0),c===!0&&U()}function y({height:o,width:c}){e.horizontal.size.value!==c&&(e.horizontal.size.value=c,U()),e.vertical.size.value!==o&&(e.vertical.size.value=o,U())}function P(o,c){const f=e[c];if(o.isFirst===!0){if(f.thumbHidden.value===!0)return;w=f.position.value,r.value=!0}else if(r.value!==!0)return;o.isFinal===!0&&(r.value=!1);const A=Y[c],F=n[c].value,qe=(f.size.value-F)/(F-f.thumbSize.value),$e=o.distance[A.dist],Te=w+(o.direction===A.dir?1:-1)*$e*qe;ae(Te,c)}function z(o,c){const f=e[c];if(f.thumbHidden.value!==!0){const A=o[Y[c].offset];if(A<f.thumbStart.value||A>f.thumbStart.value+f.thumbSize.value){const F=A-f.thumbSize.value/2;ae(F/n[c].value*f.size.value,c)}f.ref.value!==null&&f.ref.value.dispatchEvent(new MouseEvent(o.type,o))}}function S(o){z(o,"vertical")}function M(o){z(o,"horizontal")}function U(){s.value=!0,i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,s.value=!1},l.delay),l.onScroll!==void 0&&k()}function ae(o,c){q.value[Y[c].scroll]=o}let H=null;function _e(){H!==null&&clearTimeout(H),H=setTimeout(()=>{H=null,u.value=!0},v.$q.platform.is.ios?50:0)}function we(){H!==null&&(clearTimeout(H),H=null),u.value=!1}let L=null;return De(()=>v.$q.lang.rtl,o=>{q.value!==null&&X(q.value,Math.abs(e.horizontal.position.value)*(o===!0?-1:1))}),Be(()=>{L={top:e.vertical.position.value,left:e.horizontal.position.value}}),xe(()=>{if(L===null)return;const o=q.value;o!==null&&(X(o,L.left),ne(o,L.top))}),Ue(k.cancel),Object.assign(v,{getScrollTarget:()=>q.value,getScroll:B,getScrollPosition:()=>({top:e.vertical.position.value,left:e.horizontal.position.value}),getScrollPercentage:()=>({top:e.vertical.percentage.value,left:e.horizontal.percentage.value}),setScrollPosition:$,setScrollPercentage(o,c,f){$(o,c*(e[o].size.value-n[o].value)*(o==="horizontal"&&v.$q.lang.rtl===!0?-1:1),f)}}),()=>_("div",{class:E.value,onMouseenter:_e,onMouseleave:we},[_("div",{ref:q,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:l.tabindex!==void 0?l.tabindex:void 0},[_("div",{class:"q-scrollarea__content absolute",style:I.value},Le(a.default,[_(le,{debounce:0,onResize:y})])),_(je,{axis:"both",onScroll:x})]),_(le,{debounce:0,onResize:R}),_("div",{class:e.vertical.barClass.value,style:[l.barStyle,l.verticalBarStyle],"aria-hidden":"true",onMousedown:S}),_("div",{class:e.horizontal.barClass.value,style:[l.barStyle,l.horizontalBarStyle],"aria-hidden":"true",onMousedown:M}),K(_("div",{ref:e.vertical.ref,class:e.vertical.thumbClass.value,style:e.vertical.style.value,"aria-hidden":"true"}),C),K(_("div",{ref:e.horizontal.ref,class:e.horizontal.thumbClass.value,style:e.horizontal.style.value,"aria-hidden":"true"}),D)])}}),fe={threshold:0,root:null,rootMargin:"0px"};function ve(l,a,t){let s,r,u;typeof t=="function"?(s=t,r=fe,u=a.cfg===void 0):(s=t.handler,r=Object.assign({},fe,t.cfg),u=a.cfg===void 0||Ne(a.cfg,r)===!1),a.handler!==s&&(a.handler=s),u===!0&&(a.cfg=r,a.observer!==void 0&&a.observer.unobserve(l),a.observer=new IntersectionObserver(([n])=>{if(typeof a.handler=="function"){if(n.rootBounds===null&&document.body.contains(l)===!0){a.observer.unobserve(l),a.observer.observe(l);return}(a.handler(n,a.observer)===!1||a.once===!0&&n.isIntersecting===!0)&&ge(l)}},r),a.observer.observe(l))}function ge(l){const a=l.__qvisible;a!==void 0&&(a.observer!==void 0&&a.observer.unobserve(l),delete l.__qvisible)}const tt=Fe({name:"intersection",mounted(l,{modifiers:a,value:t}){const s={once:a.once===!0};ve(l,s,t),l.__qvisible=s},updated(l,a){const t=l.__qvisible;t!==void 0&&ve(l,t,a.value)},beforeUnmount:ge}),at={"Content-Type":"application/json"},lt=/\{[^{}]+\}/g;function rt(l){let{baseUrl:a="",fetch:t=globalThis.fetch,querySerializer:s,bodySerializer:r,headers:u,...n}={...l};a.endsWith("/")&&(a=a.substring(0,a.length-1)),u=me(at,u);const e=[];async function v(d,i){let{fetch:w=t,headers:q,params:E={},parseAs:I="json",querySerializer:C,bodySerializer:D=r??nt,...B}=i||{},k=typeof s=="function"?s:he(s);C&&(k=typeof C=="function"?C:he({...typeof s=="object"?s:{},...C}));const $={redirect:"follow",...n,...B,headers:me(u,q,E.header)};$.body&&($.body=D($.body)),$.body instanceof FormData&&$.headers.delete("Content-Type");let R=new Request(st(d,{baseUrl:a,params:E,querySerializer:k}),$);const x={baseUrl:a,fetch:w,parseAs:I,querySerializer:k,bodySerializer:D};for(const z of e)if(z&&typeof z=="object"&&typeof z.onRequest=="function"){R.schemaPath=d,R.params=E;const S=await z.onRequest(R,x);if(S){if(!(S instanceof Request))throw new Error("Middleware must return new Request() when modifying the request");R=S}}let y=await w(R);for(let z=e.length-1;z>=0;z--){const S=e[z];if(S&&typeof S=="object"&&typeof S.onResponse=="function"){const M=await S.onResponse(y,x);if(M){if(!(M instanceof Response))throw new Error("Middleware must return new Response() when modifying the response");y=M}}}if(y.status===204||y.headers.get("Content-Length")==="0")return y.ok?{data:{},response:y}:{error:{},response:y};if(y.ok)return I==="stream"?{data:y.body,response:y}:{data:await y[I](),response:y};let P=await y.text();try{P=JSON.parse(P)}catch{}return{error:P,response:y}}return{async GET(d,i){return v(d,{...i,method:"GET"})},async PUT(d,i){return v(d,{...i,method:"PUT"})},async POST(d,i){return v(d,{...i,method:"POST"})},async DELETE(d,i){return v(d,{...i,method:"DELETE"})},async OPTIONS(d,i){return v(d,{...i,method:"OPTIONS"})},async HEAD(d,i){return v(d,{...i,method:"HEAD"})},async PATCH(d,i){return v(d,{...i,method:"PATCH"})},async TRACE(d,i){return v(d,{...i,method:"TRACE"})},use(...d){for(const i of d)if(i){if(typeof i!="object"||!("onRequest"in i||"onResponse"in i))throw new Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");e.push(i)}},eject(...d){for(const i of d){const w=e.indexOf(i);w!==-1&&e.splice(w,1)}}}}function G(l,a,t){if(a==null)return"";if(typeof a=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${l}=${t?.allowReserved===!0?a:encodeURIComponent(a)}`}function ze(l,a,t){if(!a||typeof a!="object")return"";const s=[],r={simple:",",label:".",matrix:";"}[t.style]||"&";if(t.style!=="deepObject"&&t.explode===!1){for(const e in a)s.push(e,t.allowReserved===!0?a[e]:encodeURIComponent(a[e]));const n=s.join(",");switch(t.style){case"form":return`${l}=${n}`;case"label":return`.${n}`;case"matrix":return`;${l}=${n}`;default:return n}}for(const n in a){const e=t.style==="deepObject"?`${l}[${n}]`:n;s.push(G(e,a[n],t))}const u=s.join(r);return t.style==="label"||t.style==="matrix"?`${r}${u}`:u}function Se(l,a,t){if(!Array.isArray(a))return"";if(t.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[t.style]||",",n=(t.allowReserved===!0?a:a.map(e=>encodeURIComponent(e))).join(u);switch(t.style){case"simple":return n;case"label":return`.${n}`;case"matrix":return`;${l}=${n}`;case"spaceDelimited":case"pipeDelimited":default:return`${l}=${n}`}}const s={simple:",",label:".",matrix:";"}[t.style]||"&",r=[];for(const u of a)t.style==="simple"||t.style==="label"?r.push(t.allowReserved===!0?u:encodeURIComponent(u)):r.push(G(l,u,t));return t.style==="label"||t.style==="matrix"?`${s}${r.join(s)}`:r.join(s)}function he(l){return function(t){const s=[];if(t&&typeof t=="object")for(const r in t){const u=t[r];if(u!=null){if(Array.isArray(u)){s.push(Se(r,u,{style:"form",explode:!0,...l?.array,allowReserved:l?.allowReserved||!1}));continue}if(typeof u=="object"){s.push(ze(r,u,{style:"deepObject",explode:!0,...l?.object,allowReserved:l?.allowReserved||!1}));continue}s.push(G(r,u,l))}}return s.join("&")}}function ot(l,a){let t=l;for(const s of l.match(lt)??[]){let r=s.substring(1,s.length-1),u=!1,n="simple";if(r.endsWith("*")&&(u=!0,r=r.substring(0,r.length-1)),r.startsWith(".")?(n="label",r=r.substring(1)):r.startsWith(";")&&(n="matrix",r=r.substring(1)),!a||a[r]===void 0||a[r]===null)continue;const e=a[r];if(Array.isArray(e)){t=t.replace(s,Se(r,e,{style:n,explode:u}));continue}if(typeof e=="object"){t=t.replace(s,ze(r,e,{style:n,explode:u}));continue}if(n==="matrix"){t=t.replace(s,`;${G(r,e)}`);continue}t=t.replace(s,n==="label"?`.${e}`:e)}return t}function nt(l){return JSON.stringify(l)}function st(l,a){let t=`${a.baseUrl}${l}`;a.params?.path&&(t=ot(t,a.params.path));let s=a.querySerializer(a.params.query??{});return s.startsWith("?")&&(s=s.substring(1)),s&&(t+=`?${s}`),t}function me(...l){const a=new Headers;for(const t of l){if(!t||typeof t!="object")continue;const s=t instanceof Headers?t.entries():Object.entries(t);for(const[r,u]of s)if(u===null)a.delete(r);else if(Array.isArray(u))for(const n of u)a.append(r,n);else u!==void 0&&a.set(r,u)}return a}const it=rt({baseUrl:"https://api.wodore.com"}),ut=l=>(Je("data-v-88d378c1"),l=l(),Xe(),l),ct=["src"],dt=ut(()=>p("br",null,null,-1)),ft={class:"text-bold text-subtitle1"},vt=ee({__name:"SourceButtons",props:{hut:{},round:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},padding:{default:"xs"},color:{},target:{default:"_blank"}},setup(l){const a=l;return(t,s)=>(j(),V("div",{class:T(["content justify-start row",{column:t.$q.screen.gt.xs}])},[(j(!0),V(Ve,null,We(a.hut?.sources,r=>(j(),V("div",{key:r.name,class:"col"},[h(Ge,{href:r.link,target:a.target,flat:a.flat,padding:a.padding,round:a.round,color:a.color},{default:g(()=>[p("img",{style:ye({height:t.$q.platform.is.mobile?"30px":"20px"}),src:r.logo},null,12,ct),h(Re,{"hide-delay":150,delay:150},{default:g(()=>[p("span",null,O(r.fullname),1),dt,p("span",ft,O(r.slug),1)]),_:2},1024)]),_:2},1032,["href","target","flat","padding","round","color"])]))),128))],2))}}),be=te(vt,[["__scopeId","data-v-88d378c1"],["__file","SourceButtons.vue"]]),ht={class:"col q-ml-sm"},mt={class:T(["text-h5","text-accent-700"]),style:{"font-weight":"500"}},bt=ee({__name:"HutType",props:{type:{},capacity:{},color:{default:"white"},open:{type:[Boolean,null],default:void 0}},setup(l){const a=l,t=m(()=>a.open?"wd-checkmark":a.open==!1?"wd-close":"wd-question-mark"),s=m(()=>a.open?"green-6":a.open==!1?"red-4":"grey-6");return(r,u)=>r.type||r.capacity&&r.capacity>0?(j(),V("div",{key:0,class:T(["bg-"+r.color,"q-pa-sm","row content","items-center"])},[r.type?(j(),W(Z,{key:0,name:"img:"+r.type.symbol,size:"38px"},null,8,["name"])):Q("",!0),p("div",ht,[p("div",mt,O(r.capacity!==null?r.capacity:"?"),1)]),h(Z,{class:T("bg-"+s.value+" badge q-mr-xs"),color:"white",name:t.value,size:"16px"},null,8,["class","name"])],2)):Q("",!0)}}),pe=te(bt,[["__scopeId","data-v-58a84c1e"],["__file","HutType.vue"]]),pt={class:"text-h5 q-ma-none q-mt-xs"},yt={class:"text-subtitle1 text-accent-900 q-ma-none q-mb-sm"},gt={class:"row items-start row q-gutter-sm"},zt={class:"col-md-12 col-sm-auto col-auto"},St={class:"absolute-bottom-right row attribution"},_t=["innerHTML"],wt={class:"col-md-12 col-sm-4 col-4"},qt={class:"text-body2 q-my-lg"},$t="https://cdn.pixabay.com/photo/2020/07/20/21/49/moist-5424448_1280.jpg",Tt=ee({__name:"HutView",props:{slug:{}},setup(l){const a=l,t=b(null);se(()=>{a.slug&&it.GET("/v1/huts/{slug}",{params:{path:{slug:a.slug}}}).then(({data:i})=>{i&&(t.value=i)})});const s=b("");se(()=>{t.value?.photos?s.value=ie(t.value?.photos,{size:"600x400",smart:!0,fit:!0}):s.value=ie($t,{size:"600x400",smart:!0,fit:!0,filters:["blur(4)"]})});const r=b(!0),u=i=>(r.value=!r.value,!0),n=b(!1);function e(){n.value=!n.value}const v=b(!1);function d(){v.value=!v.value}return(i,w)=>t.value?(j(),W(He,{key:0,view:"lhh LpR lff",container:"",class:T(["no-background fit",i.$q.dark.isActive?"bg-grey-9":"bg-grey-3"]),style:{height:"100%"}},{default:g(()=>[h(Ce,{class:T(["no-background",{"shadow-2":r.value}]),style:{transition:"box-shadow 0.2s ease-in-out"}},{default:g(()=>[h(oe,{class:""},{default:g(()=>[h(Ae,{style:ye((i.$q.screen.gt.sm?"margin-left: 40px":"")+"; text-wrap: wrap;"),class:"text-primary-900"},{default:g(()=>[p("h1",pt,O(t.value.name),1)]),_:1},8,["style"])]),_:1})]),_:1},8,["class"]),h(ke,{class:"fit",style:{height:"100%"}},{default:g(()=>[h(et,{style:{height:"100%"},class:"fit"},{default:g(()=>[h(Ze,{style:{height:"100%"},class:"q-px-md fit"},{default:g(()=>[K(p("span",null,null,512),[[tt,u]]),p("h2",yt,O(t.value.owner?.name),1),p("div",gt,[p("div",zt,[p("div",{class:T({"q-ma-sm":i.$q.screen.gt.sm,"q-ma-lg":i.$q.screen.gt.md})},[h(Ye,{src:s.value,class:T(["hut-image",{"shadow-8":i.$q.screen.gt.sm}])},{default:g(()=>[t.value.sources&&i.$q.screen.gt.xs?(j(),W(be,{key:0,hut:t.value,style:{position:"absolute",top:"5px",left:"5px"}},null,8,["hut"])):Q("",!0),p("div",St,[h(Z,{class:"q-mr-sm",name:"eva-camera-outline"}),p("div",{class:"img-link",innerHTML:t.value.photos_attribution},null,8,_t)])]),_:1},8,["src","class"])],2)]),p("div",wt,[p("div",{class:T(["row items-start justify-start q-gutter-sm",{"justify-center":i.$q.screen.gt.sm,"q-gutter-lg":i.$q.screen.gt.sm}])},[h(pe,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:t.value.type_open,capacity:t.value.capacity_open,open:void 0,color:"green-3"},null,8,["type","capacity"]),h(pe,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:t.value.type_closed,capacity:t.value.capacity_closed,open:void 0,color:"blue-2"},null,8,["type","capacity"])],2)])]),t.value.sources&&i.$q.screen.xs?(j(),W(be,{key:0,hut:t.value},null,8,["hut"])):Q("",!0),p("body",qt,O(t.value.description),1)]),_:1})]),_:1})]),_:1}),h(Pe,{class:"footer-toolbar"},{default:g(()=>[h(oe,null,{default:g(()=>[h(Ke),h(J,{size:"md",color:v.value?"accent":"primary-900",icon:v.value?"wd-favorite":"wd-favorite-outline",onClick:d},null,8,["color","icon"]),h(J,{size:"md",color:n.value?"accent":"primary-900",icon:n.value?"wd-eye":"wd-eye-outline",onClick:e},null,8,["color","icon"]),h(J,{size:"md",class:"text-primary-900",icon:"wd-more-vertical"})]),_:1})]),_:1})]),_:1},8,["class"])):Q("",!0)}}),Pt=te(Tt,[["__scopeId","data-v-3870cb3b"],["__file","HutView.vue"]]);export{Pt as default};
