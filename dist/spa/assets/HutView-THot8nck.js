import{b as F,c as le,i as Te,T as re,Q as je,d as Re,e as He,f as Ae,a as J,g as Ce,h as ke}from"./ToolbarButton-4uw1O7hF.js";import{k as Oe,m as Pe,r as m,g as Ee,p as Ie,c as h,ah as Me,w as De,ai as Be,aj as Qe,l as xe,h as S,N as Ue,z as Y,ak as X,al as oe,am as Le,an as Ne,d as ee,G as j,R as D,F as Ve,ao as Fe,W as T,f as p,I as _,S as y,V as pe,ap as P,U as We,aq as Ge,ar as Je,_ as te,H as W,X as Z,L as B,Z as ne,K as Xe}from"./index-DVrw0yiS.js";import{g as se,Q as Ke}from"./imageService-BUTqW1Yk.js";import{Q as Ye}from"./QPage-B6mfNQ7j.js";import"./use-hydration-BxaNeop9.js";import"./_commonjsHelpers-C4iS2aBk.js";const ie=["vertical","horizontal"],K={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},ue={prevent:!0,mouse:!0,mouseAllDir:!0},ce=l=>l>=250?50:Math.ceil(l/5),Ze=Oe({name:"QScrollArea",props:{...Pe,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(l,{slots:a,emit:t}){const s=m(!1),r=m(!1),u=m(!1),n={vertical:m(0),horizontal:m(0)},e={vertical:{ref:m(null),position:m(0),size:m(0)},horizontal:{ref:m(null),position:m(0),size:m(0)}},{proxy:v}=Ee(),d=Ie(l,v.$q);let i=null,w;const q=m(null),E=h(()=>"q-scrollarea"+(d.value===!0?" q-scrollarea--dark":""));e.vertical.percentage=h(()=>{const o=e.vertical.size.value-n.vertical.value;if(o<=0)return 0;const c=F(e.vertical.position.value/o,0,1);return Math.round(c*1e4)/1e4}),e.vertical.thumbHidden=h(()=>(l.visible===null?u.value:l.visible)!==!0&&s.value===!1&&r.value===!1||e.vertical.size.value<=n.vertical.value+1),e.vertical.thumbStart=h(()=>e.vertical.percentage.value*(n.vertical.value-e.vertical.thumbSize.value)),e.vertical.thumbSize=h(()=>Math.round(F(n.vertical.value*n.vertical.value/e.vertical.size.value,ce(n.vertical.value),n.vertical.value))),e.vertical.style=h(()=>({...l.thumbStyle,...l.verticalThumbStyle,top:`${e.vertical.thumbStart.value}px`,height:`${e.vertical.thumbSize.value}px`})),e.vertical.thumbClass=h(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.vertical.barClass=h(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),e.horizontal.percentage=h(()=>{const o=e.horizontal.size.value-n.horizontal.value;if(o<=0)return 0;const c=F(Math.abs(e.horizontal.position.value)/o,0,1);return Math.round(c*1e4)/1e4}),e.horizontal.thumbHidden=h(()=>(l.visible===null?u.value:l.visible)!==!0&&s.value===!1&&r.value===!1||e.horizontal.size.value<=n.horizontal.value+1),e.horizontal.thumbStart=h(()=>e.horizontal.percentage.value*(n.horizontal.value-e.horizontal.thumbSize.value)),e.horizontal.thumbSize=h(()=>Math.round(F(n.horizontal.value*n.horizontal.value/e.horizontal.size.value,ce(n.horizontal.value),n.horizontal.value))),e.horizontal.style=h(()=>({...l.thumbStyle,...l.horizontalThumbStyle,[v.$q.lang.rtl===!0?"right":"left"]:`${e.horizontal.thumbStart.value}px`,width:`${e.horizontal.thumbSize.value}px`})),e.horizontal.thumbClass=h(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.horizontal.barClass=h(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const I=h(()=>e.vertical.thumbHidden.value===!0&&e.horizontal.thumbHidden.value===!0?l.contentStyle:l.contentActiveStyle),C=[[re,o=>{O(o,"vertical")},void 0,{vertical:!0,...ue}]],Q=[[re,o=>{O(o,"horizontal")},void 0,{horizontal:!0,...ue}]];function x(){const o={};return ie.forEach(c=>{const f=e[c];o[c+"Position"]=f.position.value,o[c+"Percentage"]=f.percentage.value,o[c+"Size"]=f.size.value,o[c+"ContainerSize"]=n[c].value}),o}const k=Me(()=>{const o=x();o.ref=v,t("scroll",o)},0);function $(o,c,f){if(ie.includes(o)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(o==="vertical"?oe:X)(q.value,c,f)}function R({height:o,width:c}){let f=!1;n.vertical.value!==o&&(n.vertical.value=o,f=!0),n.horizontal.value!==c&&(n.horizontal.value=c,f=!0),f===!0&&L()}function U({position:o}){let c=!1;e.vertical.position.value!==o.top&&(e.vertical.position.value=o.top,c=!0),e.horizontal.position.value!==o.left&&(e.horizontal.position.value=o.left,c=!0),c===!0&&L()}function b({height:o,width:c}){e.horizontal.size.value!==c&&(e.horizontal.size.value=c,L()),e.vertical.size.value!==o&&(e.vertical.size.value=o,L())}function O(o,c){const f=e[c];if(o.isFirst===!0){if(f.thumbHidden.value===!0)return;w=f.position.value,r.value=!0}else if(r.value!==!0)return;o.isFinal===!0&&(r.value=!1);const A=K[c],V=n[c].value,we=(f.size.value-V)/(V-f.thumbSize.value),qe=o.distance[A.dist],$e=w+(o.direction===A.dir?1:-1)*qe*we;ae($e,c)}function g(o,c){const f=e[c];if(f.thumbHidden.value!==!0){const A=o[K[c].offset];if(A<f.thumbStart.value||A>f.thumbStart.value+f.thumbSize.value){const V=A-f.thumbSize.value/2;ae(V/n[c].value*f.size.value,c)}f.ref.value!==null&&f.ref.value.dispatchEvent(new MouseEvent(o.type,o))}}function z(o){g(o,"vertical")}function M(o){g(o,"horizontal")}function L(){s.value=!0,i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,s.value=!1},l.delay),l.onScroll!==void 0&&k()}function ae(o,c){q.value[K[c].scroll]=o}let H=null;function Se(){H!==null&&clearTimeout(H),H=setTimeout(()=>{H=null,u.value=!0},v.$q.platform.is.ios?50:0)}function _e(){H!==null&&(clearTimeout(H),H=null),u.value=!1}let N=null;return De(()=>v.$q.lang.rtl,o=>{q.value!==null&&X(q.value,Math.abs(e.horizontal.position.value)*(o===!0?-1:1))}),Be(()=>{N={top:e.vertical.position.value,left:e.horizontal.position.value}}),Qe(()=>{if(N===null)return;const o=q.value;o!==null&&(X(o,N.left),oe(o,N.top))}),xe(k.cancel),Object.assign(v,{getScrollTarget:()=>q.value,getScroll:x,getScrollPosition:()=>({top:e.vertical.position.value,left:e.horizontal.position.value}),getScrollPercentage:()=>({top:e.vertical.percentage.value,left:e.horizontal.percentage.value}),setScrollPosition:$,setScrollPercentage(o,c,f){$(o,c*(e[o].size.value-n[o].value)*(o==="horizontal"&&v.$q.lang.rtl===!0?-1:1),f)}}),()=>S("div",{class:E.value,onMouseenter:Se,onMouseleave:_e},[S("div",{ref:q,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:l.tabindex!==void 0?l.tabindex:void 0},[S("div",{class:"q-scrollarea__content absolute",style:I.value},Ue(a.default,[S(le,{debounce:0,onResize:b})])),S(Te,{axis:"both",onScroll:U})]),S(le,{debounce:0,onResize:R}),S("div",{class:e.vertical.barClass.value,style:[l.barStyle,l.verticalBarStyle],"aria-hidden":"true",onMousedown:z}),S("div",{class:e.horizontal.barClass.value,style:[l.barStyle,l.horizontalBarStyle],"aria-hidden":"true",onMousedown:M}),Y(S("div",{ref:e.vertical.ref,class:e.vertical.thumbClass.value,style:e.vertical.style.value,"aria-hidden":"true"}),C),Y(S("div",{ref:e.horizontal.ref,class:e.horizontal.thumbClass.value,style:e.horizontal.style.value,"aria-hidden":"true"}),Q)])}}),de={threshold:0,root:null,rootMargin:"0px"};function fe(l,a,t){let s,r,u;typeof t=="function"?(s=t,r=de,u=a.cfg===void 0):(s=t.handler,r=Object.assign({},de,t.cfg),u=a.cfg===void 0||Ne(a.cfg,r)===!1),a.handler!==s&&(a.handler=s),u===!0&&(a.cfg=r,a.observer!==void 0&&a.observer.unobserve(l),a.observer=new IntersectionObserver(([n])=>{if(typeof a.handler=="function"){if(n.rootBounds===null&&document.body.contains(l)===!0){a.observer.unobserve(l),a.observer.observe(l);return}(a.handler(n,a.observer)===!1||a.once===!0&&n.isIntersecting===!0)&&ye(l)}},r),a.observer.observe(l))}function ye(l){const a=l.__qvisible;a!==void 0&&(a.observer!==void 0&&a.observer.unobserve(l),delete l.__qvisible)}const et=Le({name:"intersection",mounted(l,{modifiers:a,value:t}){const s={once:a.once===!0};fe(l,s,t),l.__qvisible=s},updated(l,a){const t=l.__qvisible;t!==void 0&&fe(l,t,a.value)},beforeUnmount:ye}),tt={"Content-Type":"application/json"},at=/\{[^{}]+\}/g;function lt(l){let{baseUrl:a="",fetch:t=globalThis.fetch,querySerializer:s,bodySerializer:r,headers:u,...n}={...l};a.endsWith("/")&&(a=a.substring(0,a.length-1)),u=he(tt,u);const e=[];async function v(d,i){let{fetch:w=t,headers:q,params:E={},parseAs:I="json",querySerializer:C,bodySerializer:Q=r??ot,...x}=i||{},k=typeof s=="function"?s:ve(s);C&&(k=typeof C=="function"?C:ve({...typeof s=="object"?s:{},...C}));const $={redirect:"follow",...n,...x,headers:he(u,q,E.header)};$.body&&($.body=Q($.body)),$.body instanceof FormData&&$.headers.delete("Content-Type");let R=new Request(nt(d,{baseUrl:a,params:E,querySerializer:k}),$);const U={baseUrl:a,fetch:w,parseAs:I,querySerializer:k,bodySerializer:Q};for(const g of e)if(g&&typeof g=="object"&&typeof g.onRequest=="function"){R.schemaPath=d,R.params=E;const z=await g.onRequest(R,U);if(z){if(!(z instanceof Request))throw new Error("Middleware must return new Request() when modifying the request");R=z}}let b=await w(R);for(let g=e.length-1;g>=0;g--){const z=e[g];if(z&&typeof z=="object"&&typeof z.onResponse=="function"){const M=await z.onResponse(b,U);if(M){if(!(M instanceof Response))throw new Error("Middleware must return new Response() when modifying the response");b=M}}}if(b.status===204||b.headers.get("Content-Length")==="0")return b.ok?{data:{},response:b}:{error:{},response:b};if(b.ok)return I==="stream"?{data:b.body,response:b}:{data:await b[I](),response:b};let O=await b.text();try{O=JSON.parse(O)}catch{}return{error:O,response:b}}return{async GET(d,i){return v(d,{...i,method:"GET"})},async PUT(d,i){return v(d,{...i,method:"PUT"})},async POST(d,i){return v(d,{...i,method:"POST"})},async DELETE(d,i){return v(d,{...i,method:"DELETE"})},async OPTIONS(d,i){return v(d,{...i,method:"OPTIONS"})},async HEAD(d,i){return v(d,{...i,method:"HEAD"})},async PATCH(d,i){return v(d,{...i,method:"PATCH"})},async TRACE(d,i){return v(d,{...i,method:"TRACE"})},use(...d){for(const i of d)if(i){if(typeof i!="object"||!("onRequest"in i||"onResponse"in i))throw new Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");e.push(i)}},eject(...d){for(const i of d){const w=e.indexOf(i);w!==-1&&e.splice(w,1)}}}}function G(l,a,t){if(a==null)return"";if(typeof a=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${l}=${t?.allowReserved===!0?a:encodeURIComponent(a)}`}function ge(l,a,t){if(!a||typeof a!="object")return"";const s=[],r={simple:",",label:".",matrix:";"}[t.style]||"&";if(t.style!=="deepObject"&&t.explode===!1){for(const e in a)s.push(e,t.allowReserved===!0?a[e]:encodeURIComponent(a[e]));const n=s.join(",");switch(t.style){case"form":return`${l}=${n}`;case"label":return`.${n}`;case"matrix":return`;${l}=${n}`;default:return n}}for(const n in a){const e=t.style==="deepObject"?`${l}[${n}]`:n;s.push(G(e,a[n],t))}const u=s.join(r);return t.style==="label"||t.style==="matrix"?`${r}${u}`:u}function ze(l,a,t){if(!Array.isArray(a))return"";if(t.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[t.style]||",",n=(t.allowReserved===!0?a:a.map(e=>encodeURIComponent(e))).join(u);switch(t.style){case"simple":return n;case"label":return`.${n}`;case"matrix":return`;${l}=${n}`;case"spaceDelimited":case"pipeDelimited":default:return`${l}=${n}`}}const s={simple:",",label:".",matrix:";"}[t.style]||"&",r=[];for(const u of a)t.style==="simple"||t.style==="label"?r.push(t.allowReserved===!0?u:encodeURIComponent(u)):r.push(G(l,u,t));return t.style==="label"||t.style==="matrix"?`${s}${r.join(s)}`:r.join(s)}function ve(l){return function(t){const s=[];if(t&&typeof t=="object")for(const r in t){const u=t[r];if(u!=null){if(Array.isArray(u)){s.push(ze(r,u,{style:"form",explode:!0,...l?.array,allowReserved:l?.allowReserved||!1}));continue}if(typeof u=="object"){s.push(ge(r,u,{style:"deepObject",explode:!0,...l?.object,allowReserved:l?.allowReserved||!1}));continue}s.push(G(r,u,l))}}return s.join("&")}}function rt(l,a){let t=l;for(const s of l.match(at)??[]){let r=s.substring(1,s.length-1),u=!1,n="simple";if(r.endsWith("*")&&(u=!0,r=r.substring(0,r.length-1)),r.startsWith(".")?(n="label",r=r.substring(1)):r.startsWith(";")&&(n="matrix",r=r.substring(1)),!a||a[r]===void 0||a[r]===null)continue;const e=a[r];if(Array.isArray(e)){t=t.replace(s,ze(r,e,{style:n,explode:u}));continue}if(typeof e=="object"){t=t.replace(s,ge(r,e,{style:n,explode:u}));continue}if(n==="matrix"){t=t.replace(s,`;${G(r,e)}`);continue}t=t.replace(s,n==="label"?`.${e}`:e)}return t}function ot(l){return JSON.stringify(l)}function nt(l,a){let t=`${a.baseUrl}${l}`;a.params?.path&&(t=rt(t,a.params.path));let s=a.querySerializer(a.params.query??{});return s.startsWith("?")&&(s=s.substring(1)),s&&(t+=`?${s}`),t}function he(...l){const a=new Headers;for(const t of l){if(!t||typeof t!="object")continue;const s=t instanceof Headers?t.entries():Object.entries(t);for(const[r,u]of s)if(u===null)a.delete(r);else if(Array.isArray(u))for(const n of u)a.append(r,n);else u!==void 0&&a.set(r,u)}return a}const st=lt({baseUrl:"https://api.wodore.com"}),it=l=>(Ge("data-v-88d378c1"),l=l(),Je(),l),ut=["src"],ct=it(()=>y("br",null,null,-1)),dt={class:"text-bold text-subtitle1"},ft=ee({__name:"SourceButtons",props:{hut:{},round:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},padding:{default:"xs"},color:{},target:{default:"_blank"}},setup(l){const a=l;return(t,s)=>(j(),D("div",{class:T(["content justify-start row",{column:t.$q.screen.gt.xs}])},[(j(!0),D(Ve,null,Fe(a.hut?.sources,r=>(j(),D("div",{key:r.name,class:"col"},[p(We,{href:r.link,target:a.target,flat:a.flat,padding:a.padding,round:a.round,color:a.color},{default:_(()=>[y("img",{style:pe({height:t.$q.platform.is.mobile?"30px":"20px"}),src:r.logo},null,12,ut),p(je,{"hide-delay":150,delay:150},{default:_(()=>[y("span",null,P(r.fullname),1),ct,y("span",dt,P(r.slug),1)]),_:2},1024)]),_:2},1032,["href","target","flat","padding","round","color"])]))),128))],2))}}),me=te(ft,[["__scopeId","data-v-88d378c1"],["__file","SourceButtons.vue"]]),vt={class:"col q-ml-sm"},ht={class:T(["text-h5","text-accent-700"]),style:{"font-weight":"500"}},mt=ee({__name:"HutType",props:{type:{},capacity:{},color:{default:"white"},open:{type:[Boolean,null],default:void 0}},setup(l){const a=l,t=h(()=>a.open?"eva-checkmark-outline":a.open==!1?"eva-close-outline":"eva-question-mark-outline"),s=h(()=>a.open?"green-6":a.open==!1?"red-4":"grey-6");return(r,u)=>r.type||r.capacity&&r.capacity>0?(j(),D("div",{key:0,class:T(["bg-"+r.color,"q-pa-sm","row content","items-center"])},[r.type?(j(),W(Z,{key:0,name:"img:"+r.type.symbol,size:"38px"},null,8,["name"])):B("",!0),y("div",vt,[y("div",ht,P(r.capacity!==null?r.capacity:"?"),1)]),p(Z,{class:T("bg-"+s.value+" badge q-mr-xs"),color:"white",name:t.value,size:"16px"},null,8,["class","name"])],2)):B("",!0)}}),be=te(mt,[["__scopeId","data-v-861b487a"],["__file","HutType.vue"]]),bt={class:"text-h5 q-ma-none q-mt-xs"},pt={class:"text-subtitle1 text-accent-900 q-ma-none q-mb-sm"},yt={class:"row items-start row q-gutter-sm"},gt={class:"col-md-12 col-sm-auto col-auto"},zt={class:"absolute-bottom-right row attribution"},St=["innerHTML"],_t={class:"col-md-12 col-sm-4 col-4"},wt={class:"text-body2 q-my-lg"},qt="https://cdn.pixabay.com/photo/2020/07/20/21/49/moist-5424448_1280.jpg",$t=ee({__name:"HutView",props:{slug:{}},setup(l){const a=l,t=m(null);ne(()=>{a.slug&&st.GET("/v1/huts/{slug}",{params:{path:{slug:a.slug}}}).then(({data:i})=>{i&&(t.value=i)})});const s=m("");ne(()=>{t.value?.photos?s.value=se(t.value?.photos,{size:"600x400",smart:!0,fit:!0}):s.value=se(qt,{size:"600x400",smart:!0,fit:!0,filters:["blur(4)"]})});const r=m(!0),u=i=>(r.value=!r.value,!0),n=m(!1);function e(){n.value=!n.value}const v=m(!1);function d(){v.value=!v.value}return(i,w)=>t.value?(j(),W(Re,{key:0,view:"lhh LpR lff",container:"",class:T(["no-background fit",i.$q.dark.isActive?"bg-grey-9":"bg-grey-3"]),style:{height:"100%"}},{default:_(()=>[p(Ce,{class:T(["no-background",{"shadow-2":r.value}]),style:{transition:"box-shadow 0.2s ease-in-out"}},{default:_(()=>[p(He,{class:""},{default:_(()=>[p(Ae,{style:pe((i.$q.screen.gt.sm?"margin-left: 40px":"")+"; text-wrap: wrap;"),class:"text-primary-900"},{default:_(()=>[y("h1",bt,P(t.value.name),1)]),_:1},8,["style"]),p(J,{size:"md",color:v.value?"accent":"primary-900",icon:v.value?"eva-star":"eva-star-outline",onClick:d},null,8,["color","icon"]),p(J,{size:"md",color:n.value?"accent":"primary-900",icon:n.value?"eva-eye":"eva-eye-outline",onClick:e},null,8,["color","icon"]),p(J,{size:"md",class:"text-primary-900",icon:"eva-more-vertical-outline"})]),_:1})]),_:1},8,["class"]),p(ke,{class:"fit",style:{height:"100%"}},{default:_(()=>[p(Ze,{style:{height:"100%"},class:"fit"},{default:_(()=>[p(Ye,{style:{height:"100%"},class:"q-px-md fit"},{default:_(()=>[Y((j(),D("h2",pt,[Xe(P(t.value.owner?.name),1)])),[[et,u]]),t.value.sources&&i.$q.screen.xs?(j(),W(me,{key:0,hut:t.value},null,8,["hut"])):B("",!0),y("div",yt,[y("div",gt,[y("div",{class:T({"q-ma-sm":i.$q.screen.gt.sm,"q-ma-lg":i.$q.screen.gt.md})},[p(Ke,{src:s.value,class:T(["hut-image",{"shadow-8":i.$q.screen.gt.sm}])},{default:_(()=>[t.value.sources&&i.$q.screen.gt.xs?(j(),W(me,{key:0,hut:t.value,style:{position:"absolute",top:"5px",left:"5px"}},null,8,["hut"])):B("",!0),y("div",zt,[p(Z,{class:"q-mr-sm",name:"eva-camera-outline"}),y("div",{class:"img-link",innerHTML:t.value.photos_attribution},null,8,St)])]),_:1},8,["src","class"])],2)]),y("div",_t,[y("div",{class:T(["row items-start justify-start q-gutter-sm",{"justify-center":i.$q.screen.gt.sm,"q-gutter-lg":i.$q.screen.gt.sm}])},[p(be,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:t.value.type_open,capacity:t.value.capacity_open,open:void 0,color:"green-3"},null,8,["type","capacity"]),p(be,{class:"shadow-0 col-md-6 col-sm-12 col-12",type:t.value.type_closed,capacity:t.value.capacity_closed,open:void 0,color:"blue-2"},null,8,["type","capacity"])],2)])]),y("body",wt,P(t.value.description),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])):B("",!0)}}),kt=te($t,[["__scopeId","data-v-2196b534"],["__file","HutView.vue"]]);export{kt as default};
