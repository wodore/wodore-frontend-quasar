import{k as qe,g as Ve,r as b,c as n,o as Te,l as Se,h as A,u as lt,m as ot,n as nt,p as ut,q as rt,i as it,t as ue,v as st,x as dt,w as x,y as he,z as Le,A as pe,B as ct,C as vt,D as ft,d as U,E as Fe,G as _,H as q,I as k,J as mt,K as ht,L as S,_ as E,M as ze,N as Oe,O as je,P,Q as re,f as h,R as ie,S as De,F as pt,U as gt,V as bt,W as yt,X as ge,Y as wt,Z as be}from"./index-1PHvYNLw.js";import{b as W,T as K,Q as xt,a as He,c as kt,d as _t,e as ye,f as we,g as Bt,h as Ct}from"./QFooter-BJ8WeaXW.js";import{u as G}from"./use-quasar-DM5A6TG4.js";import"./use-hydration-mnq-nT7J.js";const de=XMLHttpRequest,Qe=de.prototype.open,Mt=["top","right","bottom","left"];let Y=[],I=0;function $t({p:e,pos:o,active:i,horiz:c,reverse:l,dir:v}){let r=1,u=1;return c===!0?(l===!0&&(r=-1),o==="bottom"&&(u=-1),{transform:`translate3d(${r*(e-100)}%,${i?0:u*-200}%,0)`}):(l===!0&&(u=-1),o==="right"&&(r=-1),{transform:`translate3d(${i?0:v*r*-200}%,${u*(e-100)}%,0)`})}function qt(e,o){return typeof o!="number"&&(e<25?o=Math.random()*3+3:e<65?o=Math.random()*3:e<85?o=Math.random()*2:e<99?o=.6:o=0),W(e+o,0,100)}function Vt(e){I++,Y.push(e),!(I>1)&&(de.prototype.open=function(o,i){const c=[],l=()=>{Y.forEach(r=>{(r.hijackFilter.value===null||r.hijackFilter.value(i)===!0)&&(r.start(),c.push(r.stop))})},v=()=>{c.forEach(r=>{r()})};this.addEventListener("loadstart",l,{once:!0}),this.addEventListener("loadend",v,{once:!0}),Qe.apply(this,arguments)})}function Tt(e){Y=Y.filter(o=>o.start!==e),I=Math.max(0,I-1),I===0&&(de.prototype.open=Qe)}const St=qe({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>Mt.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:o}){const{proxy:i}=Ve(),c=b(0),l=b(!1),v=b(!0);let r=0,u=null,C;const L=n(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(v.value===!0?"":" no-transition")),a=n(()=>e.position==="top"||e.position==="bottom"),g=n(()=>a.value===!0?"height":"width"),f=n(()=>{const w=l.value,V=$t({p:c.value,pos:e.position,active:w,horiz:a.value,reverse:i.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:i.$q.lang.rtl===!0?-1:1});return V[g.value]=e.size,V.opacity=w?1:0,V}),s=n(()=>l.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":c.value}:{"aria-hidden":"true"});function p(w=300){const V=C;return C=Math.max(0,w)||0,r++,r>1?(V===0&&w>0?m():u!==null&&V>0&&w<=0&&(clearTimeout(u),u=null),r):(u!==null&&clearTimeout(u),o("start"),c.value=0,u=setTimeout(()=>{u=null,v.value=!0,w>0&&m()},l._value===!0?500:1),l._value!==!0&&(l.value=!0,v.value=!1),r)}function M(w){return r>0&&(c.value=qt(c.value,w)),r}function y(){if(r=Math.max(0,r-1),r>0)return r;u!==null&&(clearTimeout(u),u=null),o("stop");const w=()=>{v.value=!0,c.value=100,u=setTimeout(()=>{u=null,l.value=!1},1e3)};return c.value===0?u=setTimeout(w,1):w(),r}function m(){c.value<100&&(u=setTimeout(()=>{u=null,M(),m()},C))}let D;return Te(()=>{e.skipHijack!==!0&&(D=!0,Vt({start:p,stop:y,hijackFilter:n(()=>e.hijackFilter||null)}))}),Se(()=>{u!==null&&clearTimeout(u),D===!0&&Tt(p)}),Object.assign(i,{start:p,stop:y,increment:M}),()=>A("div",{class:L.value,style:f.value,...s.value})}}),xe=150,Ae=qe({name:"QDrawer",inheritAttrs:!1,props:{...lt,...ot,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...nt,"onLayout","miniState"],setup(e,{slots:o,emit:i,attrs:c}){const l=Ve(),{proxy:{$q:v}}=l,r=ut(e,v),{preventBodyScroll:u}=ft(),{registerTimeout:C,removeTimeout:L}=rt(),a=it(vt,ue);if(a===ue)return console.error("QDrawer needs to be child of QLayout"),ue;let g,f=null,s;const p=b(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),M=n(()=>e.mini===!0&&p.value!==!0),y=n(()=>M.value===!0?e.miniWidth:e.width),m=b(e.showIfAbove===!0&&p.value===!1?!0:e.modelValue===!0),D=n(()=>e.persistent!==!0&&(p.value===!0||Ie.value===!0));function w(t,d){if(We(),t!==!1&&a.animate(),$(0),p.value===!0){const B=a.instances[R.value];B!==void 0&&B.belowBreakpoint===!0&&B.hide(!1),F(1),a.isContainer.value!==!0&&u(!0)}else F(0),t!==!1&&le(!1);C(()=>{t!==!1&&le(!0),d!==!0&&i("show",t)},xe)}function V(t,d){Pe(),t!==!1&&a.animate(),F(0),$(O.value*y.value),oe(),d!==!0?C(()=>{i("hide",t)},xe):L()}const{show:J,hide:H}=st({showing:m,hideOnRouteChange:D,handleShow:w,handleHide:V}),{addToHistory:We,removeFromHistory:Pe}=dt(m,H,D),N={belowBreakpoint:p,hide:H},T=n(()=>e.side==="right"),O=n(()=>(v.lang.rtl===!0?-1:1)*(T.value===!0?1:-1)),ce=b(0),j=b(!1),Z=b(!1),ve=b(y.value*O.value),R=n(()=>T.value===!0?"left":"right"),ee=n(()=>m.value===!0&&p.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:y.value:0),te=n(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(T.value?"R":"L")!==-1||v.platform.is.ios===!0&&a.isContainer.value===!0),Q=n(()=>e.overlay===!1&&m.value===!0&&p.value===!1),Ie=n(()=>e.overlay===!0&&m.value===!0&&p.value===!1),Ue=n(()=>"fullscreen q-drawer__backdrop"+(m.value===!1&&j.value===!1?" hidden":"")),Ee=n(()=>({backgroundColor:`rgba(0,0,0,${ce.value*.4})`})),fe=n(()=>T.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Ne=n(()=>T.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Re=n(()=>{const t={};return a.header.space===!0&&fe.value===!1&&(te.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&Ne.value===!1&&(te.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),Xe=n(()=>{const t={width:`${y.value}px`,transform:`translateX(${ve.value}px)`};return p.value===!0?t:Object.assign(t,Re.value)}),Ke=n(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Ye=n(()=>`q-drawer q-drawer--${e.side}`+(Z.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(j.value===!0?" no-transition":m.value===!0?"":" q-layout--prevent-focus")+(p.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${M.value===!0?"mini":"standard"}`+(te.value===!0||Q.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(fe.value===!0?" q-drawer--top-padding":""))),Ge=n(()=>{const t=v.lang.rtl===!0?e.side:R.value;return[[K,tt,void 0,{[t]:!0,mouse:!0}]]}),Je=n(()=>{const t=v.lang.rtl===!0?R.value:e.side;return[[K,me,void 0,{[t]:!0,mouse:!0}]]}),Ze=n(()=>{const t=v.lang.rtl===!0?R.value:e.side;return[[K,me,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function ae(){at(p,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}x(p,t=>{t===!0?(g=m.value,m.value===!0&&H(!1)):e.overlay===!1&&e.behavior!=="mobile"&&g!==!1&&(m.value===!0?($(0),F(0),oe()):J(!1))}),x(()=>e.side,(t,d)=>{a.instances[d]===N&&(a.instances[d]=void 0,a[d].space=!1,a[d].offset=0),a.instances[t]=N,a[t].size=y.value,a[t].space=Q.value,a[t].offset=ee.value}),x(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ae()}),x(()=>e.behavior+e.breakpoint,ae),x(a.isContainer,t=>{m.value===!0&&u(t!==!0),t===!0&&ae()}),x(a.scrollbarWidth,()=>{$(m.value===!0?0:void 0)}),x(ee,t=>{z("offset",t)}),x(Q,t=>{i("onLayout",t),z("space",t)}),x(T,()=>{$()}),x(y,t=>{$(),ne(e.miniToOverlay,t)}),x(()=>e.miniToOverlay,t=>{ne(t,y.value)}),x(()=>v.lang.rtl,()=>{$()}),x(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(et(),a.animate())}),x(M,t=>{i("miniState",t)});function $(t){t===void 0?he(()=>{t=m.value===!0?0:y.value,$(O.value*t)}):(a.isContainer.value===!0&&T.value===!0&&(p.value===!0||Math.abs(t)===y.value)&&(t+=O.value*a.scrollbarWidth.value),ve.value=t)}function F(t){ce.value=t}function le(t){const d=t===!0?"remove":a.isContainer.value!==!0?"add":"";d!==""&&document.body.classList[d]("q-body--drawer-toggle")}function et(){f!==null&&clearTimeout(f),l.proxy&&l.proxy.$el&&l.proxy.$el.classList.add("q-drawer--mini-animate"),Z.value=!0,f=setTimeout(()=>{f=null,Z.value=!1,l&&l.proxy&&l.proxy.$el&&l.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function tt(t){if(m.value!==!1)return;const d=y.value,B=W(t.distance.x,0,d);if(t.isFinal===!0){B>=Math.min(75,d)===!0?J():(a.animate(),F(0),$(O.value*d)),j.value=!1;return}$((v.lang.rtl===!0?T.value!==!0:T.value)?Math.max(d-B,0):Math.min(0,B-d)),F(W(B/d,0,1)),t.isFirst===!0&&(j.value=!0)}function me(t){if(m.value!==!0)return;const d=y.value,B=t.direction===e.side,X=(v.lang.rtl===!0?B!==!0:B)?W(t.distance.x,0,d):0;if(t.isFinal===!0){Math.abs(X)<Math.min(75,d)===!0?(a.animate(),F(1),$(0)):H(),j.value=!1;return}$(O.value*X),F(W(1-X/d,0,1)),t.isFirst===!0&&(j.value=!0)}function oe(){u(!1),le(!0)}function z(t,d){a.update(e.side,t,d)}function at(t,d){t.value!==d&&(t.value=d)}function ne(t,d){z("size",t===!0?e.miniWidth:d)}return a.instances[e.side]=N,ne(e.miniToOverlay,y.value),z("space",Q.value),z("offset",ee.value),e.showIfAbove===!0&&e.modelValue!==!0&&m.value===!0&&e["onUpdate:modelValue"]!==void 0&&i("update:modelValue",!0),Te(()=>{i("onLayout",Q.value),i("miniState",M.value),g=e.showIfAbove===!0;const t=()=>{(m.value===!0?w:V)(!1,!0)};if(a.totalWidth.value!==0){he(t);return}s=x(a.totalWidth,()=>{s(),s=void 0,m.value===!1&&e.showIfAbove===!0&&p.value===!1?J(!1):t()})}),Se(()=>{s!==void 0&&s(),f!==null&&(clearTimeout(f),f=null),m.value===!0&&oe(),a.instances[e.side]===N&&(a.instances[e.side]=void 0,z("size",0),z("offset",0),z("space",!1))}),()=>{const t=[];p.value===!0&&(e.noSwipeOpen===!1&&t.push(Le(A("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ge.value)),t.push(pe("div",{ref:"backdrop",class:Ue.value,style:Ee.value,"aria-hidden":"true",onClick:H},void 0,"backdrop",e.noSwipeBackdrop!==!0&&m.value===!0,()=>Ze.value)));const d=M.value===!0&&o.mini!==void 0,B=[A("div",{...c,key:""+d,class:[Ke.value,c.class]},d===!0?o.mini():ct(o.default))];return e.elevated===!0&&m.value===!0&&B.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(pe("aside",{ref:"content",class:Ye.value,style:Xe.value},B,"contentclose",e.noSwipeClose!==!0&&p.value===!0,()=>Je.value)),A("div",{class:"q-drawer-container"},t)}}}),Lt=U({__name:"FeedbackButton",setup(e){const o=G(),i=Fe();function c(){i.push({name:"feedback"})}return(l,v)=>(_(),q(He,{icon:"wd-message",onClick:c,"aria-label":"Open feedback form"},{default:k(()=>[mt(o).screen.xs?S("",!0):(_(),q(xt,{key:0,anchor:"center left",self:"center right"},{default:k(()=>[ht("Send feedback.")]),_:1}))]),_:1}))}}),ke=E(Lt,[["__file","FeedbackButton.vue"]]),Ft={class:"text-primary-100 absolute-top z-max q-pa-xs",style:{width:"50px"}},zt={style:{top:"-20px",right:"50px"},class:"text-primary-100 absolute-top-right z-top q-pa-xs"},Ot={style:{"padding-top":"0px"},class:"background--blur scroll shadow-2 fit"},_e=50,Be=105,jt=U({__name:"MapContent",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:ze(["close"],["update:modelValue"]),setup(e){const o=G(),i=Oe(e,"modelValue"),c=n(()=>o.screen.lt.md),l=b(window.innerHeight*.4),v=b(window.innerHeight-_e),r=b(l.value),u=n(()=>r.value+(v.value-r.value)/2),C=n(()=>a.value?"wd-arrow-up-down":l.value<u.value?"wd-arrowhead-up":"wd-arrowhead-down");function L(){l.value<u.value?l.value=v.value:l.value=r.value}const a=b(!1),g=f=>{if(!(f&&f.evt&&f.delta))return;a.value=f.isFinal!==!0;const s=f.evt.view?f.evt.view?.innerHeight:600;f.direction=="up"&&(l.value<=s-150?l.value-=f.delta.y:l.value=s-_e),f.direction=="down"&&(l.value>=Be?l.value-=f.delta.y:l.value=Be),f.isFinal&&(l.value<u.value?r.value=l.value:v.value=l.value)};return(f,s)=>{const p=je("router-view");return _(),P(pt,null,[c.value?S("",!0):(_(),q(Ae,{key:0,modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=M=>i.value=M),side:"right",width:400,breakpoint:0,class:"shadow-2"},{default:k(()=>[re("div",Ft,[h(ie,{flat:"",round:"",dense:"",icon:"wd-close",class:"text-primary-900",size:"lg",onClick:s[0]||(s[0]=M=>f.$emit("close","landscape"))})]),h(p,{name:"content"})]),_:1},8,["modelValue"])),h(kt,{class:"text-black fixed-bottom"},{default:k(()=>[i.value&&c.value?(_(),P("div",{key:0,style:De({"max-height":l.value+"px",height:l.value+"px","padding-top":"0px"})},[re("div",zt,[Le(h(ie,{round:"",dense:"",unelevated:"",color:"accent-100",icon:C.value,size:"md",class:"text-primary-700",onClick:L},null,8,["icon"]),[[K,g,void 0,{vertical:!0,prevent:!0,mouse:!0}]]),h(ie,{round:"",dense:"",unelevated:"",color:"accent-100",icon:"wd-close",class:"q-ml-md text-primary-700",size:"md",onClick:s[2]||(s[2]=M=>f.$emit("close","portrait"))})]),re("div",Ot,[h(p,{name:"content"})])],4)):S("",!0)]),_:1})],64)}}}),Dt=E(jt,[["__file","MapContent.vue"]]),Ce="wd-menu",Me="wd-menu-arrow",Ht=U({__name:"MenuButton",props:ze({side:{default:"left"},function:{default:"both"},mobile:{type:Boolean,default:!1},desktop:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=Oe(e,"modelValue"),i=e,c=G(),l=n(()=>c.screen.xs),v=n(()=>o.value?"primary-300":"primary-100"),r=n(()=>o.value?"close menu":"open menu"),u=n(()=>i.function=="open"?Ce:i.function=="close"||o.value?Me:Ce),C=n(()=>!i.mobile&&!i.desktop||i.mobile&&l.value?!0:!!(i.desktop&&!l.value));return(L,a)=>C.value?(_(),q(He,{key:0,color:v.value,icon:u.value,class:gt({"rotate-180":i.side=="right"}),"aria-label":r.value,onClick:a[0]||(a[0]=g=>o.value=!o.value)},null,8,["color","icon","class","aria-label"])):S("",!0)}}),se=E(Ht,[["__file","MenuButton.vue"]]),Qt={class:"text-h4"},At={key:0,class:"text-black text-weight-medium"},Wt=U({__name:"WodoreLogo",props:{icon:{type:Boolean,default:!1},text:{type:Boolean,default:!1},textColorLeft:{default:"black"},textColorRight:{default:"accent"},logoPath:{default:"/logos/wodore_mobile.svg"}},setup(e){const o=e,i=n(()=>!o.icon&&!o.text?!0:o.icon),c=n(()=>!o.icon&&!o.text?!0:o.text);return(l,v)=>(_(),P("span",Qt,[c.value?(_(),P("span",At,"wo")):S("",!0),i.value?(_(),q(bt,{key:1,style:{transform:"translateY(-4px)"},name:"img:"+o.logoPath},null,8,["name"])):S("",!0),c.value?(_(),P("span",{key:2,style:De({"margin-left":o.icon?0:"3pt"}),class:"text-accent text-weight-regular"},"dore",4)):S("",!0)]))}}),$e=E(Wt,[["__file","WodoreLogo.vue"]]),Pt=U({__name:"MainLayout",setup(e){const o=G();function i(a){return!/^.*timetable.search.ch.*/.test(a)}const c=n(()=>o.screen.xs),l=b(!1),v=b(!0),r=b(!1),u=yt(),C=Fe();ge(()=>{r.value=u.meta?.dialog}),ge(()=>{v.value=u.meta?.content});function L(a){console.debug(`Closed content in ${a} mode.`),C.push({name:"map",hash:u.hash,query:u.query})}return(a,g)=>{const f=je("router-view");return _(),q(_t,{view:"hHh LpR lFf",class:"overflow-hidden"},{default:k(()=>[h(St,{color:"accent","hijack-filter":i}),h(Bt,{class:"text-white shadow-6 app-header"},{default:k(()=>[h(ye,null,{default:k(()=>[h(se,{desktop:"",modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=s=>l.value=s)},null,8,["modelValue"]),h(we,null,{default:k(()=>[h($e,{class:"text-h4",text:!c.value,icon:""},null,8,["text"])]),_:1}),c.value?S("",!0):(_(),q(ke,{key:0})),h(wt,{modelValue:r.value,"onUpdate:modelValue":g[1]||(g[1]=s=>r.value=s),"no-backdrop-dismiss":"",persistent:"",maximized:c.value,"backdrop-filter":"blur(3px) saturate(180%) grayscale(60%)"},{default:k(()=>[h(f,{name:"dialog"},{default:k(({Component:s})=>[(_(),q(be(s)))]),_:1})]),_:1},8,["modelValue","maximized"]),h(se,{mobile:"",function:"open",side:"right",modelValue:l.value,"onUpdate:modelValue":g[2]||(g[2]=s=>l.value=s)},null,8,["modelValue"])]),_:1})]),_:1}),h(Ae,{modelValue:l.value,"onUpdate:modelValue":g[4]||(g[4]=s=>l.value=s),side:c.value?"right":"left",width:200,breakpoint:610,class:"shadow-2"},{default:k(()=>[c.value?(_(),q(ye,{key:0,class:"bg-primary-600"},{default:k(()=>[h(we,null,{default:k(()=>[h($e,{text:"",class:"text-h5"})]),_:1}),h(ke,{size:"md"}),h(se,{mobile:"",side:"right",modelValue:l.value,"onUpdate:modelValue":g[3]||(g[3]=s=>l.value=s)},null,8,["modelValue"])]),_:1})):S("",!0),h(f,{name:"menu"})]),_:1},8,["modelValue","side"]),h(Ct,null,{default:k(()=>[h(f,null,{default:k(({Component:s})=>[(_(),q(be(s)))]),_:1})]),_:1}),h(Dt,{onClose:L,modelValue:v.value,"onUpdate:modelValue":g[5]||(g[5]=s=>v.value=s)},null,8,["modelValue"])]),_:1})}}}),Xt=E(Pt,[["__file","MainLayout.vue"]]);export{Xt as default};
