import{c as q,k as P,r as b,g as j,N as A,n as W,o as O,h as S,a7 as X,m as H,au as Y,w as Z,aC as N,V as ee,aD as te,aE as ae,I as D,q as oe,aF as ne,aG as le,d as ie,ae as re,a9 as B,aa as E,ab as y,aH as se,f as u,aI as ue,aJ as L,aK as $,am as Q,al as ce,aL as de,F as me,ad as T,ah as fe,aM as ve,aN as ge,aO as he,a8 as Se}from"./index-DAawzX9R.js";import{u as be}from"./use-quasar-CvibudSN.js";const ye={ratio:[String,Number]};function _e(e,v){return q(()=>{const s=Number(e.ratio||(v!==void 0?v.value:void 0));return isNaN(s)!==!0&&s>0?{paddingBottom:`${100/s}%`}:null})}const pe=1.7778,xe=P({name:"QImg",props:{...ye,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:pe},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:v,emit:s}){const h=b(e.initialRatio),l=_e(e,h),i=j(),{registerTimeout:g,removeTimeout:_}=A(),{registerTimeout:x,removeTimeout:k}=A(),p=q(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),m=q(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),o=[b(null),b(p.value)],t=b(0),r=b(!1),f=b(!1),F=q(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),V=q(()=>({width:e.width,height:e.height})),z=q(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),n=q(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function c(){if(k(),e.loadingShowDelay===0){r.value=!0;return}x(()=>{r.value=!0},e.loadingShowDelay)}function d(){k(),r.value=!1}function I({target:a}){N(i)===!1&&(_(),h.value=a.naturalHeight===0?.5:a.naturalWidth/a.naturalHeight,w(a,1))}function w(a,C){C===1e3||N(i)===!0||(a.complete===!0?K(a):g(()=>{w(a,C+1)},50))}function K(a){N(i)!==!0&&(t.value=t.value^1,o[t.value].value=null,d(),a.getAttribute("__qerror")!=="true"&&(f.value=!1),s("load",a.currentSrc||a.src))}function G(a){_(),d(),f.value=!0,o[t.value].value=m.value,o[t.value^1].value=p.value,s("error",a)}function U(a){const C=o[a].value,R={key:"img_"+a,class:z.value,style:n.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...C};return t.value===a?Object.assign(R,{class:R.class+"current",onLoad:I,onError:G}):R.class+="loaded",S("div",{class:"q-img__container absolute-full",key:"img"+a},S("img",R))}function J(){return r.value===!1?S("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},H(v[f.value===!0?"error":"default"])):S("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},v.loading!==void 0?v.loading():e.noSpinner===!0?void 0:[S(Y,{color:e.spinnerColor,size:e.spinnerSize})])}{let a=function(){Z(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,C=>{_(),f.value=!1,C===null?(d(),o[t.value^1].value=p.value):c(),o[t.value].value=C},{immediate:!0})};W.value===!0?O(a):a()}return()=>{const a=[];return l.value!==null&&a.push(S("div",{key:"filler",style:l.value})),o[0].value!==null&&a.push(U(0)),o[1].value!==null&&a.push(U(1)),a.push(S(X,{name:"q-transition--fade"},J)),S("div",{key:"main",class:F.value,style:V.value,role:"img","aria-label":e.alt},a)}}}),ke=S("div",{class:"q-space"}),Ce=P({name:"QSpace",setup(){return()=>ke}}),qe=P({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:v,emit:s}){const h=j(),l=b(null);let i=0;const g=[];function _(t){const r=typeof t=="boolean"?t:e.noErrorFocus!==!0,f=++i,F=(n,c)=>{s("validation"+(n===!0?"Success":"Error"),c)},V=n=>{const c=n.validate();return typeof c.then=="function"?c.then(d=>({valid:d,comp:n}),d=>({valid:!1,comp:n,err:d})):Promise.resolve({valid:c,comp:n})};return(e.greedy===!0?Promise.all(g.map(V)).then(n=>n.filter(c=>c.valid!==!0)):g.reduce((n,c)=>n.then(()=>V(c).then(d=>{if(d.valid===!1)return Promise.reject(d)})),Promise.resolve()).catch(n=>[n])).then(n=>{if(n===void 0||n.length===0)return f===i&&F(!0),!0;if(f===i){const{comp:c,err:d}=n[0];if(d!==void 0&&console.error(d),F(!1,c),r===!0){const I=n.find(({comp:w})=>typeof w.focus=="function"&&N(w.$)===!1);I!==void 0&&I.comp.focus()}}return!1})}function x(){i++,g.forEach(t=>{typeof t.resetValidation=="function"&&t.resetValidation()})}function k(t){t!==void 0&&D(t);const r=i+1;_().then(f=>{r===i&&f===!0&&(e.onSubmit!==void 0?s("submit",t):t!==void 0&&t.target!==void 0&&typeof t.target.submit=="function"&&t.target.submit())})}function p(t){t!==void 0&&D(t),s("reset"),oe(()=>{x(),e.autofocus===!0&&e.noResetFocus!==!0&&m()})}function m(){ne(()=>{if(l.value===null)return;const t=l.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||l.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||l.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(l.value.querySelectorAll("[tabindex]"),r=>r.tabIndex!==-1);t?.focus({preventScroll:!0})})}ee(le,{bindComponent(t){g.push(t)},unbindComponent(t){const r=g.indexOf(t);r!==-1&&g.splice(r,1)}});let o=!1;return te(()=>{o=!0}),ae(()=>{o===!0&&e.autofocus===!0&&m()}),O(()=>{e.autofocus===!0&&m()}),Object.assign(h.proxy,{validate:_,resetValidation:x,submit:k,reset:p,focus:m,getValidationComponents:()=>g}),()=>S("form",{class:"q-form",ref:l,onSubmit:k,onReset:p},H(v.default))}}),M=e=>(ge("data-v-9e1b1e24"),e=e(),he(),e),we=M(()=>L("div",{class:"card-header absolute-bottom text-white text-h5"},null,-1)),Fe=M(()=>L("div",{class:"absolute-bottom text-accent-400 text-h4 text-center card-header__text"}," Feedback ",-1)),Ve={class:"col no-wrap items-center"},Ie={class:"q-gutter-md q-pt-md"},Re=ie({__name:"FeedbackForm",setup(e){const v=be(),s=re(),h=b(""),l=b([]),i=b("");function g(){console.debug(`Submitted form for '${h.value}'`,i),s.go(-1),v.notify({color:"positive",textColor:"black",icon:"eva-checkmark-circle",message:"Submitted"}),x()}function _(){h.value||i.value?v.dialog({dark:!0,title:"Confirm",message:"Do you want to close it and dismiss the data?",cancel:!0,persistent:!0}).onOk(()=>{s.go(-1)}):s.go(-1)}function x(){h.value="",i.value=""}function k(){const m=l.value.length,o=m>0?l.value[m-1].id+1:0;console.log(l.value),console.log(o),l.value.push({value:"",id:o,placeholder:`URL ${o+1}`})}function p(m){l.value.splice(m,1)}return(m,o)=>(B(),E(se,{class:"card",style:{"min-width":"400px",width:"500px","max-width":"700px"}},{default:y(()=>[u(qe,{onSubmit:g,onReset:x,class:"fit"},{default:y(()=>[u(xe,{src:"/images/mailbox_blue_header.webp"},{default:y(()=>[we,Fe]),_:1}),u(ue,{style:{"min-height":"200px",height:"500px","max-height":"600px"},class:"scroll"},{default:y(()=>[L("div",Ve,[L("div",Ie,[u($,{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=t=>h.value=t),outlined:"",placeholder:"name@domain.com",type:"email"},{prepend:y(()=>[u(Q,{name:"eva-at"})]),_:1},8,["modelValue"]),u($,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=t=>i.value=t),placeholder:"Feedback Text",outlined:"",type:"textarea"},{prepend:y(()=>[u(Q,{name:"eva-file-text-outline"})]),_:1},8,["modelValue"]),(B(!0),ce(me,null,de(l.value,(t,r)=>(B(),E($,{key:t.id,modelValue:t.value,"onUpdate:modelValue":f=>t.value=f,dense:"",outlined:"",placeholder:t.placeholder,type:"url"},{prepend:y(()=>[u(Q,{name:"eva-link"})]),append:y(()=>[u(Q,{name:"eva-close",onClick:f=>p(r),class:"cursor-pointer"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]))),128)),l.value.length<4?(B(),E(T,{key:0,onClick:o[2]||(o[2]=t=>k()),color:"black",label:"URL",flat:"",icon:"eva-plus-square-outline"})):fe("",!0)])])]),_:1}),u(ve,null,{default:y(()=>[u(T,{label:"Close",color:"secondary-700",flat:"",onClick:o[3]||(o[3]=t=>_()),class:"q-ml-sm"}),u(T,{label:"Reset",type:"reset",color:"secondary-700",flat:"",class:"q-ml-sm"}),u(Ce),u(T,{label:"Submit",flat:"",type:"submit",color:"accent"})]),_:1})]),_:1})]),_:1}))}}),Te=Se(Re,[["__scopeId","data-v-9e1b1e24"],["__file","FeedbackForm.vue"]]);export{Te as default};
